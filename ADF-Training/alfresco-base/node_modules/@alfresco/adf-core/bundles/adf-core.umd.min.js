!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/material/core"),require("moment"),require("moment-es6"),require("rxjs"),require("@alfresco/js-api"),require("@angular/common/http"),require("rxjs/operators"),require("@alfresco/adf-extensions"),require("@angular/common"),require("@ngx-translate/core"),require("@mat-datetimepicker/core"),require("@angular/material/autocomplete"),require("@angular/material/button"),require("@angular/material/card"),require("@angular/material/checkbox"),require("@angular/material/chips"),require("@angular/material/datepicker"),require("@angular/material/dialog"),require("@angular/material/expansion"),require("@angular/material/grid-list"),require("@angular/material/icon"),require("@angular/material/input"),require("@angular/material/list"),require("@angular/material/menu"),require("@angular/material/progress-bar"),require("@angular/material/progress-spinner"),require("@angular/material/radio"),require("@angular/material/select"),require("@angular/material/sidenav"),require("@angular/material/slide-toggle"),require("@angular/material/snack-bar"),require("@angular/material/table"),require("@angular/material/tabs"),require("@angular/material/toolbar"),require("@angular/material/tooltip"),require("@angular/material/badge"),require("@angular/router"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("@angular/animations"),require("@angular/cdk/keycodes"),require("@angular/cdk/a11y"),require("@angular/platform-browser"),require("minimatch"),require("cropperjs"),require("@angular/forms"),require("@angular/flex-layout"),require("@mat-datetimepicker/moment"),require("@angular/cdk/layout"),require("@angular/core/testing"),require("@angular/platform-browser/animations"),require("@angular/router/testing"),require("@angular/cdk/bidi")):"function"==typeof define&&define.amd?define("@alfresco/adf-core",["exports","@angular/core","@angular/material/core","moment","moment-es6","rxjs","@alfresco/js-api","@angular/common/http","rxjs/operators","@alfresco/adf-extensions","@angular/common","@ngx-translate/core","@mat-datetimepicker/core","@angular/material/autocomplete","@angular/material/button","@angular/material/card","@angular/material/checkbox","@angular/material/chips","@angular/material/datepicker","@angular/material/dialog","@angular/material/expansion","@angular/material/grid-list","@angular/material/icon","@angular/material/input","@angular/material/list","@angular/material/menu","@angular/material/progress-bar","@angular/material/progress-spinner","@angular/material/radio","@angular/material/select","@angular/material/sidenav","@angular/material/slide-toggle","@angular/material/snack-bar","@angular/material/table","@angular/material/tabs","@angular/material/toolbar","@angular/material/tooltip","@angular/material/badge","@angular/router","@angular/cdk/overlay","@angular/cdk/portal","@angular/animations","@angular/cdk/keycodes","@angular/cdk/a11y","@angular/platform-browser","minimatch","cropperjs","@angular/forms","@angular/flex-layout","@mat-datetimepicker/moment","@angular/cdk/layout","@angular/core/testing","@angular/platform-browser/animations","@angular/router/testing","@angular/cdk/bidi"],t):t(((e=e||self).alfresco=e.alfresco||{},e.alfresco["adf-core"]={}),e.ng.core,e.ng.material.core,e.moment,e["moment-es6"],e.rxjs,e["@alfresco/js-api"],e.ng.common.http,e.rxjs.operators,e["@alfresco/adf-extensions"],e.ng.common,e["@ngx-translate/core"],e["@mat-datetimepicker/core"],e.ng.material.autocomplete,e.ng.material.button,e.ng.material.card,e.ng.material.checkbox,e.ng.material.chips,e.ng.material.datepicker,e.ng.material.dialog,e.ng.material.expansion,e.ng.material.gridList,e.ng.material.icon,e.ng.material.input,e.ng.material.list,e.ng.material.menu,e.ng.material.progressBar,e.ng.material.progressSpinner,e.ng.material.radio,e.ng.material.select,e.ng.material.sidenav,e.ng.material.slideToggle,e.ng.material.snackBar,e.ng.material.table,e.ng.material.tabs,e.ng.material.toolbar,e.ng.material.tooltip,e.ng.material.badge,e.ng.router,e.ng.cdk.overlay,e.ng.cdk.portal,e.ng.animations,e.ng.cdk.keycodes,e.ng.cdk.a11y,e.ng.platformBrowser,e["minimatch-browser"],e.cropperjs,e.ng.forms,e.ng.flexLayout,e["@mat-datetimepicker/moment"],e.ng.cdk.layout,e.ng.core.testing,e.ng.platformBrowser.animations,e.ng.router.testing,e.ng.cdk.bidi)}(this,(function(e,t,n,i,a,o,r,l,s,d,p,u,c,f,m,h,g,y,v,b,w,I,E,C,x,S,T,A,O,R,D,P,_,L,F,k,V,N,M,U,j,B,z,$,H,q,Y,G,W,X,K,J,Q,Z,ee){"use strict";a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,Y=Y&&Object.prototype.hasOwnProperty.call(Y,"default")?Y.default:Y;
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var te=function(){this.url="https://github.com/Alfresco/alfresco-ng2-components/commits/",this.version="",this.application=""};te.decorators=[{type:t.Component,args:[{selector:"adf-about-github-link",template:'<div class="adf-github-link-container">\n    <div>\n        <h3 data-automation-id="adf-github-source-code-title">{{ \'ABOUT.SOURCE_CODE.TITLE\' | translate }}</h3>\n        <mat-card>\n            <h3 data-automation-id="adf-github-app-title">{{application}}</h3>\n            <p *ngIf="version" data-automation-id="adf-github-version">{{ \'ABOUT.VERSION\' | translate }}: {{ version }}</p>\n\n            <div *ngIf="url">\n                <small>{{ \'ABOUT.SOURCE_CODE.DESCRIPTION\' | translate }}</small>\n                <div data-automation-id="adf-github-url">\n                    <a [href]="url" target="_blank">{{url}}</a>\n                </div>\n            </div>\n        </mat-card>\n    </div>\n</div>\n',encapsulation:t.ViewEncapsulation.None}]}],te.ctorParameters=function(){return[]},te.propDecorators={url:[{type:t.Input}],version:[{type:t.Input}],application:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ne=function(){function e(){}return e.getValue=function(e,t){if(e){var n=t.split(".");t="";do{var i=e[t+=n.shift()];void 0===i||"object"!=typeof i&&n.length?n.length?t+=".":e=void 0:(e=i,t="")}while(n.length);return e}},e.merge=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i={};return t.forEach((function(t){Object.keys(t).forEach((function(n){n in i&&Array.isArray(i[n])?i[n]=i[n].concat(t[n]):n in i&&"object"==typeof i[n]?i[n]=e.merge(i[n],t[n]):i[n]=t[n]}))})),i},e}(),ie=function(e,t){return(ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ie(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function oe(e,t,n,i){return new(n||(n=Promise))((function(a,o){function r(e){try{s(i.next(e))}catch(e){o(e)}}function l(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}s((i=i.apply(e,t||[])).next())}))}function re(e,t){var n,i,a,o,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(a=r.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){r=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(6===o[0]&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}Object.create;function le(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,a,o=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)r.push(i.value)}catch(e){a={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return r}function de(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(se(arguments[t]));return e}Object.create;for(
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var pe=function(){function e(){}return e.flatten=function(t){var n=t.createReader(),i=[];return new Promise((function(t){var a=[];!function o(){n.readEntries((function(n){n.length?(a.push(Promise.all(n.map((function(t){return t.isFile?new Promise((function(e){t.file((function(n){i.push({entry:t,file:n,relativeFolder:t.fullPath.replace(/\/[^\/]*$/,"")}),e()}))})):e.flatten(t).then((function(e){i.push.apply(i,de(e))}))})))),o()):Promise.all(a).then((function(){return t(i)}))}))}()}))},e.toFileArray=function(e){var t=[];if(e&&e.length>0)for(var n=0;n<e.length;n++)t.push(e[n]);return t},e}(),ue={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMMM Y",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM Y"}},ce=[],fe=1
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */;fe<=31;fe++)ce.push(String(fe));var me=function(e){function t(){var t=e.apply(this,de(arguments))||this;return t.localeData=a.localeData(),t}return ae(t,e),t.prototype.getYear=function(e){return e.year()},t.prototype.getMonth=function(e){return e.month()},t.prototype.getDate=function(e){return e.date()},t.prototype.getDayOfWeek=function(e){return e.day()},t.prototype.getMonthNames=function(e){switch(e){case"long":return this.localeData.months();case"short":return this.localeData.monthsShort();case"narrow":return this.localeData.monthsShort().map((function(e){return e[0]}));default:return[]}},t.prototype.getDateNames=function(){for(var e=[],t=1;t<=31;t++)e.push(String(t));return e},t.prototype.getDayOfWeekNames=function(e){switch(e){case"long":return this.localeData.weekdays();case"short":case"narrow":return this.localeData.weekdaysShort();default:return[]}},t.prototype.getYearName=function(e){return String(e.year())},t.prototype.getFirstDayOfWeek=function(){return this.localeData.firstDayOfWeek()},t.prototype.getNumDaysInMonth=function(e){return e.daysInMonth()},t.prototype.clone=function(e){var t=this.locale||"en";return e.clone().locale(t)},t.prototype.createDate=function(e,t,n){return a([e,t,n])},t.prototype.today=function(){var e=this.locale||"en";return a().locale(e)},t.prototype.parse=function(e,t){var n=this.locale||"en";if(e&&"string"==typeof e){var i=a(e,t,n,!0);if(i.isValid()||(i=a(e,this.overrideDisplayFormat,n,!0)),i.isValid()&&2001===i.year()&&-1===e.indexOf("2001")){var o=(new Date).getFullYear();i.set("year",o),i.isAfter(a())&&i.set("year",o-1)}return i}return e?a(e).locale(n):null},t.prototype.format=function(e,t){return e=this.clone(e),t=this.overrideDisplayFormat?this.overrideDisplayFormat:t,e&&e.format?e.format(t):""},t.prototype.addCalendarYears=function(e,t){return e.clone().add(t,"y")},t.prototype.addCalendarMonths=function(e,t){return e.clone().add(t,"M")},t.prototype.addCalendarDays=function(e,t){return e.clone().add(t,"d")},t.prototype.getISODateString=function(e){return e.toISOString()},t.prototype.setLocale=function(t){e.prototype.setLocale.call(this,t),this.localeData=a.localeData(t)},t.prototype.compareDate=function(e,t){return e.diff(t,"seconds",!0)},t.prototype.sameDate=function(t,n){return null==t?null==n:i.isMoment(t)?t.isSame(n):e.prototype.sameDate.call(this,t,n)},t.prototype.clampDate=function(e,t,n){return t&&e.isBefore(t)?t:n&&e.isAfter(n)?n:e},t.prototype.isDateInstance=function(e){var t=!1;return e&&(t=e._isAMomentObject),t},t.prototype.isValid=function(e){return e.isValid()},t.prototype.toIso8601=function(e){return this.clone(e).format()},t.prototype.fromIso8601=function(e){var t=this.locale||"en",n=a(e,a.ISO_8601).locale(t);return this.isValid(n)?n:null},t.prototype.invalid=function(){return a.invalid()},t}(n.DateAdapter);me.decorators=[{type:t.Injectable}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var he,ge,ye=function(){function e(e,t){if(void 0===t&&(t=!1),this.obj=e,this.isSelected=t,!e)throw new Error("Object source not found")}return e.prototype.getValue=function(e){return ne.getValue(this.obj,e)},e.prototype.hasValue=function(e){return void 0!==this.getValue(e)},e.prototype.imageErrorResolver=function(){return""},e}(),ve=function(e){this.key=e.key,this.type=e.type||"text",this.format=e.format,this.sortable=e.sortable,this.title=e.title,this.srTitle=e.srTitle,this.cssClass=e.cssClass,this.template=e.template,this.copyContent=e.copyContent,this.focus=e.focus,this.sortingKey=e.sortingKey,this.header=e.header},be=function(e,t){this.key=e,this.direction=t},we=function(){function e(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=[]),this._rows=[],this._columns=[],e&&e.length>0&&(this._rows=e.map((function(e){return new ye(e)}))),t&&t.length>0){this._columns=t.map((function(e){return new ve(e)}));var n=this._columns.filter((function(e){return e.sortable}));n.length>0&&this.sort(n[0].key,"asc")}this.rowsChanged=new o.Subject}return e.generateSchema=function(e){var t=[];if(e&&e.length){var n=e[0];if("object"==typeof n)for(var i in n)n.hasOwnProperty(i)&&t.push({type:"text",key:i,title:i,sortable:!1})}return t},e.prototype.getRows=function(){return this._rows},e.prototype.setRows=function(e){this._rows=e||[],this.sort(),this.rowsChanged.next(this._rows)},e.prototype.getColumns=function(){return this._columns},e.prototype.setColumns=function(e){this._columns=e||[]},e.prototype.getValue=function(e,t,n){if(!e)throw new Error("Row not found");if(!t)throw new Error("Column not found");if(n)return n(e,t);var i=e.getValue(t.key);return"icon"===t.type?e.getValue(t.key):i},e.prototype.getSorting=function(){return this._sorting},e.prototype.setSorting=function(e){this._sorting=e,e&&e.key&&this._rows.sort((function(t,n){var i=t.getValue(e.key);i=i?i instanceof Date?i.valueOf().toString():i.toString():"";var a=n.getValue(e.key);return a=a?a instanceof Date?a.valueOf().toString():a.toString():"","asc"===e.direction?i.localeCompare(a):a.localeCompare(i)}))},e.prototype.sort=function(e,t){var n=this._sorting||new be;e&&(n.key=e,n.direction=t||"asc"),this.setSorting(n)},e}();
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(he=e.AppConfigValues||(e.AppConfigValues={})).APP_CONFIG_LANGUAGES_KEY="languages",he.PROVIDERS="providers",he.OAUTHCONFIG="oauth2",he.ECMHOST="ecmHost",he.BASESHAREURL="baseShareUrl",he.BPMHOST="bpmHost",he.IDENTITY_HOST="identityHost",he.AUTHTYPE="authType",he.CONTEXTROOTECM="contextRootEcm",he.CONTEXTROOTBPM="contextRootBpm",he.ALFRESCO_REPOSITORY_NAME="alfrescoRepositoryName",he.LOG_LEVEL="logLevel",he.LOGIN_ROUTE="loginRoute",he.DISABLECSRF="disableCSRF",he.AUTH_WITH_CREDENTIALS="auth.withCredentials",he.APPLICATION="application",he.STORAGE_PREFIX="application.storagePrefix",he.NOTIFY_DURATION="notificationDefaultDuration",(ge=e.Status||(e.Status={})).INIT="init",ge.LOADING="loading",ge.LOADED="loaded";var Ie=function(){function t(t,n){var i=this;this.http=t,this.extensionService=n,this.config={application:{name:"Alfresco ADF Application"},ecmHost:"http://{hostname}{:port}/ecm",bpmHost:"http://{hostname}{:port}/bpm",logLevel:"silent"},this.status=e.Status.INIT,this.onLoadSubject=new o.Subject,this.onLoad=this.onLoadSubject.asObservable(),n.setup$.subscribe((function(e){i.onExtensionsLoaded(e)}))}return t.prototype.select=function(e){return this.onLoadSubject.pipe(s.map((function(t){return t[e]})),s.distinctUntilChanged())},t.prototype.get=function(e,t){var n=ne.getValue(this.config,e);if("string"==typeof n){var i=new Map;i.set("hostname",this.getLocationHostname()),i.set(":port",this.getLocationPort(":")),i.set("port",this.getLocationPort()),i.set("protocol",this.getLocationProtocol()),n=this.formatString(n,i)}return"object"==typeof n&&(n=JSON.parse(JSON.stringify(n).replace("{hostname}",this.getLocationHostname())),n=JSON.parse(JSON.stringify(n).replace("{:port}",this.getLocationPort(":"))),n=JSON.parse(JSON.stringify(n).replace("{protocol}",this.getLocationProtocol()))),void 0===n?t:n},t.prototype.getLocationProtocol=function(){return location.protocol},t.prototype.getLocationHostname=function(){return location.hostname},t.prototype.getLocationPort=function(e){return void 0===e&&(e=""),location.port?e+location.port:""},t.prototype.onLoaded=function(){this.onLoadSubject.next(this.config)},t.prototype.onDataLoaded=function(e){var t=this;this.config=Object.assign({},this.config,e||{}),this.onLoadSubject.next(this.config),this.extensionService.setup$.pipe(s.take(1)).subscribe((function(e){return t.onExtensionsLoaded(e)}))},t.prototype.onExtensionsLoaded=function(e){if(e){var t=e.appConfig;t&&(this.config=d.mergeObjects(this.config,t))}},t.prototype.load=function(){var t=this;return new Promise((function(n){return oe(t,void 0,void 0,(function(){var t,i=this;return re(this,(function(a){return t="app.config.json?v="+Date.now(),this.status===e.Status.INIT?(this.status=e.Status.LOADING,this.http.get(t).subscribe((function(t){i.status=e.Status.LOADED,i.onDataLoaded(t),n(i.config)}),(function(){n(i.config)}))):this.status===e.Status.LOADED?n(this.config):this.status===e.Status.LOADING&&this.onLoad.subscribe((function(){n(i.config)})),[2]}))}))}))},t.prototype.formatString=function(e,t){var n=e;return t.forEach((function(e,t){var i=new RegExp("{"+t+"}","gm");n=n.replace(i,e)})),n},t}();Ie.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Ie(t.ɵɵinject(l.HttpClient),t.ɵɵinject(d.ExtensionService))},token:Ie,providedIn:"root"}),Ie.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Ie.ctorParameters=function(){return[{type:l.HttpClient},{type:d.ExtensionService}]};var Ee=function(){function e(){this.memoryStore={},this.useLocalStorage=!1,this._prefix="",this.useLocalStorage=this.storageAvailable("localStorage")}return Object.defineProperty(e.prototype,"prefix",{get:function(){return this._prefix},set:function(e){this._prefix=e?e+"_":""},enumerable:!1,configurable:!0}),e.prototype.getItem=function(e){return this.useLocalStorage?localStorage.getItem(this.prefix+e):this.memoryStore.hasOwnProperty(this.prefix+e)?this.memoryStore[this.prefix+e]:null},e.prototype.setItem=function(e,t){this.useLocalStorage?localStorage.setItem(this.prefix+e,t):this.memoryStore[this.prefix+e]=t.toString()},e.prototype.clear=function(){this.useLocalStorage?localStorage.clear():this.memoryStore={}},e.prototype.removeItem=function(e){this.useLocalStorage?localStorage.removeItem(this.prefix+e):delete this.memoryStore[this.prefix+e]},e.prototype.hasItem=function(e){return this.useLocalStorage?!!localStorage.getItem(this.prefix+e):this.memoryStore.hasOwnProperty(e)},e.prototype.storageAvailable=function(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n,n),!0}catch(e){return!1}},e}();Ee.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Ee},token:Ee,providedIn:"root"}),Ee.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Ee.ctorParameters=function(){return[]};var Ce=function(){function t(e,t){this.appConfig=e,this.storageService=t,this.nodeUpdated=new o.Subject,this.alfrescoApiInitialized=new o.ReplaySubject(1),this.excludedErrorUrl=["api/enterprise/system/properties"]}return t.prototype.getInstance=function(){return this.alfrescoApi},t.prototype.load=function(){return oe(this,void 0,void 0,(function(){var t=this;return re(this,(function(n){switch(n.label){case 0:return[4,this.appConfig.load().then((function(){t.storageService.prefix=t.appConfig.get(e.AppConfigValues.STORAGE_PREFIX,""),t.initAlfrescoApi(),t.alfrescoApiInitialized.next(!0)}))];case 1:return n.sent(),[2]}}))}))},t.prototype.reset=function(){this.initAlfrescoApi()},t.prototype.initAlfrescoApi=function(){var t=Object.assign({},this.appConfig.get(e.AppConfigValues.OAUTHCONFIG,null));t&&(t.redirectUri=window.location.origin+window.location.pathname,t.redirectUriLogout=window.location.origin+window.location.pathname);var n=new r.AlfrescoApiConfig({provider:this.appConfig.get(e.AppConfigValues.PROVIDERS),hostEcm:this.appConfig.get(e.AppConfigValues.ECMHOST),hostBpm:this.appConfig.get(e.AppConfigValues.BPMHOST),authType:this.appConfig.get(e.AppConfigValues.AUTHTYPE,"BASIC"),contextRootBpm:this.appConfig.get(e.AppConfigValues.CONTEXTROOTBPM),contextRoot:this.appConfig.get(e.AppConfigValues.CONTEXTROOTECM),disableCsrf:this.appConfig.get(e.AppConfigValues.DISABLECSRF),withCredentials:this.appConfig.get(e.AppConfigValues.AUTH_WITH_CREDENTIALS,!1),domainPrefix:this.appConfig.get(e.AppConfigValues.STORAGE_PREFIX),oauth2:t});this.alfrescoApi&&this.isDifferentConfig(this.lastConfig,n)?(this.lastConfig=n,this.alfrescoApi.setConfig(n)):(this.lastConfig=n,this.alfrescoApi=new r.AlfrescoApi(n))},t.prototype.isDifferentConfig=function(e,t){return JSON.stringify(e)!==JSON.stringify(t)},t.prototype.isExcludedErrorListener=function(e){var t=e.replace(this.lastConfig.hostBpm+"/"+this.lastConfig.contextRootBpm,"");return this.excludedErrorUrl.includes(t)},t}();Ce.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Ce(t.ɵɵinject(Ie),t.ɵɵinject(Ee))},token:Ce,providedIn:"root"}),Ce.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Ce.ctorParameters=function(){return[{type:Ie},{type:Ee}]};var xe=function(){function e(){this.cookieEnabled=!1,!1===navigator.cookieEnabled&&(this.cookieEnabled=!1),this.setItem("test-cookie","test"),this.cookieEnabled=document.cookie.indexOf("test-cookie")>=0,this.deleteCookie("test-cookie")}return e.prototype.isEnabled=function(){return this.cookieEnabled},e.prototype.getItem=function(e){var t=new RegExp("(?:"+e+"|;s*"+e+")=(.*?)(?:;|$)","g").exec(document.cookie);return null===t?null:t[1]},e.prototype.setItem=function(e,t,n,i){void 0===n&&(n=null),void 0===i&&(i=null),document.cookie=e+"="+t+(n?";expires="+n.toUTCString():"")+(i?";path="+i:";path=/")},e.prototype.deleteCookie=function(e,t){void 0===t&&(t=null),document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"+(t?";path="+t:";path=/")},e.prototype.clear=function(){},e}();xe.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new xe},token:xe,providedIn:"root"}),xe.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],xe.ctorParameters=function(){return[]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t}(Number);Se.TRACE=5,Se.DEBUG=4,Se.INFO=3,Se.WARN=2,Se.ERROR=1,Se.SILENT=0;var Te=[{level:Se.TRACE,name:"TRACE"},{level:Se.DEBUG,name:"DEBUG"},{level:Se.INFO,name:"INFO"},{level:Se.WARN,name:"WARN"},{level:Se.ERROR,name:"ERROR"},{level:Se.SILENT,name:"SILENT"}],Ae=function(){function t(e){this.appConfig=e,this.onMessage=new o.Subject}return Object.defineProperty(t.prototype,"currentLogLevel",{get:function(){var t=this.appConfig.get(e.AppConfigValues.LOG_LEVEL);return t?this.getLogLevel(t):Se.TRACE},enumerable:!1,configurable:!0}),t.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Se.ERROR&&(this.messageBus(e,"ERROR"),console.error.apply(console,de([e],t)))},t.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Se.DEBUG&&(this.messageBus(e,"DEBUG"),console.debug.apply(console,de([e],t)))},t.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Se.INFO&&(this.messageBus(e,"INFO"),console.info.apply(console,de([e],t)))},t.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Se.TRACE&&(this.messageBus(e,"LOG"),console.log.apply(console,de([e],t)))},t.prototype.trace=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Se.TRACE&&(this.messageBus(e,"TRACE"),console.trace.apply(console,de([e],t)))},t.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Se.WARN&&(this.messageBus(e,"WARN"),console.warn.apply(console,de([e],t)))},t.prototype.assert=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.currentLogLevel!==Se.SILENT&&(this.messageBus(t,"ASSERT"),console.assert.apply(console,de([e,t],n)))},t.prototype.group=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel!==Se.SILENT&&console.group.apply(console,de([e],t))},t.prototype.groupEnd=function(){this.currentLogLevel!==Se.SILENT&&console.groupEnd()},t.prototype.getLogLevel=function(e){var t=Te.find((function(t){return t.name.toLocaleLowerCase()===e.toLocaleLowerCase()}));return t?t.level:5},t.prototype.messageBus=function(e,t){this.onMessage.next({text:e,type:t})},t}();Ae.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Ae(t.ɵɵinject(Ie))},token:Ae,providedIn:"root"}),Ae.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Ae.ctorParameters=function(){return[{type:Ie}]};var Oe=function(){function e(e){this.storageService=e}return e.prototype.decodeToken=function(e){var t=e.split(".");if(3!==t.length)throw new Error("JWT must have 3 parts");var n=this.urlBase64Decode(t[1]);if(!n)throw new Error("Cannot decode the token");return JSON.parse(n)},e.prototype.urlBase64Decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Illegal base64url string!")}return decodeURIComponent(escape(window.atob(t)))},e.prototype.getValueFromLocalAccessToken=function(e){return this.getValueFromToken(this.getAccessToken(),e)},e.prototype.getAccessToken=function(){return this.storageService.getItem(e.USER_ACCESS_TOKEN)},e.prototype.getValueFromToken=function(e,t){var n;e&&(n=this.decodeToken(e)[t]);return n},e.prototype.getRealmRoles=function(){var t=this.getValueFromLocalAccessToken(e.REALM_ACCESS);return t?t.roles:[]},e.prototype.getClientRoles=function(t){var n=this.getValueFromLocalAccessToken(e.RESOURCE_ACCESS)[t];return n?n.roles:[]},e.prototype.hasRealmRole=function(e){var t=!1;this.getAccessToken()&&(t=this.getRealmRoles().some((function(t){return t===e})));return t},e.prototype.hasRealmRoles=function(e){var t=this;return e.some((function(e){return t.hasRealmRole(e)}))},e.prototype.hasRealmRolesForClientRole=function(e,t){var n=this;return t.some((function(t){return n.hasClientRole(e,t)}))},e.prototype.hasClientRole=function(e,t){var n=!1;this.getAccessToken()&&(n=this.getClientRoles(e).some((function(e){return e===t})));return n},e}();Oe.USER_NAME="name",Oe.FAMILY_NAME="family_name",Oe.GIVEN_NAME="given_name",Oe.USER_EMAIL="email",Oe.USER_ACCESS_TOKEN="access_token",Oe.REALM_ACCESS="realm_access",Oe.RESOURCE_ACCESS="resource_access",Oe.USER_PREFERRED_USERNAME="preferred_username",Oe.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Oe(t.ɵɵinject(Ee))},token:Oe,providedIn:"root"}),Oe.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Oe.ctorParameters=function(){return[{type:Ee}]};var Re="ALFRESCO_REMEMBER_ME",De=function(){function t(e,t,n,i,a){var r=this;this.appConfig=e,this.storageService=t,this.alfrescoApi=n,this.cookie=i,this.logService=a,this.redirectUrl=null,this.bearerExcludedUrls=["auth/realms","resources/","assets/"],this.onLogin=new o.ReplaySubject(1),this.onLogout=new o.ReplaySubject(1),this.alfrescoApi.alfrescoApiInitialized.subscribe((function(){r.alfrescoApi.getInstance().reply("logged-in",(function(){r.onLogin.next()})),r.isKerberosEnabled()&&r.loadUserDetails()}))}return Object.defineProperty(t.prototype,"peopleApi",{get:function(){var e;return this._peopleApi=null!==(e=this._peopleApi)&&void 0!==e?e:new r.PeopleApi(this.alfrescoApi.getInstance()),this._peopleApi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"profileApi",{get:function(){var e;return this._profileApi=null!==(e=this._profileApi)&&void 0!==e?e:new r.UserProfileApi(this.alfrescoApi.getInstance()),this._profileApi},enumerable:!1,configurable:!0}),t.prototype.loadUserDetails=function(){var e=this,t=o.from(this.peopleApi.getPerson("-me-")),n=this.getBpmLoggedUser();this.isALLProvider()?o.forkJoin([t,n]).subscribe((function(){return e.onLogin.next()})):this.isECMProvider()?t.subscribe((function(){return e.onLogin.next()})):n.subscribe((function(){return e.onLogin.next()}))},t.prototype.isLoggedIn=function(){return!(!this.isOauth()&&this.cookie.isEnabled()&&!this.isRememberMeSet())&&this.alfrescoApi.getInstance().isLoggedIn()},t.prototype.isLoggedInWith=function(e){return"BPM"===e?this.isBpmLoggedIn():"ECM"===e?this.isEcmLoggedIn():this.isLoggedIn()},t.prototype.isKerberosEnabled=function(){return this.appConfig.get(e.AppConfigValues.AUTH_WITH_CREDENTIALS,!1)},t.prototype.isOauth=function(){return this.alfrescoApi.getInstance().isOauthConfiguration()},t.prototype.isPublicUrl=function(){return this.alfrescoApi.getInstance().isPublicUrl()},t.prototype.isECMProvider=function(){return this.alfrescoApi.getInstance().isEcmConfiguration()},t.prototype.isBPMProvider=function(){return this.alfrescoApi.getInstance().isBpmConfiguration()},t.prototype.isALLProvider=function(){return this.alfrescoApi.getInstance().isEcmBpmConfiguration()},t.prototype.login=function(t,n,i){var a=this;return void 0===i&&(i=!1),o.from(this.alfrescoApi.getInstance().login(t,n)).pipe(s.map((function(t){return a.saveRememberMeCookie(i),a.onLogin.next(t),{type:a.appConfig.get(e.AppConfigValues.PROVIDERS),ticket:t}})),s.catchError((function(e){return a.handleError(e)})))},t.prototype.ssoImplicitLogin=function(){this.alfrescoApi.getInstance().implicitLogin()},t.prototype.saveRememberMeCookie=function(e){var t=null;if(e){var n=(t=new Date).getTime()+2592e6;t.setTime(n)}this.cookie.setItem(Re,"1",t,null)},t.prototype.isRememberMeSet=function(){return null!==this.cookie.getItem(Re)},t.prototype.logout=function(){var e=this;return o.from(this.callApiLogout()).pipe(s.tap((function(t){return e.onLogout.next(t),t})),s.catchError((function(t){return e.handleError(t)})))},t.prototype.callApiLogout=function(){return this.alfrescoApi.getInstance()?this.alfrescoApi.getInstance().logout():Promise.resolve()},t.prototype.getTicketEcm=function(){return this.alfrescoApi.getInstance().getTicketEcm()},t.prototype.getTicketBpm=function(){return this.alfrescoApi.getInstance().getTicketBpm()},t.prototype.getTicketEcmBase64=function(){var e=this.alfrescoApi.getInstance().getTicketEcm();return e?"Basic "+btoa(e):null},t.prototype.isEcmLoggedIn=function(){return!(!this.isECMProvider()&&!this.isALLProvider())&&(!(!this.isOauth()&&this.cookie.isEnabled()&&!this.isRememberMeSet())&&this.alfrescoApi.getInstance().isEcmLoggedIn())},t.prototype.isBpmLoggedIn=function(){return!(!this.isBPMProvider()&&!this.isALLProvider())&&(!(!this.isOauth()&&this.cookie.isEnabled()&&!this.isRememberMeSet())&&this.alfrescoApi.getInstance().isBpmLoggedIn())},t.prototype.getEcmUsername=function(){return this.alfrescoApi.getInstance().getEcmUsername()},t.prototype.getBpmUsername=function(){return this.alfrescoApi.getInstance().getBpmUsername()},t.prototype.setRedirect=function(e){this.redirectUrl=e},t.prototype.getRedirect=function(){var t=this.appConfig.get(e.AppConfigValues.PROVIDERS);return this.hasValidRedirection(t)?this.redirectUrl.url:null},t.prototype.getBpmLoggedUser=function(){return o.from(this.profileApi.getProfile())},t.prototype.hasValidRedirection=function(e){return this.redirectUrl&&(this.redirectUrl.provider===e||this.hasSelectedProviderAll(e))},t.prototype.hasSelectedProviderAll=function(e){return this.redirectUrl&&("ALL"===this.redirectUrl.provider||"ALL"===e)},t.prototype.handleError=function(e){return this.logService.error("Error when logging in",e),o.throwError(e||"Server error")},t.prototype.getBearerExcludedUrls=function(){return this.bearerExcludedUrls},t.prototype.getToken=function(){return this.storageService.getItem(Oe.USER_ACCESS_TOKEN)},t.prototype.addTokenToHeader=function(e){var t=this;return new o.Observable((function(n){var i=e;i||(i=new l.HttpHeaders);try{var a=t.getToken();i=i.set("Authorization","bearer "+a),n.next(i),n.complete()}catch(e){n.error(e)}}))},t}();De.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new De(t.ɵɵinject(Ie),t.ɵɵinject(Ee),t.ɵɵinject(Ce),t.ɵɵinject(xe),t.ɵɵinject(Ae))},token:De,providedIn:"root"}),De.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],De.ctorParameters=function(){return[{type:Ie},{type:Ee},{type:Ce},{type:xe},{type:Ae}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Pe=function(e){e&&(this.edition=e.edition||null,this.majorVersion=e.majorVersion||null,this.revisionVersion=e.revisionVersion||null,this.minorVersion=e.minorVersion||null,this.type=e.type||null)},_e=function(e){e&&(this.major=e.major||null,this.minor=e.minor||null,this.patch=e.patch||null,this.hotfix=e.hotfix||null,this.schema=e.schema||null,this.label=e.label||null,this.display=e.display||null)},Le=function(e){e&&(this.issuedAt=e.issuedAt||null,this.expiresAt=e.expiresAt||null,this.remainingDays=e.remainingDays||null,this.holder=e.holder||null,this.mode=e.mode||null,this.isClusterEnabled=!!e.isClusterEnabled,this.isCryptodocEnabled=!!e.isCryptodocEnabled)},Fe=function(e){e&&(this.isReadOnly=!!e.isReadOnly,this.isAuditEnabled=!!e.isAuditEnabled,this.isQuickShareEnabled=!!e.isQuickShareEnabled,this.isThumbnailGenerationEnabled=!!e.isThumbnailGenerationEnabled)},ke=function(e){e&&(this.id=e.id||null,this.title=e.title||null,this.description=e.description||null,this.version=e.version||null,this.installDate=e.installDate||null,this.installState=e.installState||null,this.versionMin=e.versionMin||null,this.versionMax=e.versionMax||null)},Ve=function(e){var t=this;this.modules=[],e&&e.entry&&e.entry.repository&&(this.edition=e.entry.repository.edition||null,this.version=new _e(e.entry.repository.version),this.license=new Le(e.entry.repository.license),this.status=new Fe(e.entry.repository.status),e.entry.repository.modules&&e.entry.repository.modules.forEach((function(e){t.modules.push(new ke(e))})))},Ne=function(){function e(e,t){var n=this;this.apiService=e,this.authenticationService=t,this.ecmProductInfo$=new o.Subject,this.authenticationService.onLogin.pipe(s.filter((function(){var e;return null===(e=n.apiService.getInstance())||void 0===e?void 0:e.isEcmLoggedIn()})),s.take(1),s.switchMap((function(){return n.getEcmProductInfo()}))).subscribe((function(e){return n.ecmProductInfo$.next(e)}))}return e.prototype.getEcmProductInfo=function(){var e=new r.DiscoveryApi(this.apiService.getInstance());return o.from(e.getRepositoryInformation()).pipe(s.map((function(e){return new Ve(e)})),s.catchError((function(e){return o.throwError(e)})))},e.prototype.getBpmProductInfo=function(){var e=new r.AboutApi(this.apiService.getInstance());return o.from(e.getAppVersion()).pipe(s.map((function(e){return new Pe(e)})),s.catchError((function(e){return o.throwError(e)})))},e.prototype.getBPMSystemProperties=function(){var e=new r.SystemPropertiesApi(this.apiService.getInstance());return o.from(e.getProperties()).pipe(s.map((function(e){if("string"==typeof e)throw new Error("Not valid response");return e})),s.catchError((function(e){return o.throwError(e.error)})))},e}();Ne.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Ne(t.ɵɵinject(Ce),t.ɵɵinject(De))},token:Ne,providedIn:"root"}),Ne.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Ne.ctorParameters=function(){return[{type:Ce},{type:De}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Me=function(){function e(e,t){this.authService=e,this.discovery=t,this.ecmVersion=null,this.bpmVersion=null}return e.prototype.ngOnInit=function(){this.authService.isEcmLoggedIn()&&this.setECMInfo(),this.authService.isBpmLoggedIn()&&this.setBPMInfo()},e.prototype.setECMInfo=function(){var e=this;this.discovery.getEcmProductInfo().subscribe((function(t){e.ecmVersion=t,e.modules=new we(e.ecmVersion.modules,[{type:"text",key:"id",title:"ABOUT.TABLE_HEADERS.MODULES.ID",sortable:!0},{type:"text",key:"title",title:"ABOUT.TABLE_HEADERS.MODULES.TITLE",sortable:!0},{type:"text",key:"version",title:"ABOUT.TABLE_HEADERS.MODULES.DESCRIPTION",sortable:!0},{type:"text",key:"installDate",title:"ABOUT.TABLE_HEADERS.MODULES.INSTALL_DATE",sortable:!0},{type:"text",key:"installState",title:"ABOUT.TABLE_HEADERS.MODULES.INSTALL_STATE",sortable:!0},{type:"text",key:"versionMin",title:"ABOUT.TABLE_HEADERS.MODULES.VERSION_MIN",sortable:!0},{type:"text",key:"versionMax",title:"ABOUT.TABLE_HEADERS.MODULES.VERSION_MAX",sortable:!0}]),e.status=new we([e.ecmVersion.status],[{type:"text",key:"isReadOnly",title:"ABOUT.TABLE_HEADERS.STATUS.READ_ONLY",sortable:!0},{type:"text",key:"isAuditEnabled",title:"ABOUT.TABLE_HEADERS.STATUS.AUDIT_ENABLED",sortable:!0},{type:"text",key:"isQuickShareEnabled",title:"ABOUT.TABLE_HEADERS.STATUS.QUICK_SHARE_ENABLED",sortable:!0},{type:"text",key:"isThumbnailGenerationEnabled",title:"ABOUT.TABLE_HEADERS.STATUS.THUMBNAIL_ENABLED",sortable:!0}]),e.license=new we([e.ecmVersion.license],[{type:"text",key:"issuedAt",title:"ABOUT.TABLE_HEADERS.LICENSE.ISSUES_AT",sortable:!0},{type:"text",key:"expiresAt",title:"ABOUT.TABLE_HEADERS.LICENSE.EXPIRES_AT",sortable:!0},{type:"text",key:"remainingDays",title:"ABOUT.TABLE_HEADERS.LICENSE.REMAINING_DAYS",sortable:!0},{type:"text",key:"holder",title:"ABOUT.TABLE_HEADERS.LICENSE.HOLDER",sortable:!0},{type:"text",key:"mode",title:"ABOUT.TABLE_HEADERS.LICENSE.MODE",sortable:!0},{type:"text",key:"isClusterEnabled",title:"ABOUT.TABLE_HEADERS.LICENSE.CLUSTER_ENABLED",sortable:!0},{type:"text",key:"isCryptodocEnabled",title:"ABOUT.TABLE_HEADERS.LICENSE.CRYPTODOC_ENABLED",sortable:!0}])}))},e.prototype.setBPMInfo=function(){var e=this;this.discovery.getBpmProductInfo().subscribe((function(t){e.bpmVersion=t}))},e}();Me.decorators=[{type:t.Component,args:[{selector:"adf-about-product-version",template:'<div class="adf-about-product-version-container" *ngIf="bpmVersion || ecmVersion">\n    <h3 data-automation-id="adf-about-product-version-title">{{ \'ABOUT.VERSIONS.TITLE\' | translate }}</h3>\n        <mat-card>\n            <div *ngIf="bpmVersion" data-automation-id="adf-about-bpm-service">\n                <h3>{{ \'ABOUT.VERSIONS.PROCESS_SERVICE\' | translate }}</h3>\n                <p data-automation-id="adf-about-bpm-edition">\n                    {{ \'ABOUT.VERSIONS.LABELS.EDITION\' | translate }}: {{ bpmVersion.edition }}\n                </p>\n                <p data-automation-id="adf-about-bpm-version">\n                    {{ \'ABOUT.VERSIONS.LABELS.VERSION\' | translate }}: {{ bpmVersion.majorVersion }}.{{\n                    bpmVersion.minorVersion }}.{{ bpmVersion.revisionVersion }}\n                </p>\n            </div>\n            <div *ngIf="ecmVersion" data-automation-id="adf-about-ecm-service">\n                <h3>{{ \'ABOUT.VERSIONS.CONTENT_SERVICE\' | translate }}</h3>\n                <p data-automation-id="adf-about-ecm-edition">\n                    {{ \'ABOUT.VERSIONS.LABELS.EDITION\' | translate }}: {{ ecmVersion.edition }}\n                </p>\n                <p data-automation-id="adf-about-ecm-version">\n                    {{ \'ABOUT.VERSIONS.LABELS.VERSION\' | translate }}: {{ ecmVersion.version.display }}\n                </p>\n            </div>\n        </mat-card>\n    <div *ngIf="ecmVersion" data-automation-id="adf-about-ecm">\n        <h3 data-automation-id="adf-about-ecm-license-title">{{ \'ABOUT.VERSIONS.LABELS.LICENSE\' | translate }}</h3>\n        <adf-datatable [data]="license"></adf-datatable>\n        <h3 data-automation-id="adf-about-ecm-status-title"> {{ \'ABOUT.VERSIONS.LABELS.STATUS\' | translate }}</h3>\n        <adf-datatable [data]="status"></adf-datatable>\n        <h3 data-automation-id="adf-about-ecm-modules-title">{{ \'ABOUT.VERSIONS.LABELS.MODULES\' | translate }}</h3>\n        <adf-datatable [data]="modules"></adf-datatable>\n    </div>\n</div>\n\n\n\n',encapsulation:t.ViewEncapsulation.None}]}],Me.ctorParameters=function(){return[{type:De},{type:Ne}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ue=function(){function e(e){this.appExtensions=e,this.extensionColumns=["$id","$name","$version","$vendor","$license","$runtime","$description"],this.showExtensions=!0,this.regexp="^(@alfresco)",this.onDestroy$=new o.Subject}return e.prototype.ngOnInit=function(){var e=this,t=Object.keys(this.dependencies).filter((function(t){return new RegExp(e.regexp).test(t)})),n=[];t.forEach((function(t){n.push({name:t,version:e.dependencies[t]})})),this.dependencyEntries=new we(n,[{type:"text",key:"name",title:"Name",sortable:!0},{type:"text",key:"version",title:"Version",sortable:!0}]),this.appExtensions.references$.pipe(s.takeUntil(this.onDestroy$)).subscribe((function(t){return e.extensions=t}))},e.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},e}();Ue.decorators=[{type:t.Component,args:[{selector:"adf-about-application-modules",template:'<div class="adf-about-modules-container">\n    <h3 data-automation-id="adf-about-modules-title">{{ \'ABOUT.PACKAGES.TITLE\' | translate }}</h3>\n    <small>{{ \'ABOUT.PACKAGES.DESCRIPTION\' | translate }}</small>\n    <adf-datatable [data]="dependencyEntries"></adf-datatable>\n\n    <div class="adf-extension-details-container" *ngIf="showExtensions && extensions.length">\n        <h3>{{ \'ABOUT.EXTENSIONS.TITLE\' | translate }}</h3>\n        <mat-table [dataSource]="extensions">\n            \x3c!-- $id Column --\x3e\n            <ng-container matColumnDef="$id">\n                <mat-header-cell\n                    *matHeaderCellDef>{{ \'ABOUT.EXTENSIONS.TABLE_HEADERS.ID\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$id}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $name Column --\x3e\n            <ng-container matColumnDef="$name">\n                <mat-header-cell\n                    *matHeaderCellDef>{{ \'ABOUT.EXTENSIONS.TABLE_HEADERS.NAME\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$name}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $version Column --\x3e\n            <ng-container matColumnDef="$version">\n                <mat-header-cell\n                    *matHeaderCellDef>{{ \'ABOUT.EXTENSIONS.TABLE_HEADERS.VERSION\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$version}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $vendor Column --\x3e\n            <ng-container matColumnDef="$vendor">\n                <mat-header-cell\n                    *matHeaderCellDef>{{ \'ABOUT.EXTENSIONS.TABLE_HEADERS.VENDOR\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$vendor}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $license Column --\x3e\n            <ng-container matColumnDef="$license">\n                <mat-header-cell\n                    *matHeaderCellDef>{{ \'ABOUT.EXTENSIONS.TABLE_HEADERS.LICENSE\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$license}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $runtime Column --\x3e\n            <ng-container matColumnDef="$runtime">\n                <mat-header-cell\n                    *matHeaderCellDef>{{ \'ABOUT.EXTENSIONS.TABLE_HEADERS.RUNTIME\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$runtime}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $description Column --\x3e\n            <ng-container matColumnDef="$description">\n                <mat-header-cell\n                    *matHeaderCellDef>{{ \'ABOUT.EXTENSIONS.TABLE_HEADERS.DESCRIPTION\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$description}}</mat-cell>\n            </ng-container>\n\n            <mat-header-row *matHeaderRowDef="extensionColumns"></mat-header-row>\n            <mat-row *matRowDef="let row; columns: extensionColumns;"></mat-row>\n        </mat-table>\n    </div>\n</div>\n',encapsulation:t.ViewEncapsulation.None}]}],Ue.ctorParameters=function(){return[{type:d.AppExtensionService}]},Ue.propDecorators={showExtensions:[{type:t.Input}],regexp:[{type:t.Input}],dependencies:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var je=function(){function t(e){this.appConfig=e,this.ecmHost="",this.bpmHost=""}return t.prototype.ngOnInit=function(){this.ecmHost=this.appConfig.get(e.AppConfigValues.ECMHOST),this.bpmHost=this.appConfig.get(e.AppConfigValues.BPMHOST)},t}();je.decorators=[{type:t.Component,args:[{selector:"adf-about-server-settings",template:"<div class=\"adf-github-link-container\">\n    <h3 data-automation-id=\"adf-about-setting-title\">{{ 'ABOUT.SERVER_SETTINGS.TITLE' | translate }}</h3>\n    <small>{{ 'ABOUT.SERVER_SETTINGS.DESCRIPTION' | translate }}</small>\n    <mat-card>\n        <p data-automation-id=\"adf-process-service-host\">\n            {{ 'ABOUT.SERVER_SETTINGS.PROCESS_SERVICE_HOST' | translate: {value: bpmHost} }}\n        </p>\n        <p data-automation-id=\"adf-content-service-host\">\n            {{ 'ABOUT.SERVER_SETTINGS.CONTENT_SERVICE_HOST' | translate: {value: ecmHost} }}\n        </p>\n    </mat-card>\n</div>\n",encapsulation:t.ViewEncapsulation.None}]}],je.ctorParameters=function(){return[{type:Ie}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Be=function(){};Be.decorators=[{type:t.NgModule,args:[{imports:[f.MatAutocompleteModule,m.MatButtonModule,h.MatCardModule,g.MatCheckboxModule,y.MatChipsModule,v.MatDatepickerModule,b.MatDialogModule,I.MatGridListModule,E.MatIconModule,C.MatInputModule,x.MatListModule,n.MatNativeDateModule,n.MatOptionModule,A.MatProgressSpinnerModule,O.MatRadioModule,n.MatRippleModule,R.MatSelectModule,P.MatSlideToggleModule,L.MatTableModule,F.MatTabsModule,S.MatMenuModule,T.MatProgressBarModule,D.MatSidenavModule,_.MatSnackBarModule,k.MatToolbarModule,V.MatTooltipModule,c.MatDatetimepickerModule,c.MatNativeDatetimeModule,w.MatExpansionModule,N.MatBadgeModule],exports:[f.MatAutocompleteModule,m.MatButtonModule,h.MatCardModule,g.MatCheckboxModule,y.MatChipsModule,v.MatDatepickerModule,b.MatDialogModule,I.MatGridListModule,E.MatIconModule,C.MatInputModule,x.MatListModule,n.MatNativeDateModule,n.MatOptionModule,A.MatProgressSpinnerModule,O.MatRadioModule,n.MatRippleModule,R.MatSelectModule,P.MatSlideToggleModule,L.MatTableModule,F.MatTabsModule,S.MatMenuModule,T.MatProgressBarModule,D.MatSidenavModule,_.MatSnackBarModule,k.MatToolbarModule,V.MatTooltipModule,c.MatDatetimepickerModule,c.MatNativeDatetimeModule,w.MatExpansionModule,N.MatBadgeModule]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ze=function(){function e(e){this.overlayRef=e}return e.prototype.close=function(){this.overlayRef.dispose()},e}(),$e=new t.InjectionToken("CONTEXT_MENU_DATA"),He=[B.state("void",B.style({opacity:0,transform:"scale(0.01, 0.01)"})),B.transition("void => *",B.sequence([B.query(".mat-menu-content",B.style({opacity:0})),B.animate("100ms linear",B.style({opacity:1,transform:"scale(1, 0.5)"})),B.group([B.query(".mat-menu-content",B.animate("400ms cubic-bezier(0.55, 0, 0.55, 0.2)",B.style({opacity:1}))),B.animate("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",B.style({transform:"scale(1, 1)"}))])])),B.transition("* => void",B.animate("150ms 50ms linear",B.style({opacity:0})))],qe=function(){function e(e,t){this.contextMenuOverlayRef=e,this.data=t,this.links=this.data}return e.prototype.handleKeydownEscape=function(e){e&&this.contextMenuOverlayRef.close()},e.prototype.handleKeydownEvent=function(e){if(e){var t=e.keyCode;t!==z.UP_ARROW&&t!==z.DOWN_ARROW||this.keyManager.onKeydown(e)}},e.prototype.onMenuItemClick=function(e,t){if(t&&t.model&&t.model.disabled)return e.preventDefault(),void e.stopImmediatePropagation();t.subject.next(t),this.contextMenuOverlayRef.close()},e.prototype.ngAfterViewInit=function(){this.keyManager=new $.FocusKeyManager(this.items),this.keyManager.setFirstItemActive()},e}();
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */qe.decorators=[{type:t.Component,args:[{selector:"adf-context-menu",template:'\n        <div mat-menu class="mat-menu-panel" @panelAnimation>\n            <div id="adf-context-menu-content" class="mat-menu-content">\n                <ng-container *ngFor="let link of links">\n                    <button *ngIf="link.model?.visible"\n                            [attr.data-automation-id]="\'context-\'+((link.title || link.model?.title) | translate)"\n                            mat-menu-item\n                            [disabled]="link.model?.disabled"\n                            (click)="onMenuItemClick($event, link)">\n                        <mat-icon *ngIf="link.model?.icon">{{ link.model.icon }}</mat-icon>\n                        <span>{{ (link.title || link.model?.title) | translate }}</span>\n                    </button>\n                </ng-container>\n            </div>\n        </div>\n    ',host:{role:"menu",class:"adf-context-menu"},encapsulation:t.ViewEncapsulation.None,animations:[B.trigger("panelAnimation",He)]}]}],qe.ctorParameters=function(){return[{type:ze,decorators:[{type:t.Inject,args:[ze]}]},{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[$e]}]}]},qe.propDecorators={items:[{type:t.ViewChildren,args:[S.MatMenuItem]}],handleKeydownEscape:[{type:t.HostListener,args:["document:keydown.Escape",["$event"]]}],handleKeydownEvent:[{type:t.HostListener,args:["document:keydown",["$event"]]}]};var Ye={panelClass:"cdk-overlay-pane",backdropClass:"cdk-overlay-transparent-backdrop",hasBackdrop:!0},Ge=function(){function e(e,t){this.injector=e,this.overlay=t}return e.prototype.open=function(e){var t=Object.assign(Object.assign({},Ye),e),n=this.createOverlay(t),i=new ze(n);return this.attachDialogContainer(n,e,i),n.backdropClick().subscribe((function(){return i.close()})),t.hasBackdrop&&n._backdropElement.addEventListener("contextmenu",(function(e){e.preventDefault(),n._backdropClick.next(null)}),!0),i},e.prototype.createOverlay=function(e){var t=this.getOverlayConfig(e);return this.overlay.create(t)},e.prototype.attachDialogContainer=function(e,t,n){var i=this.createInjector(t,n),a=new j.ComponentPortal(qe,null,i);return e.attach(a).instance},e.prototype.createInjector=function(e,t){var n=new WeakMap;return n.set(ze,t),n.set($e,e.data),new j.PortalInjector(this.injector,n)},e.prototype.getOverlayConfig=function(e){var n=e.source,i=n.clientY,a=n.clientX,o={getBoundingClientRect:function(){return{bottom:i,height:0,left:a,right:a,top:i,width:0}}},r=this.overlay.position().connectedTo(new t.ElementRef(o),{originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}).withFallbackPosition({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}).withFallbackPosition({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}).withFallbackPosition({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"});return new U.OverlayConfig({hasBackdrop:e.hasBackdrop,backdropClass:e.backdropClass,panelClass:e.panelClass,scrollStrategy:this.overlay.scrollStrategies.close(),positionStrategy:r})},e}();Ge.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Ge(t.ɵɵinject(t.INJECTOR),t.ɵɵinject(U.Overlay))},token:Ge,providedIn:"root"}),Ge.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Ge.ctorParameters=function(){return[{type:t.Injector},{type:U.Overlay}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var We=function(){function e(e){this.contextMenuService=e,this.enabled=!1}return e.prototype.onShowContextMenu=function(e){this.enabled&&(e&&e.preventDefault(),this.links&&this.links.length>0&&this.contextMenuService.open({source:e,data:this.links}))},e}();We.decorators=[{type:t.Directive,args:[{selector:"[adf-context-menu]"}]}],We.ctorParameters=function(){return[{type:Ge}]},We.propDecorators={links:[{type:t.Input,args:["adf-context-menu"]}],enabled:[{type:t.Input,args:["adf-context-menu-enabled"]}],onShowContextMenu:[{type:t.HostListener,args:["contextmenu",["$event"]]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Xe,Ke=function(){};Ke.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,u.TranslateModule],declarations:[We,qe],exports:[We]}]}],(Xe=e.UserPreferenceValues||(e.UserPreferenceValues={})).PaginationSize="paginationSize",Xe.Locale="locale",Xe.SupportedPageSizes="supportedPageSizes",Xe.ExpandedSideNavStatus="expandedSidenav";var Je=function(){function t(e,t,n,i){this.translate=e,this.appConfig=t,this.storage=n,this.alfrescoApiService=i,this.defaults={paginationSize:25,supportedPageSizes:[5,10,15,20],locale:"en",expandedSidenav:!0},this.userPreferenceStatus=this.defaults,this.alfrescoApiService.alfrescoApiInitialized.pipe(s.filter((function(e){return e}))).subscribe(this.initUserPreferenceStatus.bind(this)),this.onChangeSubject=new o.BehaviorSubject(this.userPreferenceStatus),this.onChange=this.onChangeSubject.asObservable()}return t.prototype.initUserPreferenceStatus=function(){this.initUserLanguage(),this.set(e.UserPreferenceValues.PaginationSize,this.paginationSize),this.set(e.UserPreferenceValues.SupportedPageSizes,JSON.stringify(this.supportedPageSizes))},t.prototype.initUserLanguage=function(){if(this.locale||this.appConfig.get(e.UserPreferenceValues.Locale)){var t=this.locale||this.getDefaultLocale();this.set(e.UserPreferenceValues.Locale,t),this.set("textOrientation",this.getLanguageByKey(t).direction||"ltr")}else{t=this.locale||this.getDefaultLocale();this.setWithoutStore(e.UserPreferenceValues.Locale,t),this.setWithoutStore("textOrientation",this.getLanguageByKey(t).direction||"ltr")}},t.prototype.select=function(e){return this.onChange.pipe(s.map((function(t){return t[e]})),s.distinctUntilChanged())},t.prototype.get=function(e,t){var n=this.getPropertyKey(e),i=this.storage.getItem(n);return null==i?t:i},t.prototype.set=function(e,t){e&&(this.storage.setItem(this.getPropertyKey(e),t),this.userPreferenceStatus[e]=t,this.onChangeSubject.next(this.userPreferenceStatus))},t.prototype.setWithoutStore=function(e,t){e&&(this.userPreferenceStatus[e]=t,this.onChangeSubject.next(this.userPreferenceStatus))},t.prototype.hasItem=function(e){return!!e&&this.storage.hasItem(this.getPropertyKey(e))},t.prototype.getStoragePrefix=function(){return this.storage.getItem("USER_PROFILE")||"GUEST"},t.prototype.setStoragePrefix=function(e){this.storage.setItem("USER_PROFILE",e||"GUEST"),this.initUserPreferenceStatus()},t.prototype.getPropertyKey=function(e){return this.getStoragePrefix()+"__"+e},Object.defineProperty(t.prototype,"supportedPageSizes",{get:function(){var t=this.get(e.UserPreferenceValues.SupportedPageSizes);return t?JSON.parse(t):this.appConfig.get("pagination.supportedPageSizes",this.defaults.supportedPageSizes)},set:function(t){this.set(e.UserPreferenceValues.SupportedPageSizes,JSON.stringify(t))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paginationSize",{get:function(){var t=this.get(e.UserPreferenceValues.PaginationSize);return Number(t||this.appConfig.get("pagination.size",this.defaults.paginationSize))},set:function(t){this.set(e.UserPreferenceValues.PaginationSize,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locale",{get:function(){return this.get(e.UserPreferenceValues.Locale)},set:function(t){this.set(e.UserPreferenceValues.Locale,t)},enumerable:!1,configurable:!0}),t.prototype.getDefaultLocale=function(){return this.appConfig.get(e.UserPreferenceValues.Locale)||this.translate.getBrowserCultureLang()||"en"},t.prototype.getLanguageByKey=function(t){return this.appConfig.get(e.AppConfigValues.APP_CONFIG_LANGUAGES_KEY,[{key:"en"}]).find((function(e){return t.includes(e.key)}))||{key:"en"}},t}();Je.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Je(t.ɵɵinject(u.TranslateService),t.ɵɵinject(Ie),t.ɵɵinject(Ee),t.ɵɵinject(Ce))},token:Je,providedIn:"root"}),Je.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Je.ctorParameters=function(){return[{type:u.TranslateService},{type:Ie},{type:Ee},{type:Ce}]};var Qe=new t.InjectionToken("Injection token for translation providers."),Ze=function(){function t(t,n,i){var a,o,r=this;if(this.translate=t,this.customLoader=this.translate.currentLoader,this.defaultLang="en",t.setDefaultLang(this.defaultLang),this.customLoader.setDefaultLang(this.defaultLang),i&&i.length>0)try{for(var l=le(i),s=l.next();!s.done;s=l.next()){var d=s.value;this.addTranslationFolder(d.name,d.source)}}catch(e){a={error:e}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}n.select(e.UserPreferenceValues.Locale).subscribe((function(e){e&&(r.userLang=e,r.use(r.userLang))}))}return t.prototype.addTranslationFolder=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.customLoader.providerRegistered(e)||(this.customLoader.registerProvider(e,t),this.userLang?this.loadTranslation(this.userLang,this.defaultLang):this.loadTranslation(this.defaultLang))},t.prototype.loadTranslation=function(e,t){var n=this;this.translate.getTranslation(e).subscribe((function(){n.translate.use(e),n.onTranslationChanged(e)}),(function(){t&&t!==e&&n.loadTranslation(t)}))},t.prototype.onTranslationChanged=function(e){this.translate.onTranslationChange.next({lang:e,translations:this.customLoader.getFullTranslationJSON(e)})},t.prototype.use=function(e){return this.customLoader.init(e),this.translate.use(e)},t.prototype.get=function(e,t){return this.translate.get(e,t)},t.prototype.instant=function(e,t){return e?this.translate.instant(e,t):""},t}();Ze.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Ze(t.ɵɵinject(u.TranslateService),t.ɵɵinject(Je),t.ɵɵinject(Qe,8))},token:Ze,providedIn:"root"}),Ze.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Ze.ctorParameters=function(){return[{type:u.TranslateService},{type:Je},{type:Array,decorators:[{type:t.Optional},{type:t.Inject,args:[Qe]}]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var et=function(){function e(e){this.translation=e}return e.prototype.transform=function(e,t){if(void 0===t&&(t=2),null==e)return"";var n=parseInt(e,10);if(isNaN(n))return"";if(0===n)return"0 "+this.translation.instant("CORE.FILE_SIZE.BYTES");var i=t||2,a=Math.floor(Math.log(n)/Math.log(1024)),o=this.translation.instant("CORE.FILE_SIZE."+["BYTES","KB","MB","GB","TB","PB","EB","ZB","YB"][a]);return parseFloat((n/Math.pow(1024,a)).toFixed(i))+" "+o},e}();et.decorators=[{type:t.Pipe,args:[{name:"adfFileSize",pure:!1}]}],et.ctorParameters=function(){return[{type:Ze}]};var tt=function(){function e(e,t,n){var i=this;this.apiService=e,this.DEFAULT_ICON="./assets/images/ft_ic_miscellaneous.svg",this.mimeTypeIcons={"image/png":"./assets/images/ft_ic_raster_image.svg","image/jpeg":"./assets/images/ft_ic_raster_image.svg","image/gif":"./assets/images/ft_ic_raster_image.svg","image/bmp":"./assets/images/ft_ic_raster_image.svg","image/cgm":"./assets/images/ft_ic_raster_image.svg","image/ief":"./assets/images/ft_ic_raster_image.svg","image/jp2":"./assets/images/ft_ic_raster_image.svg","image/tiff":"./assets/images/ft_ic_raster_image.svg","image/vnd.adobe.photoshop":"./assets/images/ft_ic_raster_image.svg","image/vnd.adobe.premiere":"./assets/images/ft_ic_raster_image.svg","image/x-cmu-raster":"./assets/images/ft_ic_raster_image.svg","image/x-dwt":"./assets/images/ft_ic_raster_image.svg","image/x-portable-anymap":"./assets/images/ft_ic_raster_image.svg","image/x-portable-bitmap":"./assets/images/ft_ic_raster_image.svg","image/x-portable-graymap":"./assets/images/ft_ic_raster_image.svg","image/x-portable-pixmap":"./assets/images/ft_ic_raster_image.svg","image/x-raw-adobe":"./assets/images/ft_ic_raster_image.svg","image/x-raw-canon":"./assets/images/ft_ic_raster_image.svg","image/x-raw-fuji":"./assets/images/ft_ic_raster_image.svg","image/x-raw-hasselblad":"./assets/images/ft_ic_raster_image.svg","image/x-raw-kodak":"./assets/images/ft_ic_raster_image.svg","image/x-raw-leica":"./assets/images/ft_ic_raster_image.svg","image/x-raw-minolta":"./assets/images/ft_ic_raster_image.svg","image/x-raw-nikon":"./assets/images/ft_ic_raster_image.svg","image/x-raw-olympus":"./assets/images/ft_ic_raster_image.svg","image/x-raw-panasonic":"./assets/images/ft_ic_raster_image.svg","image/x-raw-pentax":"./assets/images/ft_ic_raster_image.svg","image/x-raw-red":"./assets/images/ft_ic_raster_image.svg","image/x-raw-sigma":"./assets/images/ft_ic_raster_image.svg","image/x-raw-sony":"./assets/images/ft_ic_raster_image.svg","image/x-xbitmap":"./assets/images/ft_ic_raster_image.svg","image/x-xpixmap":"./assets/images/ft_ic_raster_image.svg","image/x-xwindowdump":"./assets/images/ft_ic_raster_image.svg","image/svg+xml":"./assets/images/ft_ic_vector_image.svg","application/eps":"./assets/images/ft_ic_raster_image.svg","application/illustrator":"./assets/images/ft_ic_raster_image.svg","application/pdf":"./assets/images/ft_ic_pdf.svg","application/vnd.ms-excel":"./assets/images/ft_ic_ms_excel.svg","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"./assets/images/ft_ic_ms_excel.svg","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-excel.addin.macroenabled.12":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-excel.sheet.binary.macroenabled.12":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-excel.sheet.macroenabled.12":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-excel.template.macroenabled.12":"./assets/images/ft_ic_ms_excel.svg","application/vnd.sun.xml.calc":"./assets/images/ft_ic_ms_excel.svg","application/vnd.sun.xml.calc.template":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-outlook":"./assets/images/ft_ic_document.svg","application/msword":"./assets/images/ft_ic_ms_word.svg","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"./assets/images/ft_ic_ms_word.svg","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"./assets/images/ft_ic_ms_word.svg","application/vnd.ms-word.document.macroenabled.12":"./assets/images/ft_ic_ms_word.svg","application/vnd.ms-word.template.macroenabled.12":"./assets/images/ft_ic_ms_word.svg","application/vnd.sun.xml.writer":"./assets/images/ft_ic_ms_word.svg","application/vnd.sun.xml.writer.template":"./assets/images/ft_ic_ms_word.svg","application/rtf":"./assets/images/ft_ic_ms_word.svg","text/rtf":"./assets/images/ft_ic_ms_word.svg","application/vnd.ms-powerpoint":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.openxmlformats-officedocument.presentationml.presentation":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.openxmlformats-officedocument.presentationml.template":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.oasis.opendocument.presentation":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.oasis.opendocument.presentation-template":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.openxmlformats-officedocument.presentationml.slide":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.sun.xml.impress":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.sun.xml.impress.template":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.oasis.opendocument.spreadsheet":"./assets/images/ft_ic_ms_excel.svg","application/vnd.oasis.opendocument.spreadsheet-template":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-powerpoint.addin.macroenabled.12":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.ms-powerpoint.presentation.macroenabled.12":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.ms-powerpoint.slide.macroenabled.12":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.ms-powerpoint.slideshow.macroenabled.12":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.ms-powerpoint.template.macroenabled.12":"./assets/images/ft_ic_ms_powerpoint.svg","video/mp4":"./assets/images/ft_ic_video.svg","video/3gpp":"./assets/images/ft_ic_video.svg","video/3gpp2":"./assets/images/ft_ic_video.svg","video/mp2t":"./assets/images/ft_ic_video.svg","video/mpeg":"./assets/images/ft_ic_video.svg","video/mpeg2":"./assets/images/ft_ic_video.svg","video/ogg":"./assets/images/ft_ic_video.svg","video/quicktime":"./assets/images/ft_ic_video.svg","video/webm":"./assets/images/ft_ic_video.svg","video/x-flv":"./assets/images/ft_ic_video.svg","video/x-m4v":"./assets/images/ft_ic_video.svg","video/x-ms-asf":"./assets/images/ft_ic_video.svg","video/x-ms-wmv":"./assets/images/ft_ic_video.svg","video/x-msvideo":"./assets/images/ft_ic_video.svg","video/x-rad-screenplay":"./assets/images/ft_ic_video.svg","video/x-sgi-movie":"./assets/images/ft_ic_video.svg","video/x-matroska":"./assets/images/ft_ic_video.svg","audio/mpeg":"./assets/images/ft_ic_audio.svg","audio/ogg":"./assets/images/ft_ic_audio.svg","audio/wav":"./assets/images/ft_ic_audio.svg","audio/basic":"./assets/images/ft_ic_audio.svg","audio/mp3":"./assets/images/ft_ic_audio.svg","audio/mp4":"./assets/images/ft_ic_audio.svg","audio/vnd.adobe.soundbooth":"./assets/images/ft_ic_audio.svg","audio/vorbis":"./assets/images/ft_ic_audio.svg","audio/x-aiff":"./assets/images/ft_ic_audio.svg","audio/x-flac":"./assets/images/ft_ic_audio.svg","audio/x-ms-wma":"./assets/images/ft_ic_audio.svg","audio/x-wav":"./assets/images/ft_ic_audio.svg","x-world/x-vrml":"./assets/images/ft_ic_video.svg","text/plain":"./assets/images/ft_ic_document.svg","application/vnd.oasis.opendocument.text":"./assets/images/ft_ic_document.svg","application/vnd.oasis.opendocument.text-template":"./assets/images/ft_ic_document.svg","application/x-javascript":"./assets/images/ft_ic_document.svg","application/json":"./assets/images/ft_ic_document.svg","text/csv":"./assets/images/ft_ic_document.svg","text/xml":"./assets/images/ft_ic_document.svg","text/html":"./assets/images/ft_ic_website.svg","application/x-compressed":"./assets/images/ft_ic_archive.svg","application/x-zip-compressed":"./assets/images/ft_ic_archive.svg","application/zip":"./assets/images/ft_ic_archive.svg","application/x-tar":"./assets/images/ft_ic_archive.svg","application/vnd.apple.keynote":"./assets/images/ft_ic_presentation.svg","application/vnd.apple.pages":"./assets/images/ft_ic_document.svg","application/vnd.apple.numbers":"./assets/images/ft_ic_spreadsheet.svg","application/vnd.visio":"./assets/images/ft_ic_document.svg","application/wordperfect":"./assets/images/ft_ic_document.svg","application/x-cpio":"./assets/images/ft_ic_document.svg",folder:"./assets/images/ft_ic_folder.svg",smartFolder:"./assets/images/ft_ic_smart_folder.svg",ruleFolder:"./assets/images/ft_ic_folder_rule.svg",linkFolder:"./assets/images/ft_ic_folder_shortcut_link.svg","disable/folder":"./assets/images/ft_ic_folder_disable.svg",selected:"./assets/images/ft_ic_selected.svg","dynamic-feed":"./assets/images/dynamic_feed-24px.svg","ic-process":"./assets/images/ic-process.svg",filter:"./assets/images/ft_ic_filter.svg","save-as":"./assets/images/save-as.svg",save:"./assets/images/save.svg",task:"./assets/images/task.svg"},Object.keys(this.mimeTypeIcons).forEach((function(e){var a=n.bypassSecurityTrustResourceUrl(i.mimeTypeIcons[e]);t.addSvgIcon(e,a),t.addSvgIconInNamespace("adf",e,a)}))}return Object.defineProperty(e.prototype,"contentApi",{get:function(){var e;return this._contentApi=null!==(e=this._contentApi)&&void 0!==e?e:new r.ContentApi(this.apiService.getInstance()),this._contentApi},enumerable:!1,configurable:!0}),e.prototype.getDocumentThumbnailUrl=function(e,t,n){var i;if(e){var a=void 0;"string"==typeof e?a=e:e.entry&&(a=e.entry.id),i=this.contentApi.getDocumentThumbnailUrl(a,t,n)}return i||this.DEFAULT_ICON},e.prototype.getMimeTypeIcon=function(e){return this.mimeTypeIcons[e]||this.DEFAULT_ICON},e.prototype.getDefaultMimeTypeIcon=function(){return this.DEFAULT_ICON},e}();tt.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new tt(t.ɵɵinject(Ce),t.ɵɵinject(E.MatIconRegistry),t.ɵɵinject(H.DomSanitizer))},token:tt,providedIn:"root"}),tt.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],tt.ctorParameters=function(){return[{type:Ce},{type:E.MatIconRegistry},{type:H.DomSanitizer}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var nt=function(){function e(e){this.thumbnailService=e}return e.prototype.transform=function(e){return this.thumbnailService.getMimeTypeIcon(e)},e}();nt.decorators=[{type:t.Pipe,args:[{name:"adfMimeTypeIcon"}]}],nt.ctorParameters=function(){return[{type:tt}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var it=function(){function e(){}return e.prototype.transform=function(e){return e?this.getNodeTooltip(e):null},e.prototype.containsLine=function(e,t){return e.some((function(e){return e.toLowerCase()===t.toLowerCase()}))},e.prototype.removeDuplicateLines=function(e){var t=this;return e.reduce((function(e,n){return t.containsLine(e,n)||e.push(n),e}),[])},e.prototype.getNodeTooltip=function(e){if(!e||!e.entry)return null;var t=e.entry,n=t.properties,i=[t.name];if(n){var a=n["cm:title"],o=n["cm:description"];a&&o&&(i[0]=a,i[1]=o),a&&(i[1]=a),o&&(i[1]=o)}return this.removeDuplicateLines(i).join("\n")},e}();it.decorators=[{type:t.Pipe,args:[{name:"adfNodeNameTooltip"}]}];var at=function(){function e(){}return e.prototype.highlight=function(e,t,n){void 0===n&&(n="adf-highlight");var i=!1,a=e;if(t&&e){var o=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");o=o.split(" ").filter((function(e){return e.length>0})).join("|");var r=new RegExp(o,"gi");return{text:a=e.replace(/<[^>]+>/g,"").replace(r,(function(e){return i=!0,'<span class="'+n+'">'+e+"</span>"})),changed:i}}return{text:a,changed:i}},e}();at.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new at},token:at,providedIn:"root"}),at.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ot=function(){function e(e){this.highlightTransformService=e}return e.prototype.transform=function(e,t){return this.highlightTransformService.highlight(e,t).text},e}();ot.decorators=[{type:t.Pipe,args:[{name:"highlight"}]}],ot.ctorParameters=function(){return[{type:at}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var rt=function(){function t(n,i){var a=this;this.userPreferenceService=n,this.appConfig=i,this.onDestroy$=new o.Subject,this.userPreferenceService.select(e.UserPreferenceValues.Locale).pipe(s.takeUntil(this.onDestroy$)).subscribe((function(e){a.defaultLocale=e||t.DEFAULT_LOCALE})),this.defaultDateTimeFormat=this.appConfig.get("dateValues.defaultDateTimeFormat",t.DEFAULT_DATE_TIME_FORMAT)}return t.prototype.transform=function(e,t){if(null!=e){var n=t||this.defaultLocale,i=a(e);return a().locale(n).diff(i,"days")>7?new p.DatePipe(n).transform(e,this.defaultDateTimeFormat):i.locale(n).fromNow()}return""},t.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},t}();rt.DEFAULT_LOCALE="en-US",rt.DEFAULT_DATE_TIME_FORMAT="dd/MM/yyyy HH:mm",rt.decorators=[{type:t.Pipe,args:[{name:"adfTimeAgo"}]}],rt.ctorParameters=function(){return[{type:Je},{type:Ie}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var lt=function(){function e(e){this.sanitized=e}return e.prototype.transform=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n="");var i="";if(e){var a=this.getInitialUserName(e.firstName||e.displayName,e.lastName,n);i=this.sanitized.bypassSecurityTrustHtml('<div id="user-initials-image" class="'+t+'">'+a+"</div>")}return i},e.prototype.getInitialUserName=function(e,t,n){return(e=e?e[0]:"")+n+(t=t?t[0]:"")},e}();lt.decorators=[{type:t.Pipe,args:[{name:"usernameInitials"}]}],lt.ctorParameters=function(){return[{type:H.DomSanitizer}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var st=function(){function e(){}return e.prototype.transform=function(e){var t="";return e&&(e.firstName&&"null"!==e.firstName&&(t+=e.firstName),e.lastName&&"null"!==e.lastName&&(t+=t.length>0?" ":"",t+=e.lastName),t||(t+=e.username?e.username:e.email?e.email:"")),t},e}();st.decorators=[{type:t.Pipe,args:[{name:"fullName"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var dt=function(){function e(){}return e.prototype.transform=function(e,t,n){void 0===t&&(t="_"),void 0===n&&(n=!0);var i="";return e&&(i=n?e.trim().split(" ").join(t).toLocaleLowerCase():e.trim().split(" ").join(t)),i},e}();dt.decorators=[{type:t.Pipe,args:[{name:"formatSpace"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var pt=function(){function e(){}return e.prototype.transform=function(e){return null==e?"":e.substring(e.lastIndexOf("/")+1).replace(/\.[a-z]+/,"").split("_").pop()},e}();pt.decorators=[{type:t.Pipe,args:[{name:"fileType",pure:!0}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ut=function(){function e(){}return e.prototype.transform=function(t,n){return void 0===n&&(n=e.DEFAULT_SEPARATOR),t&&t instanceof Array?t.join(n):t},e}();ut.DEFAULT_SEPARATOR=", ",ut.decorators=[{type:t.Pipe,args:[{name:"multiValue"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ct=function(){function t(n,i){var a=this;this.userPreferenceService=n,this.appConfig=i,this.defaultLocale=t.DEFAULT_LOCALE,this.defaultFormat=t.DEFAULT_DATE_FORMAT,this.onDestroy$=new o.Subject,this.userPreferenceService&&this.userPreferenceService.select(e.UserPreferenceValues.Locale).pipe(s.takeUntil(this.onDestroy$)).subscribe((function(e){e&&(a.defaultLocale=e)})),this.appConfig&&(this.defaultFormat=this.appConfig.get("dateValues.defaultDateFormat",t.DEFAULT_DATE_FORMAT))}return t.prototype.transform=function(e,t,n){var i=t||this.defaultFormat,a=n||this.defaultLocale;return new p.DatePipe(a).transform(e,i)},t.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},t}();ct.DEFAULT_LOCALE="en-US",ct.DEFAULT_DATE_FORMAT="mediumDate",ct.decorators=[{type:t.Pipe,args:[{name:"adfLocalizedDate",pure:!1}]}],ct.ctorParameters=function(){return[{type:Je},{type:Ie}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ft=function(){function t(n,i){var a=this;this.userPreferenceService=n,this.appConfig=i,this.defaultLocale=t.DEFAULT_LOCALE,this.defaultMinIntegerDigits=t.DEFAULT_MIN_INTEGER_DIGITS,this.defaultMinFractionDigits=t.DEFAULT_MIN_FRACTION_DIGITS,this.defaultMaxFractionDigits=t.DEFAULT_MAX_FRACTION_DIGITS,this.onDestroy$=new o.Subject,this.userPreferenceService&&this.userPreferenceService.select(e.UserPreferenceValues.Locale).pipe(s.takeUntil(this.onDestroy$)).subscribe((function(e){e&&(a.defaultLocale=e)})),this.appConfig&&(this.defaultMinIntegerDigits=this.appConfig.get("decimalValues.minIntegerDigits",t.DEFAULT_MIN_INTEGER_DIGITS),this.defaultMinFractionDigits=this.appConfig.get("decimalValues.minFractionDigits",t.DEFAULT_MIN_FRACTION_DIGITS),this.defaultMaxFractionDigits=this.appConfig.get("decimalValues.maxFractionDigits",t.DEFAULT_MAX_FRACTION_DIGITS))}return t.prototype.transform=function(e,t,n){var i=(t&&t.minIntegerDigits?t.minIntegerDigits:this.defaultMinIntegerDigits)+"."+(t&&t.minFractionDigits?t.minFractionDigits:this.defaultMinFractionDigits)+"-"+(t&&t.maxFractionDigits?t.maxFractionDigits:this.defaultMaxFractionDigits),a=n||this.defaultLocale;return new p.DecimalPipe(a).transform(e,i)},t.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},t}();ft.DEFAULT_LOCALE="en-US",ft.DEFAULT_MIN_INTEGER_DIGITS=1,ft.DEFAULT_MIN_FRACTION_DIGITS=0,ft.DEFAULT_MAX_FRACTION_DIGITS=2,ft.decorators=[{type:t.Pipe,args:[{name:"adfDecimalNumber",pure:!1}]}],ft.ctorParameters=function(){return[{type:Je},{type:Ie}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var mt=function(){function e(e){this.translationService=e}return e.prototype.transform=function(e){if(e){var t="ADF.ROLES."+e.toUpperCase(),n=this.translationService.instant(t);if(n)return n}return e},e}();mt.decorators=[{type:t.Pipe,args:[{name:"adfLocalizedRole"}]}],mt.ctorParameters=function(){return[{type:Ze}]};var ht=function(){function e(){}return e.prototype.transform=function(e,t){return a(e,t)},e}();ht.decorators=[{type:t.Pipe,args:[{name:"adfMomentDate"}]}];var gt=function(){function e(){}return e.prototype.transform=function(e,t){return a(e,t).add(a(e,t).utcOffset(),"minutes")},e}();gt.decorators=[{type:t.Pipe,args:[{name:"adfMomentDateTime"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var yt=function(){};yt.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,u.TranslateModule],declarations:[et,ot,rt,nt,lt,st,it,dt,pt,ut,ct,ft,mt,ht,gt],providers:[et,ot,rt,nt,lt,it,dt,pt,ut,ct,ft,mt,ht,gt],exports:[et,ot,rt,nt,lt,st,it,dt,pt,ut,ct,ft,mt,ht,gt]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var vt=function(){function e(e,t,n){this.el=e,this.renderer=t,this.highlightTransformService=n,this.selector="",this.search="",this.classToApply="adf-highlight"}return e.prototype.ngAfterViewChecked=function(){this.highlight()},e.prototype.highlight=function(e,t,n){var i=this;(void 0===e&&(e=this.search),void 0===t&&(t=this.selector),void 0===n&&(n=this.classToApply),e&&t)&&this.el.nativeElement.querySelectorAll(t).forEach((function(t){var a=i.highlightTransformService.highlight(t.innerHTML,e,n);a.changed&&i.renderer.setProperty(t,"innerHTML",a.text)}))},e}();vt.decorators=[{type:t.Directive,args:[{selector:"[adf-highlight]"}]}],vt.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:at}]},vt.propDecorators={selector:[{type:t.Input,args:["adf-highlight-selector"]}],search:[{type:t.Input,args:["adf-highlight"]}],classToApply:[{type:t.Input,args:["adf-highlight-class"]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var bt=function(){function e(e,t,n,i,a){this.elementRef=e,this.renderer=t,this.router=n,this.appConfig=i,this.auth=a,this.enableRedirect=!0}return e.prototype.ngOnInit=function(){var e=this;this.elementRef.nativeElement&&this.renderer.listen(this.elementRef.nativeElement,"click",(function(t){t.preventDefault(),e.logout()}))},e.prototype.getRedirectUri=function(){return void 0===this.redirectUri?this.appConfig.get("loginRoute","/login"):this.redirectUri},e.prototype.logout=function(){var e=this;this.auth.logout().subscribe((function(){return e.redirectToUri()}),(function(){return e.redirectToUri()}))},e.prototype.redirectToUri=function(){if(this.enableRedirect&&!this.auth.isOauth()){var e=this.getRedirectUri();this.router.navigate([e])}},e}();bt.decorators=[{type:t.Directive,args:[{selector:"[adf-logout]"}]}],bt.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:M.Router},{type:Ie},{type:De}]},bt.propDecorators={redirectUri:[{type:t.Input}],enableRedirect:[{type:t.Input}]};var wt=function(){function e(e,n,i){this.alfrescoApiService=e,this.translation=n,this.elementRef=i,this.permanent=!1,this.delete=new t.EventEmitter}return Object.defineProperty(e.prototype,"trashcanApi",{get:function(){var e;return this._trashcanApi=null!==(e=this._trashcanApi)&&void 0!==e?e:new r.TrashcanApi(this.alfrescoApiService.getInstance()),this._trashcanApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nodesApi",{get:function(){var e;return this._nodesApi=null!==(e=this._nodesApi)&&void 0!==e?e:new r.NodesApi(this.alfrescoApiService.getInstance()),this._nodesApi},enumerable:!1,configurable:!0}),e.prototype.onClick=function(){this.process(this.selection)},e.prototype.ngOnChanges=function(){!this.selection||this.selection&&0===this.selection.length?this.setDisableAttribute(!0):this.elementRef.nativeElement.hasAttribute("adf-check-allowable-operation")||this.setDisableAttribute(!1)},e.prototype.setDisableAttribute=function(e){this.elementRef.nativeElement.disabled=e},e.prototype.process=function(e){var t=this;if(e&&e.length){var n=this.getDeleteNodesBatch(e);o.forkJoin.apply(void 0,de(n)).subscribe((function(e){var n=t.processStatus(e),i=t.getMessage(n);i&&t.delete.emit(i)}))}},e.prototype.getDeleteNodesBatch=function(e){var t=this;return e.map((function(e){return t.deleteNode(e)}))},e.prototype.deleteNode=function(e){var t,n=e.entry.nodeId||e.entry.id;return t=e.entry.hasOwnProperty("archivedAt")&&e.entry.archivedAt?this.trashcanApi.deleteDeletedNode(n):this.nodesApi.deleteNode(n,{permanent:this.permanent}),o.from(t).pipe(s.retry(3),s.map((function(){return{entry:e.entry,status:1}})),s.catchError((function(){return o.of({entry:e.entry,status:0})})))},e.prototype.processStatus=function(e){var t={success:[],failed:[],get someFailed(){return!!this.failed.length},get someSucceeded(){return!!this.success.length},get oneFailed(){return 1===this.failed.length},get oneSucceeded(){return 1===this.success.length},get allSucceeded(){return this.someSucceeded&&!this.someFailed},get allFailed(){return this.someFailed&&!this.someSucceeded}};return e.reduce((function(e,t){return 1===t.status?e.success.push(t):e.failed.push(t),e}),t)},e.prototype.getMessage=function(e){return e.allFailed&&!e.oneFailed?this.translation.instant("CORE.DELETE_NODE.ERROR_PLURAL",{number:e.failed.length}):e.allSucceeded&&!e.oneSucceeded?this.translation.instant("CORE.DELETE_NODE.PLURAL",{number:e.success.length}):e.someFailed&&e.someSucceeded&&!e.oneSucceeded?this.translation.instant("CORE.DELETE_NODE.PARTIAL_PLURAL",{success:e.success.length,failed:e.failed.length}):e.someFailed&&e.oneSucceeded?this.translation.instant("CORE.DELETE_NODE.PARTIAL_SINGULAR",{success:e.success.length,failed:e.failed.length}):e.oneFailed&&!e.someSucceeded?this.translation.instant("CORE.DELETE_NODE.ERROR_SINGULAR",{name:e.failed[0].entry.name}):e.oneSucceeded&&!e.someFailed?this.translation.instant("CORE.DELETE_NODE.SINGULAR",{name:e.success[0].entry.name}):null},e}();wt.decorators=[{type:t.Directive,args:[{selector:"[adf-delete]"}]}],wt.ctorParameters=function(){return[{type:Ce},{type:Ze},{type:t.ElementRef}]},wt.propDecorators={selection:[{type:t.Input,args:["adf-delete"]}],permanent:[{type:t.Input}],delete:[{type:t.Output}],onClick:[{type:t.HostListener,args:["click"]}]};var It=function(){function e(e){this.alfrescoApiService=e,this.favorites=[],this.selection=[],this.toggle=new t.EventEmitter,this.error=new t.EventEmitter}return Object.defineProperty(e.prototype,"favoritesApi",{get:function(){var e;return this._favoritesApi=null!==(e=this._favoritesApi)&&void 0!==e?e:new r.FavoritesApi(this.alfrescoApiService.getInstance()),this._favoritesApi},enumerable:!1,configurable:!0}),e.prototype.onClick=function(){this.toggleFavorite()},e.prototype.ngOnChanges=function(e){e.selection.currentValue.length?this.markFavoritesNodes(e.selection.currentValue):this.favorites=[]},e.prototype.toggleFavorite=function(){var e=this;if(this.favorites.length){var t=this.favorites.every((function(e){return e.entry.isFavorite}));if(t){var n=this.favorites.map((function(t){var n=t.entry.nodeId||t.entry.id;return o.from(e.favoritesApi.deleteFavorite("-me-",n))}));o.forkJoin(n).subscribe((function(){e.favorites.map((function(e){return e.entry.isFavorite=!1})),e.toggle.emit()}),(function(t){return e.error.emit(t)}))}if(!t){var i=this.favorites.filter((function(e){return!e.entry.isFavorite})),a=i.map((function(t){return e.createFavoriteBody(t)}));o.from(this.favoritesApi.createFavorite("-me-",a)).subscribe((function(){i.map((function(e){return e.entry.isFavorite=!0})),e.toggle.emit()}),(function(t){return e.error.emit(t)}))}}},e.prototype.markFavoritesNodes=function(e){var t=this;if(e.length<=this.favorites.length){var n=this.reduce(this.favorites,e);this.favorites=n}var i=this.diff(e,this.favorites),a=this.getProcessBatch(i);o.forkJoin(a).subscribe((function(e){var n;(n=t.favorites).push.apply(n,de(e))}))},e.prototype.hasFavorites=function(){return!(this.favorites&&!this.favorites.length)&&this.favorites.every((function(e){return e.entry.isFavorite}))},e.prototype.getProcessBatch=function(e){var t=this;return e.map((function(e){return t.getFavorite(e)}))},e.prototype.getFavorite=function(e){var t=e.entry;if(t&&t.hasOwnProperty("isFavorite"))return o.of(e);var n=t.name,i=t.isFile,a=t.isFolder,r=t.nodeId||t.id,l=this.favoritesApi.getFavorite("-me-",r);return o.from(l).pipe(s.map((function(){return{entry:{id:r,isFolder:a,isFile:i,name:n,isFavorite:!0}}})),s.catchError((function(){return o.of({entry:{id:r,isFolder:a,isFile:i,name:n,isFavorite:!1}})})))},e.prototype.createFavoriteBody=function(e){var t,n=this.getNodeType(e),i=e.entry.nodeId||e.entry.id;return{target:(t={},t[n]={guid:i},t)}},e.prototype.getNodeType=function(e){return e.entry.isFile||e.entry.isFolder?e.entry.isFile?"file":"folder":"file"},e.prototype.diff=function(e,t){var n=t.map((function(e){return e.entry.id}));return e.filter((function(e){return n.includes(e.entry.id)?null:e}))},e.prototype.reduce=function(e,t){var n=t.map((function(e){return e.entry.id}));return e.filter((function(e){return n.includes(e.entry.id)?e:null}))},e}();It.decorators=[{type:t.Directive,args:[{selector:"[adf-node-favorite]",exportAs:"adfFavorite"}]}],It.ctorParameters=function(){return[{type:Ce}]},It.propDecorators={selection:[{type:t.Input,args:["adf-node-favorite"]}],toggle:[{type:t.Output}],error:[{type:t.Output}],onClick:[{type:t.HostListener,args:["click"]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t}(String);Et.CONTRIBUTOR="Contributor",Et.CONSUMER="Consumer",Et.COLLABORATOR="Collaborator",Et.MANAGER="Manager",Et.EDITOR="Editor",Et.COORDINATOR="Coordinator",Et.NOT_CONTRIBUTOR="!Contributor",Et.NOT_CONSUMER="!Consumer",Et.NOT_COLLABORATOR="!Collaborator",Et.NOT_MANAGER="!Manager",Et.NOT_EDITOR="!Editor",Et.NOT_COORDINATOR="!Coordinator";
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ct=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t}(String);Ct.DELETE="delete",Ct.UPDATE="update",Ct.CREATE="create",Ct.COPY="copy",Ct.LOCK="lock",Ct.UPDATEPERMISSIONS="updatePermissions",Ct.NOT_DELETE="!delete",Ct.NOT_UPDATE="!update",Ct.NOT_CREATE="!create",Ct.NOT_UPDATEPERMISSIONS="!updatePermissions";var xt=function(){function e(){var e;this.saveData=(e=document.createElement("a"),document.body.appendChild(e),e.style.display="none",function(t,n,i){var a=null;if("blob"!==n&&"data"!==n||(a=new Blob([t],{type:"octet/stream"})),"object"===n||"json"===n){var o=JSON.stringify(t);a=new Blob([o],{type:"octet/stream"})}if(a)if(void 0!==window.navigator&&window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(a,i);else{var r=window.URL.createObjectURL(a);e.href=r,e.download=i,e.click(),window.URL.revokeObjectURL(r)}})}return e.prototype.downloadBlob=function(e,t){this.saveData(e,"blob",t)},e.prototype.downloadData=function(e,t){this.saveData(e,"data",t)},e.prototype.downloadJSON=function(e,t){this.saveData(e,"json",t)},e.prototype.downloadUrl=function(e,t){if(e&&t){var n=document.createElement("a");n.style.display="none",n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}},e}();xt.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new xt},token:xt,providedIn:"root"}),xt.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],xt.ctorParameters=function(){return[]};var St=function(){function e(e,t,n,i,a,r){this.authService=e,this.apiService=t,this.logService=n,this.sanitizer=i,this.downloadService=a,this.thumbnailService=r,this.folderCreated=new o.Subject,this.folderCreate=new o.Subject,this.folderEdit=new o.Subject}return Object.defineProperty(e.prototype,"contentApi",{get:function(){var e;return this._contentApi=null!==(e=this._contentApi)&&void 0!==e?e:new r.ContentApi(this.apiService.getInstance()),this._contentApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nodesApi",{get:function(){var e;return this._nodesApi=null!==(e=this._nodesApi)&&void 0!==e?e:new r.NodesApi(this.apiService.getInstance()),this._nodesApi},enumerable:!1,configurable:!0}),e.prototype.downloadBlob=function(e,t){this.downloadService.downloadBlob(e,t)},e.prototype.createTrustedUrl=function(e){var t=window.URL.createObjectURL(e);return this.sanitizer.bypassSecurityTrustUrl(t)},e.prototype.getDocumentThumbnailUrl=function(e,t,n){return this.thumbnailService.getDocumentThumbnailUrl(e,t,n)},e.prototype.getContentUrl=function(e,t,n){if(e){var i=void 0;return"string"==typeof e?i=e:e.entry&&(i=e.entry.id),this.contentApi.getContentUrl(i,t,n)}return null},e.prototype.getNodeContent=function(e){var t=this;return o.from(this.nodesApi.getNodeContent(e)).pipe(s.catchError((function(e){return t.handleError(e)})))},e.prototype.getNode=function(e,t){return o.from(this.nodesApi.getNode(e,t))},e.prototype.hasPermissions=function(e,t,n){var i,a,o=!1;n=null!=n?n:this.authService.getEcmUsername();var r=de((null===(i=e.permissions)||void 0===i?void 0:i.locallySet)||[],(null===(a=e.permissions)||void 0===a?void 0:a.inherited)||[]).filter((function(e){return e.authorityId===n}));return r.length?o=t&&t.startsWith("!")?!r.find((function(e){return e.name===t.replace("!","")})):!!r.find((function(e){return e.name===t})):t===Et.CONSUMER?o=!0:t===Et.NOT_CONSUMER?o=!1:t&&t.startsWith("!")&&(o=!0),o},e.prototype.hasAllowableOperations=function(e,t){var n=!1;return e&&e.allowableOperations?n=t&&t.startsWith("!")?!e.allowableOperations.find((function(e){return e===t.replace("!","")})):!!e.allowableOperations.find((function(e){return e===t})):t&&t.startsWith("!")&&(n=!0),t===Ct.COPY&&(n=!0),t===Ct.LOCK&&(n=e.isFile,e.isLocked&&e.allowableOperations&&(n=!!~e.allowableOperations.indexOf("updatePermissions"))),n},e.prototype.handleError=function(e){return this.logService.error(e),o.throwError(e||"Server error")},e}();St.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new St(t.ɵɵinject(De),t.ɵɵinject(Ce),t.ɵɵinject(Ae),t.ɵɵinject(H.DomSanitizer),t.ɵɵinject(xt),t.ɵɵinject(tt))},token:St,providedIn:"root"}),St.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],St.ctorParameters=function(){return[{type:De},{type:Ce},{type:Ae},{type:H.DomSanitizer},{type:xt},{type:tt}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Tt=new t.InjectionToken("extendible.component"),At=function(){function e(e,t,n,i,a){this.elementRef=e,this.renderer=t,this.contentService=n,this.changeDetector=i,this.parentComponent=a,this.permission=null,this.nodes=[]}return e.prototype.ngOnChanges=function(e){e.nodes&&!e.nodes.firstChange&&this.updateElement()},e.prototype.updateElement=function(){var e=this.hasAllowableOperations(this.nodes,this.permission);return e?this.enable():this.disable(),e},e.prototype.enable=function(){this.parentComponent?(this.parentComponent.disabled=!1,this.changeDetector.detectChanges()):this.enableElement()},e.prototype.disable=function(){this.parentComponent?(this.parentComponent.disabled=!0,this.changeDetector.detectChanges()):this.disableElement()},e.prototype.enableElement=function(){this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")},e.prototype.disableElement=function(){this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","true")},e.prototype.hasAllowableOperations=function(e,t){var n=this;return!!(e&&e.length>0)&&e.every((function(e){return n.contentService.hasAllowableOperations(e.entry,t)}))},e}();
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */At.decorators=[{type:t.Directive,args:[{selector:"[adf-check-allowable-operation]"}]}],At.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:St},{type:t.ChangeDetectorRef},{type:void 0,decorators:[{type:t.Host},{type:t.Optional},{type:t.Inject,args:[Tt]}]}]},At.propDecorators={permission:[{type:t.Input,args:["adf-check-allowable-operation"]}],nodes:[{type:t.Input,args:["adf-nodes"]}]};var Ot=function(){},Rt=function(){function e(e,n){this.alfrescoApiService=e,this.translation=n,this.restore=new t.EventEmitter,this.restoreProcessStatus=this.processStatus()}return Object.defineProperty(e.prototype,"trashcanApi",{get:function(){var e;return this._trashcanApi=null!==(e=this._trashcanApi)&&void 0!==e?e:new r.TrashcanApi(this.alfrescoApiService.getInstance()),this._trashcanApi},enumerable:!1,configurable:!0}),e.prototype.onClick=function(){this.recover(this.selection)},e.prototype.recover=function(e){var t,n=this;if(e.length){var i=this.getNodesWithPath(e);if(!e.length||!i.length)return(t=this.restoreProcessStatus.fail).push.apply(t,de(e)),void this.notification();this.restoreNodesBatch(i).pipe(s.tap((function(e){var t,i,a=n.processStatus(e);(t=n.restoreProcessStatus.fail).push.apply(t,de(a.fail)),(i=n.restoreProcessStatus.success).push.apply(i,de(a.success))})),s.mergeMap((function(){return n.getDeletedNodes()}))).subscribe((function(t){var i=t.list.entries,a=n.restoreProcessStatus.fail,o=n.diff(a,e,!1),r=n.diff(o,i);r.length?n.recover(r):n.notification()}))}},e.prototype.restoreNodesBatch=function(e){var t=this;return o.forkJoin(e.map((function(e){return t.restoreNode(e)})))},e.prototype.getNodesWithPath=function(e){return e.filter((function(e){return e.entry.path}))},e.prototype.getDeletedNodes=function(){var e=this.trashcanApi.listDeletedNodes({include:["path"]});return o.from(e)},e.prototype.restoreNode=function(e){var t=e.entry,n=this.trashcanApi.restoreDeletedNode(t.id);return o.from(n).pipe(s.map((function(){return{status:1,entry:t}})),s.catchError((function(e){var n=JSON.parse(e.message).error.statusCode;return o.of({status:0,statusCode:n,entry:t})})))},e.prototype.diff=function(e,t,n){void 0===n&&(n=!0);var i=e.map((function(e){return e.entry.id}));return t.filter((function(e){return n?i.includes(e.entry.id)?e:null:i.includes(e.entry.id)?null:e}))},e.prototype.processStatus=function(e){void 0===e&&(e=[]);var t={fail:[],success:[],get someFailed(){return!!this.fail.length},get someSucceeded(){return!!this.success.length},get oneFailed(){return 1===this.fail.length},get oneSucceeded(){return 1===this.success.length},get allSucceeded(){return this.someSucceeded&&!this.someFailed},get allFailed(){return this.someFailed&&!this.someSucceeded},reset:function(){this.fail=[],this.success=[]}};return e.reduce((function(e,t){return t.status?e.success.push(t):e.fail.push(t),e}),t)},e.prototype.getRestoreMessage=function(){var e=this.restoreProcessStatus;return e.someFailed&&!e.oneFailed?this.translation.instant("CORE.RESTORE_NODE.PARTIAL_PLURAL",{number:e.fail.length}):e.oneFailed&&e.fail[0].statusCode?409===e.fail[0].statusCode?this.translation.instant("CORE.RESTORE_NODE.NODE_EXISTS",{name:e.fail[0].entry.name}):this.translation.instant("CORE.RESTORE_NODE.GENERIC",{name:e.fail[0].entry.name}):e.oneFailed&&!e.fail[0].statusCode?this.translation.instant("CORE.RESTORE_NODE.LOCATION_MISSING",{name:e.fail[0].entry.name}):e.allSucceeded&&!e.oneSucceeded?this.translation.instant("CORE.RESTORE_NODE.PLURAL"):e.allSucceeded&&e.oneSucceeded?this.translation.instant("CORE.RESTORE_NODE.SINGULAR",{name:e.success[0].entry.name}):null},e.prototype.notification=function(){var e=Object.assign({},this.restoreProcessStatus),t=this.getRestoreMessage();this.reset();var n,i=e.oneSucceeded&&!e.someFailed?this.translation.instant("CORE.RESTORE_NODE.VIEW"):"";e.success&&e.success.length>0&&(n=e.success[0].entry.path),this.restore.emit({message:t,action:i,path:n})},e.prototype.reset=function(){this.restoreProcessStatus.reset(),this.selection=[]},e}();Rt.decorators=[{type:t.Directive,args:[{selector:"[adf-restore]"}]}],Rt.ctorParameters=function(){return[{type:Ce},{type:Ze}]},Rt.propDecorators={selection:[{type:t.Input,args:["adf-restore"]}],restore:[{type:t.Output}],onClick:[{type:t.HostListener,args:["click"]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Dt=function(){function e(e,t,n){this.el=e,this.renderer=t,this.ngZone=n,this.enabled=!0,this.mode=["drop"],this.isDragging=!1,this.cssClassName="adf-upload__dragging",this.element=e.nativeElement}return e.prototype.ngOnInit=function(){var e=this;if(this.isClickMode()&&this.renderer){var t=this.renderer.createElement("input");this.upload=this.el.nativeElement.parentElement.appendChild(t),this.upload.type="file",this.upload.style.display="none",this.upload.addEventListener("change",(function(t){return e.onSelectFiles(t)})),this.multiple&&this.upload.setAttribute("multiple",""),this.accept&&this.upload.setAttribute("accept",this.accept),this.directory&&this.upload.setAttribute("webkitdirectory","")}this.isDropMode()&&this.ngZone.runOutsideAngular((function(){e.element.addEventListener("dragenter",e.onDragEnter.bind(e)),e.element.addEventListener("dragover",e.onDragOver.bind(e)),e.element.addEventListener("dragleave",e.onDragLeave.bind(e)),e.element.addEventListener("drop",e.onDrop.bind(e))}))},e.prototype.ngOnDestroy=function(){this.element.removeEventListener("dragenter",this.onDragEnter),this.element.removeEventListener("dragover",this.onDragOver),this.element.removeEventListener("dragleave",this.onDragLeave),this.element.removeEventListener("drop",this.onDrop)},e.prototype.onClick=function(e){this.isClickMode()&&this.upload&&(e.preventDefault(),this.upload.click())},e.prototype.onDragEnter=function(e){this.isDropMode()&&(e.dataTransfer.dropEffect="copy",this.element.classList.add(this.cssClassName),this.isDragging=!0)},e.prototype.onDragOver=function(e){return e.preventDefault(),this.isDropMode()&&(e.dataTransfer.dropEffect="copy",this.element.classList.add(this.cssClassName),this.isDragging=!0),!1},e.prototype.onDragLeave=function(){this.isDropMode()&&(this.element.classList.remove(this.cssClassName),this.isDragging=!1)},e.prototype.onDrop=function(e){var t=this;if(this.isDropMode()){e.stopPropagation(),e.preventDefault(),this.element.classList.remove(this.cssClassName),this.isDragging=!1;var n=this.getDataTransfer(e);n&&this.getFilesDropped(n).then((function(e){t.onUploadFiles(e)}))}return!1},e.prototype.onUploadFiles=function(e){if(this.enabled&&e.length>0){var t=new CustomEvent("upload-files",{detail:{sender:this,data:this.data,files:e},bubbles:!0});this.el.nativeElement.dispatchEvent(t)}},e.prototype.hasMode=function(e){return this.enabled&&e&&this.mode&&this.mode.indexOf(e)>-1},e.prototype.isDropMode=function(){return this.hasMode("drop")},e.prototype.isClickMode=function(){return this.hasMode("click")},e.prototype.getDataTransfer=function(e){return e&&e.dataTransfer?e.dataTransfer:e&&e.originalEvent&&e.originalEvent.dataTransfer?e.originalEvent.dataTransfer:null},e.prototype.getFilesDropped=function(e){return new Promise((function(t){var n=[];if(e){var i=e.items;if(i)for(var a=function(e){if(void 0!==i[e].webkitGetAsEntry){var t=i[e].webkitGetAsEntry();t&&(t.isFile?n.push(Promise.resolve({entry:t,file:i[e].getAsFile(),relativeFolder:"/"})):t.isDirectory&&n.push(new Promise((function(e){pe.flatten(t).then((function(t){return e(t)}))}))))}else n.push(Promise.resolve({entry:null,file:i[e].getAsFile(),relativeFolder:"/"}))},o=0;o<i.length;o++)a(o);else{var r=pe.toFileArray(e.files).map((function(e){return{entry:null,file:e,relativeFolder:"/"}}));n.push(Promise.resolve(r))}}Promise.all(n).then((function(e){t(e.reduce((function(e,t){return e.concat(t)}),[]))}))}))},e.prototype.onSelectFiles=function(e){if(this.isClickMode()){var t=e.currentTarget,n=pe.toFileArray(t.files);this.onUploadFiles(n.map((function(e){return{entry:null,file:e,relativeFolder:"/"}}))),e.target.value=""}},e}();Dt.decorators=[{type:t.Directive,args:[{selector:"[adf-upload]"}]}],Dt.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:t.NgZone}]},Dt.propDecorators={enabled:[{type:t.Input,args:["adf-upload"]}],data:[{type:t.Input,args:["adf-upload-data"]}],mode:[{type:t.Input}],multiple:[{type:t.Input}],accept:[{type:t.Input}],directory:[{type:t.Input}],onClick:[{type:t.HostListener,args:["click",["$event"]]}]};var Pt=function(){function e(e,t){this.apiService=e,this.logService=t}return Object.defineProperty(e.prototype,"downloadsApi",{get:function(){var e;return this._downloadsApi=null!==(e=this._downloadsApi)&&void 0!==e?e:new r.DownloadsApi(this.apiService.getInstance()),this._downloadsApi},enumerable:!1,configurable:!0}),e.prototype.createDownload=function(e){var t=this;return o.from(this.downloadsApi.createDownload(e)).pipe(s.catchError((function(e){return t.handleError(e)})))},e.prototype.getDownload=function(e){return o.from(this.downloadsApi.getDownload(e))},e.prototype.cancelDownload=function(e){this.downloadsApi.cancelDownload(e)},e.prototype.handleError=function(e){return this.logService.error(e),o.throwError(e||"Server error")},e}();Pt.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Pt(t.ɵɵinject(Ce),t.ɵɵinject(Ae))},token:Pt,providedIn:"root"}),Pt.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Pt.ctorParameters=function(){return[{type:Ce},{type:Ae}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var _t=function(e,t){this.metadata=e,this.nodeType=t},Lt=function(){function e(e,t){this.apiService=e,this.preferences=t}return Object.defineProperty(e.prototype,"trashcanApi",{get:function(){var e;return this._trashcanApi=null!==(e=this._trashcanApi)&&void 0!==e?e:new r.TrashcanApi(this.apiService.getInstance()),this._trashcanApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nodesApi",{get:function(){var e;return this._nodesApi=null!==(e=this._nodesApi)&&void 0!==e?e:new r.NodesApi(this.apiService.getInstance()),this._nodesApi},enumerable:!1,configurable:!0}),e.prototype.getEntryFromEntity=function(e){return e.entry},e.prototype.getNode=function(e,t){void 0===t&&(t={});var n=Object.assign({include:["path","properties","allowableOperations","permissions"]},t);return o.from(this.nodesApi.getNode(e,n)).pipe(s.map(this.getEntryFromEntity),s.catchError((function(e){return o.throwError(e)})))},e.prototype.getNodeChildren=function(e,t){void 0===t&&(t={});var n={maxItems:this.preferences.paginationSize,skipCount:0,include:["path","properties","allowableOperations","permissions"]},i=Object.assign(n,t);return o.from(this.nodesApi.listNodeChildren(e,i)).pipe(s.catchError((function(e){return o.throwError(e)})))},e.prototype.createNode=function(e,t,n){return void 0===n&&(n={}),o.from(this.nodesApi.createNode(e,t,n)).pipe(s.map(this.getEntryFromEntity),s.catchError((function(e){return o.throwError(e)})))},e.prototype.createFolder=function(e,t,n){void 0===n&&(n={});var i=Object.assign({nodeType:"cm:folder"},t);return this.createNode(e,i,n)},e.prototype.updateNode=function(e,t,n){void 0===n&&(n={});var i=Object.assign({include:["path","properties","allowableOperations","permissions","definition"]},n);return o.from(this.nodesApi.updateNode(e,t,i)).pipe(s.map(this.getEntryFromEntity),s.catchError((function(e){return o.throwError(e)})))},e.prototype.deleteNode=function(e,t){return void 0===t&&(t={}),o.from(this.nodesApi.deleteNode(e,t)).pipe(s.catchError((function(e){return o.throwError(e)})))},e.prototype.restoreNode=function(e){return o.from(this.trashcanApi.restoreDeletedNode(e)).pipe(s.map(this.getEntryFromEntity),s.catchError((function(e){return o.throwError(e)})))},e.prototype.getNodeMetadata=function(e){return o.from(this.nodesApi.getNode(e)).pipe(s.map(this.cleanMetadataFromSemicolon))},e.prototype.createNodeMetadata=function(e,t,n,i,a){var o={};for(var r in n)n[r]&&(o[t+":"+r]=n[r]);return this.createNodeInsideRoot(a||this.generateUuid(),e,o,i)},e.prototype.createNodeInsideRoot=function(e,t,n,i){var a={name:e,nodeType:t,properties:n,relativePath:i};return o.from(this.nodesApi.createNode("-root-",a,{}))},e.prototype.generateUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e.prototype.cleanMetadataFromSemicolon=function(e){var t={};if(e&&e.entry.properties)for(var n in e.entry.properties)n&&(-1!==n.indexOf(":")?t[n.split(":")[1]]=e.entry.properties[n]:t[n]=e.entry.properties[n]);return new _t(t,e.entry.nodeType)},e}();Lt.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Lt(t.ɵɵinject(Ce),t.ɵɵinject(Je))},token:Lt,providedIn:"root"}),Lt.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Lt.ctorParameters=function(){return[{type:Ce},{type:Je}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ft=function(){function e(e,t,n,i,a,o){this.dialogRef=e,this.data=t,this.logService=n,this.downloadZipService=i,this.nodeService=a,this.contentService=o,this.cancelled=!1}return e.prototype.ngOnInit=function(){this.data&&this.data.nodeIds&&this.data.nodeIds.length>0&&(this.cancelled?this.logService.log("Cancelled"):this.downloadZip(this.data.nodeIds))},e.prototype.cancelDownload=function(){this.cancelled=!0,this.downloadZipService.cancelDownload(this.downloadId),this.dialogRef.close(!1)},e.prototype.downloadZip=function(e){var t=this;e&&e.length>0&&this.downloadZipService.createDownload({nodeIds:e}).subscribe((function(e){if(e&&e.entry&&e.entry.id){var n=t.contentService.getContentUrl(e.entry.id,!0);t.nodeService.getNode(e.entry.id).subscribe((function(i){t.logService.log(i);var a=i.name;t.downloadId=e.entry.id,t.waitAndDownload(e.entry.id,n,a)}))}}))},e.prototype.waitAndDownload=function(e,t,n){var i=this;this.cancelled||this.downloadZipService.getDownload(e).subscribe((function(a){a.entry&&("DONE"===a.entry.status?i.download(t,n):setTimeout((function(){i.waitAndDownload(e,t,n)}),1e3))}))},e.prototype.download=function(e,t){if(e&&t){var n=document.createElement("a");n.style.display="none",n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}this.dialogRef.close(!0)},e}();Ft.decorators=[{type:t.Component,args:[{selector:"adf-download-zip-dialog",template:'<h1 matDialogTitle>{{ \'CORE.DIALOG.DOWNLOAD_ZIP.TITLE\' | translate }}</h1>\n<div mat-dialog-content>\n    <mat-progress-bar color="primary" mode="indeterminate"></mat-progress-bar>\n</div>\n<mat-dialog-actions align="end">\n    <button mat-button color="primary" id="cancel-button" (click)="cancelDownload()">\n        {{ \'CORE.DIALOG.DOWNLOAD_ZIP.ACTIONS.CANCEL\' | translate }}\n    </button>\n</mat-dialog-actions>\n',host:{class:"adf-download-zip-dialog"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-download-zip-dialog .mat-dialog-actions .mat-button-wrapper{text-transform:uppercase}"]}]}],Ft.ctorParameters=function(){return[{type:b.MatDialogRef},{type:void 0,decorators:[{type:t.Inject,args:[b.MAT_DIALOG_DATA]}]},{type:Ae},{type:Pt},{type:Lt},{type:St}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var kt=function(){function e(e,t,n){this.apiService=e,this.downloadService=t,this.dialog=n}return Object.defineProperty(e.prototype,"contentApi",{get:function(){var e;return this._contentApi=null!==(e=this._contentApi)&&void 0!==e?e:new r.ContentApi(this.apiService.getInstance()),this._contentApi},enumerable:!1,configurable:!0}),e.prototype.onClick=function(){this.downloadNodes(this.nodes)},e.prototype.downloadNodes=function(e){this.isSelectionValid(e)&&(e instanceof Array?1===e.length?this.downloadNode(e[0]):this.downloadZip(e):this.downloadNode(e))},e.prototype.downloadNode=function(e){if(e&&e.entry){var t=e.entry;t.isFile&&this.downloadFile(e),t.isFolder&&this.downloadZip([e]),t.isFile||t.isFolder||!t.nodeId||this.downloadFile(e)}},e.prototype.isSelectionValid=function(e){return e||e instanceof Array&&e.length>0},e.prototype.downloadFile=function(e){if(e&&e.entry){var t=e.entry.nodeId||e.entry.id,n=void 0,i=void 0;this.version?(n=this.contentApi.getVersionContentUrl(t,this.version.entry.id,!0),i=this.version.entry.name):(n=this.contentApi.getContentUrl(t,!0),i=e.entry.name),this.downloadService.downloadUrl(n,i)}},e.prototype.downloadZip=function(e){if(e&&e.length>0){var t=e.map((function(e){return e.entry.nodeId||e.entry.id}));this.dialog.open(Ft,{width:"600px",disableClose:!0,data:{nodeIds:t}})}},e}();kt.decorators=[{type:t.Directive,args:[{selector:"[adfNodeDownload]"}]}],kt.ctorParameters=function(){return[{type:Ce},{type:xt},{type:b.MatDialog}]},kt.propDecorators={nodes:[{type:t.Input,args:["adfNodeDownload"]}],version:[{type:t.Input}],onClick:[{type:t.HostListener,args:["click"]}]};var Vt=function(){function e(e){var t=this;this.discoveryApiService=e,this.acsVersionInitialized$=new o.ReplaySubject,this.discoveryApiService.ecmProductInfo$.pipe(s.filter((function(e){return!!e}))).subscribe((function(e){return t.initializeAcsVersion(e.version)}))}return e.prototype.initializeAcsVersion=function(e){this.acsVersion=e,this.acsVersionInitialized$.next()},e.prototype.getAcsVersion=function(){return this.acsVersion},e.prototype.isVersionSupported=function(e){var t=this.parseVersion(e),n=this.getAcsVersion(),i=!1;return n&&(+n.major>+t.major||n.major===t.major&&+n.minor>+t.minor||n.major===t.major&&n.minor===t.minor&&+n.patch>=+t.patch)&&(i=!0),i},e.prototype.parseVersion=function(e){return{major:e.split(".")[0],minor:e.split(".")[1]||"0",patch:e.split(".")[2]||"0"}},e}();Vt.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Vt(t.ɵɵinject(Ne))},token:Vt,providedIn:"root"}),Vt.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Vt.ctorParameters=function(){return[{type:Ne}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Nt=function(){function e(e,t,n){this.templateRef=e,this.viewContainer=t,this.versionCompatibilityService=n}return Object.defineProperty(e.prototype,"version",{set:function(e){this.validateAcsVersion(e)},enumerable:!1,configurable:!0}),e.prototype.validateAcsVersion=function(e){var t=this;this.versionCompatibilityService.acsVersionInitialized$.pipe(s.take(1)).subscribe((function(){t.viewContainer.clear(),e&&t.versionCompatibilityService.isVersionSupported(e)&&t.viewContainer.createEmbeddedView(t.templateRef)}))},e}();Nt.decorators=[{type:t.Directive,args:[{selector:"[adf-acs-version]"}]}],Nt.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef},{type:Vt}]},Nt.propDecorators={version:[{type:t.Input,args:["adf-acs-version"]}]};var Mt=function(){function e(e){this.sanitizer=e,this.image="",this.text="",this.htmlContent="",this.width="300"}return e.prototype.sanitizedHtmlContent=function(){return this.sanitizer.sanitize(t.SecurityContext.HTML,this.htmlContent)},e}();Mt.decorators=[{type:t.Component,args:[{selector:"adf-tooltip-card-component",template:'<div @tooltip class="adf-tooltip-card" [style.width.px]="width">\n    <img *ngIf="image " [src]="image" [width]="width" alt="{{text}}">\n    <hr *ngIf="image" />\n    <p *ngIf="text">{{text}}</p>\n    <div *ngIf="htmlContent" [innerHTML]="sanitizedHtmlContent()" class="adf-tooltip-card-content"></div>\n</div>\n',animations:[B.trigger("tooltip",[B.transition(":enter",[B.style({opacity:0}),B.animate(200,B.style({opacity:1}))]),B.transition(":leave",[B.animate(200,B.style({opacity:0}))])])],styles:[":host{display:block}div.adf-tooltip-card{background-color:var(--theme-card-bg-color);border:1px solid var(--theme-primary-color);border-radius:6px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);padding:12px}div.adf-tooltip-card div,div.adf-tooltip-card p{color:var(--adf-tooltip-card-color);font-size:var(--theme-caption-font-size);margin:0}div.adf-tooltip-card hr{border:1px solid var(--theme-primary-color);margin:6px 0}div.adf-tooltip-card img{border-radius:6px}::ng-deep .cdk-overlay-connected-position-bounding-box{margin-top:10px!important}"]}]}],Mt.ctorParameters=function(){return[{type:H.DomSanitizer}]},Mt.propDecorators={image:[{type:t.Input}],text:[{type:t.Input}],htmlContent:[{type:t.Input}],width:[{type:t.Input}]};var Ut=function(){function e(e,t,n){this.overlay=e,this.overlayPositionBuilder=t,this.elementRef=n,this.text="",this.image="",this.width="300",this.htmlContent="",this.originX="start",this.originY="top",this.overlayX="start",this.overlayY="bottom",this.offsetX=0,this.offsetY=-8}return e.prototype.ngOnDestroy=function(){this.hide()},e.prototype.ngOnInit=function(){var e=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions([{originX:this.originX,originY:this.originY,overlayX:this.overlayX,overlayY:this.overlayY,offsetY:this.offsetY,offsetX:this.offsetX}]);this.overlayRef=this.overlay.create({positionStrategy:e})},e.prototype.show=function(){var e=this.overlayRef.attach(new j.ComponentPortal(Mt));e.instance.text=this.text,e.instance.image=this.image,e.instance.width=this.width,e.instance.htmlContent=this.htmlContent},e.prototype.hide=function(){this.overlayRef.detach()},e}();Ut.decorators=[{type:t.Directive,args:[{selector:"[adf-tooltip-card]"}]}],Ut.ctorParameters=function(){return[{type:U.Overlay},{type:U.OverlayPositionBuilder},{type:t.ElementRef}]},Ut.propDecorators={text:[{type:t.Input,args:["adf-tooltip-card"]}],image:[{type:t.Input}],width:[{type:t.Input}],htmlContent:[{type:t.Input}],originX:[{type:t.Input}],originY:[{type:t.Input}],overlayX:[{type:t.Input}],overlayY:[{type:t.Input}],offsetX:[{type:t.Input}],offsetY:[{type:t.Input}],show:[{type:t.HostListener,args:["mouseenter"]}],hide:[{type:t.HostListener,args:["mouseleave"]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var jt=function(){function e(e){this.matSelect=e,this.scrollEnd=new t.EventEmitter,this.onDestroy$=new o.Subject,this.itemHeightToWaitBeforeLoadNext=0}return e.prototype.ngAfterViewInit=function(){var t=this;this.matSelect.openedChange.pipe(s.takeUntil(this.onDestroy$)).subscribe((function(n){n&&(t.itemHeightToWaitBeforeLoadNext=t.getItemHeight()*(e.MAX_ITEMS/2),t.matSelect.panel.nativeElement.addEventListener("scroll",(function(e){return t.handleScrollEvent(e)})))}))},e.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},e.prototype.handleScrollEvent=function(e){this.isScrollInNextFetchArea(e)&&this.scrollEnd.emit(e)},e.prototype.isScrollInNextFetchArea=function(e){var t=e.target;return t.scrollTop>=t.scrollHeight-t.offsetHeight-this.itemHeightToWaitBeforeLoadNext},e.prototype.getItemHeight=function(){return 3*parseFloat(getComputedStyle(this.matSelect.panel.nativeElement).fontSize||"0")},e}();jt.MAX_ITEMS=50,jt.decorators=[{type:t.Directive,args:[{selector:"[adf-infinite-select-scroll]"}]}],jt.ctorParameters=function(){return[{type:R.MatSelect,decorators:[{type:t.Inject,args:[R.MatSelect]}]}]},jt.propDecorators={scrollEnd:[{type:t.Output}]};var Bt=function(){function e(e){this.alfrescoApiService=e,this.library=null,this.toggle=new t.EventEmitter,this.error=new t.EventEmitter,this.targetLibrary=null}return Object.defineProperty(e.prototype,"favoritesApi",{get:function(){var e;return this._favoritesApi=null!==(e=this._favoritesApi)&&void 0!==e?e:new r.FavoritesApi(this.alfrescoApiService.getInstance()),this._favoritesApi},enumerable:!1,configurable:!0}),e.prototype.onClick=function(){var e=this.targetLibrary.entry.guid;this.targetLibrary.isFavorite?this.removeFavorite(e):this.addFavorite({target:{site:{guid:e}}})},e.prototype.ngOnChanges=function(e){e.library.currentValue?(this.targetLibrary=e.library.currentValue,this.markFavoriteLibrary(e.library.currentValue)):this.targetLibrary=null},e.prototype.isFavorite=function(){return this.targetLibrary&&this.targetLibrary.isFavorite},e.prototype.markFavoriteLibrary=function(e){return oe(this,void 0,void 0,(function(){return re(this,(function(t){switch(t.label){case 0:if(void 0!==this.targetLibrary.isFavorite)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.favoritesApi.getFavoriteSite("-me-",e.entry.id)];case 2:return t.sent(),this.targetLibrary.isFavorite=!0,[3,4];case 3:return t.sent(),this.targetLibrary.isFavorite=!1,[3,4];case 4:return[3,6];case 5:this.targetLibrary=e,t.label=6;case 6:return[2]}}))}))},e.prototype.addFavorite=function(e){var t=this;this.favoritesApi.createFavorite("-me-",e).then((function(e){t.targetLibrary.isFavorite=!0,t.toggle.emit(e)})).catch((function(e){return t.error.emit(e)}))},e.prototype.removeFavorite=function(e){var t=this;this.favoritesApi.deleteFavorite("-me-",e).then((function(e){t.targetLibrary.isFavorite=!1,t.toggle.emit(e)})).catch((function(e){return t.error.emit(e)}))},e}();Bt.decorators=[{type:t.Directive,args:[{selector:"[adf-favorite-library]",exportAs:"favoriteLibrary"}]}],Bt.ctorParameters=function(){return[{type:Ce}]},Bt.propDecorators={library:[{type:t.Input,args:["adf-favorite-library"]}],toggle:[{type:t.Output}],error:[{type:t.Output}],onClick:[{type:t.HostListener,args:["click"]}]};var zt=function(){function e(e,t){this.apiService=e,this.logService=t}return Object.defineProperty(e.prototype,"sitesApi",{get:function(){var e;return this._sitesApi=null!==(e=this._sitesApi)&&void 0!==e?e:new r.SitesApi(this.apiService.getInstance()),this._sitesApi},enumerable:!1,configurable:!0}),e.prototype.createSite=function(e){var t=this;return o.from(this.sitesApi.createSite(e)).pipe(s.catchError((function(e){return t.handleError(e)})))},e.prototype.getSites=function(e){var t=this;void 0===e&&(e={});var n=Object.assign({},{skipCount:0,include:["properties"]},e);return o.from(this.sitesApi.listSites(n)).pipe(s.catchError((function(e){return t.handleError(e)})))},e.prototype.getSite=function(e,t){var n=this;return o.from(this.sitesApi.getSite(e,t)).pipe(s.catchError((function(e){return n.handleError(e)})))},e.prototype.deleteSite=function(e,t){var n=this;void 0===t&&(t=!0);var i={};return i.permanent=t,o.from(this.sitesApi.deleteSite(e,i)).pipe(s.catchError((function(e){return n.handleError(e)})))},e.prototype.getSiteContent=function(e){return this.getSite(e,{relations:["containers"]})},e.prototype.getSiteMembers=function(e){return this.getSite(e,{relations:["members"]})},e.prototype.listSiteMemberships=function(e,t){return o.from(this.sitesApi.listSiteMemberships(e,t))},e.prototype.getEcmCurrentLoggedUserName=function(){return this.apiService.getInstance().getEcmUsername()},e.prototype.getSiteNameFromNodePath=function(e){var t="";if(e.path&&e.path.elements){var n=e.path.elements.find((function(e){return"st:site"===e.nodeType&&"Sites"!==e.name}));t=n?n.name:""}return t.toLocaleLowerCase()},e.prototype.getSiteMembershipRequests=function(e){var t=this;return o.from(this.sitesApi.getSiteMembershipRequests(e)).pipe(s.catchError((function(e){return t.handleError(e)})))},e.prototype.createSiteMembership=function(e,t,n){var i=this;return o.from(this.sitesApi.createSiteMembership(e,t,n)).pipe(s.catchError((function(e){return i.handleError(e)})))},e.prototype.updateSiteMembership=function(e,t,n,i){var a=this;return o.from(this.sitesApi.updateSiteMembership(e,t,n,i)).pipe(s.catchError((function(e){return a.handleError(e)})))},e.prototype.deleteSiteMembership=function(e,t){var n=this;return o.from(this.sitesApi.deleteSiteMembership(e,t)).pipe(s.catchError((function(e){return n.handleError(e)})))},e.prototype.approveSiteMembershipRequest=function(e,t,n){var i=this;return o.from(this.sitesApi.approveSiteMembershipRequest(e,t,n)).pipe(s.catchError((function(e){return i.handleError(e)})))},e.prototype.rejectSiteMembershipRequest=function(e,t,n){var i=this;return o.from(this.sitesApi.rejectSiteMembershipRequest(e,t,n)).pipe(s.catchError((function(e){return i.handleError(e)})))},e.prototype.listSiteGroups=function(e,t){var n=this;return o.from(this.sitesApi.listSiteGroups(e,t)).pipe(s.catchError((function(e){return n.handleError(e)})))},e.prototype.createSiteGroupMembership=function(e,t){var n=this;return o.from(this.sitesApi.createSiteGroupMembership(e,t)).pipe(s.catchError((function(e){return n.handleError(e)})))},e.prototype.getSiteGroupMembership=function(e,t){var n=this;return o.from(this.sitesApi.getSiteGroupMembership(e,t)).pipe(s.catchError((function(e){return n.handleError(e)})))},e.prototype.updateSiteGroupMembership=function(e,t,n){var i=this;return o.from(this.sitesApi.updateSiteGroupMembership(e,t,n)).pipe(s.catchError((function(e){return i.handleError(e)})))},e.prototype.deleteSiteGroupMembership=function(e,t){var n=this;return o.from(this.sitesApi.deleteSiteGroupMembership(e,t)).pipe(s.catchError((function(e){return n.handleError(e)})))},e.prototype.handleError=function(e){return this.logService.error(e),o.throwError(e||"Server error")},e}();zt.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new zt(t.ɵɵinject(Ce),t.ɵɵinject(Ae))},token:zt,providedIn:"root"}),zt.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],zt.ctorParameters=function(){return[{type:Ce},{type:Ae}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var $t=function(){function e(e,n,i){this.alfrescoApiService=e,this.sitesService=n,this.versionCompatibilityService=i,this.targetSite=null,this.isJoinRequested=new o.BehaviorSubject(!1),this.selection=null,this.isAdmin=!1,this.toggle=new t.EventEmitter,this.error=new t.EventEmitter}return Object.defineProperty(e.prototype,"sitesApi",{get:function(){var e;return this._sitesApi=null!==(e=this._sitesApi)&&void 0!==e?e:new r.SitesApi(this.alfrescoApiService.getInstance()),this._sitesApi},enumerable:!1,configurable:!0}),e.prototype.onClick=function(){this.toggleMembershipRequest()},e.prototype.ngOnChanges=function(e){e.selection.currentValue&&e.selection.currentValue.entry?(this.targetSite=e.selection.currentValue.entry,this.markMembershipRequest()):this.targetSite=null},e.prototype.toggleMembershipRequest=function(){var e=this;this.targetSite&&(this.targetSite.joinRequested&&this.cancelJoinRequest().subscribe((function(){e.targetSite.joinRequested=!1,e.isJoinRequested.next(!1);var t={updatedEntry:e.targetSite,shouldReload:!1,i18nKey:"APP.MESSAGES.INFO.JOIN_CANCELED"};e.toggle.emit(t)}),(function(t){var n={error:t,i18nKey:"APP.MESSAGES.ERRORS.JOIN_CANCEL_FAILED"};e.error.emit(n)})),this.targetSite.joinRequested||this.isAdmin||this.joinLibraryRequest().subscribe((function(t){if(e.targetSite.joinRequested=!0,e.isJoinRequested.next(!0),t.entry&&t.entry.site&&t.entry.site.role){var n={shouldReload:!0,i18nKey:"APP.MESSAGES.INFO.JOINED"};e.toggle.emit(n)}else{n={updatedEntry:e.targetSite,shouldReload:!1,i18nKey:"APP.MESSAGES.INFO.JOIN_REQUESTED"};e.toggle.emit(n)}}),(function(t){var n={error:t,i18nKey:"APP.MESSAGES.ERRORS.JOIN_REQUEST_FAILED"};t.message&&(t.message.includes("Failed to resolve sender mail address")?n.i18nKey="APP.MESSAGES.ERRORS.INVALID_SENDER_EMAIL":t.message.includes("All recipients for the mail action were invalid")&&(n.i18nKey="APP.MESSAGES.ERRORS.INVALID_RECEIVER_EMAIL")),e.error.emit(n)})),this.isAdmin&&this.joinLibrary().subscribe((function(t){if(t.entry&&t.entry.role){e.toggle.emit({shouldReload:!0,i18nKey:"APP.MESSAGES.INFO.JOINED"})}}),(function(t){var n={error:t,i18nKey:"APP.MESSAGES.ERRORS.JOIN_REQUEST_FAILED"};t.message&&(t.message.includes("Failed to resolve sender mail address")?n.i18nKey="APP.MESSAGES.ERRORS.INVALID_SENDER_EMAIL":t.message.includes("All recipients for the mail action were invalid")&&(n.i18nKey="APP.MESSAGES.ERRORS.INVALID_RECEIVER_EMAIL")),e.error.emit(n)})))},e.prototype.markMembershipRequest=function(){var e=this;this.targetSite&&this.getMembershipRequest().subscribe((function(t){t.entry.id===e.targetSite.id&&(e.targetSite.joinRequested=!0,e.isJoinRequested.next(!0))}),(function(){e.targetSite.joinRequested=!1,e.isJoinRequested.next(!1)}))},e.prototype.joinLibraryRequest=function(){var e={id:this.targetSite.id};return this.versionCompatibilityService.isVersionSupported("7.0.0")&&(e.client="workspace"),o.from(this.sitesApi.createSiteMembershipRequestForPerson("-me-",e))},e.prototype.joinLibrary=function(){return this.sitesService.createSiteMembership(this.targetSite.id,{role:"SiteConsumer",id:"-me-"})},e.prototype.cancelJoinRequest=function(){return o.from(this.sitesApi.deleteSiteMembershipRequestForPerson("-me-",this.targetSite.id))},e.prototype.getMembershipRequest=function(){return o.from(this.sitesApi.getSiteMembershipRequestForPerson("-me-",this.targetSite.id))},e}();$t.decorators=[{type:t.Directive,args:[{selector:"[adf-library-membership]",exportAs:"libraryMembership"}]}],$t.ctorParameters=function(){return[{type:Ce},{type:zt},{type:Vt}]},$t.propDecorators={selection:[{type:t.Input,args:["adf-library-membership"]}],isAdmin:[{type:t.Input}],toggle:[{type:t.Output}],error:[{type:t.Output}],onClick:[{type:t.HostListener,args:["click"]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ht=function(){};Ht.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,U.OverlayModule],declarations:[vt,bt,wt,It,At,Rt,kt,Dt,Nt,Ut,Mt,jt,Bt,$t],exports:[vt,bt,wt,It,At,Rt,kt,Dt,Nt,Ut,jt,Bt,$t]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var qt=function(){function e(e){this.alfrescoApiService=e,this.value$=new o.BehaviorSubject(""),this.resolverFn=null,this.onDestroy$=new o.Subject}return e.prototype.ngOnInit=function(){var e=this;this.updateValue(),this.alfrescoApiService.nodeUpdated.pipe(s.takeUntil(this.onDestroy$)).subscribe((function(t){e.row&&e.row.node.entry.id===t.id&&(e.row.node.entry=t,e.row.cache[e.column.key]=e.column.key.split(".").reduce((function(e,t){return e?e[t]:""}),t),e.updateValue())}))},e.prototype.updateValue=function(){if(this.column&&this.column.key&&this.row&&this.data){var e=this.data.getValue(this.row,this.column,this.resolverFn);this.value$.next(e),this.tooltip||(this.tooltip=e)}},e.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},e}();qt.decorators=[{type:t.Component,args:[{selector:"adf-datatable-cell",changeDetection:t.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <span *ngIf="copyContent; else defaultCell"\n                adf-clipboard="CLIPBOARD.CLICK_TO_COPY"\n                [clipboard-notification]="\'CLIPBOARD.SUCCESS_COPY\'"\n                [attr.aria-label]="value$ | async"\n                [title]="tooltip"\n                class="adf-datatable-cell-value"\n                >{{ value$ | async }}</span>\n        </ng-container>\n        <ng-template #defaultCell>\n            <span\n                [attr.aria-label]="value$ | async"\n                [title]="tooltip"\n                class="adf-datatable-cell-value"\n            >{{ value$ | async }}</span>\n        </ng-template>\n    ',encapsulation:t.ViewEncapsulation.None,host:{class:"adf-datatable-content-cell"}}]}],qt.ctorParameters=function(){return[{type:Ce}]},qt.propDecorators={data:[{type:t.Input}],column:[{type:t.Input}],row:[{type:t.Input}],copyContent:[{type:t.Input}],tooltip:[{type:t.Input}],resolverFn:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Yt=function(){function e(e){this.element=e,this.disabled=!1,this.select=new t.EventEmitter}return Object.defineProperty(e.prototype,"isSelected",{get:function(){return!!this.row&&this.row.isSelected},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAriaSelected",{get:function(){return!!this.row&&this.row.isSelected},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ariaLabel",{get:function(){return this.row?this.row.isSelected?this.row.getValue("name")+" selected"||"":this.row.getValue("name")||"":null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tabindex",{get:function(){return this.disabled?null:0},enumerable:!1,configurable:!0}),e.prototype.onKeyDown=function(e){e.target.tagName===this.element.nativeElement.tagName&&(e.preventDefault(),this.select.emit(e))},e.prototype.focus=function(){this.element.nativeElement.focus()},e}();Yt.decorators=[{type:t.Component,args:[{selector:"adf-datatable-row",template:"<ng-content></ng-content>",encapsulation:t.ViewEncapsulation.None,host:{class:"adf-datatable-row",tabindex:"0",role:"row"}}]}],Yt.ctorParameters=function(){return[{type:t.ElementRef}]},Yt.propDecorators={row:[{type:t.Input}],disabled:[{type:t.Input}],select:[{type:t.Output}],isSelected:[{type:t.HostBinding,args:["class.adf-is-selected"]}],isAriaSelected:[{type:t.HostBinding,args:["attr.aria-selected"]}],ariaLabel:[{type:t.HostBinding,args:["attr.aria-label"]}],tabindex:[{type:t.HostBinding,args:["attr.tabindex"]}],onKeyDown:[{type:t.HostListener,args:["keydown.space",["$event"]]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Gt=function(){function e(){this.type="text",this.sortable=!0,this.title="",this.editable=!1,this.focus=!0}return e.prototype.ngOnInit=function(){this.srTitle||"$thumbnail"!==this.key||(this.srTitle="Thumbnail")},e}();Gt.decorators=[{type:t.Component,args:[{selector:"data-column",template:""}]}],Gt.propDecorators={key:[{type:t.Input}],type:[{type:t.Input}],format:[{type:t.Input}],sortable:[{type:t.Input}],title:[{type:t.Input}],template:[{type:t.ContentChild,args:[t.TemplateRef]}],formatTooltip:[{type:t.Input}],srTitle:[{type:t.Input,args:["sr-title"]}],cssClass:[{type:t.Input,args:["class"]}],copyContent:[{type:t.Input}],editable:[{type:t.Input}],focus:[{type:t.Input}],sortingKey:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Wt=function(){};Wt.decorators=[{type:t.Component,args:[{selector:"data-columns",template:""}]}],Wt.propDecorators={columns:[{type:t.ContentChildren,args:[Gt]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Xt,Kt=function(){function e(){this.isDefaultPrevented=!1}return Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this.isDefaultPrevented},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){this.isDefaultPrevented=!0},e}(),Jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t}(Kt),Qt=function(){};(Xt=e.FileUploadStatus||(e.FileUploadStatus={}))[Xt.Pending=0]="Pending",Xt[Xt.Complete=1]="Complete",Xt[Xt.Starting=2]="Starting",Xt[Xt.Progress=3]="Progress",Xt[Xt.Cancelled=4]="Cancelled",Xt[Xt.Aborted=5]="Aborted",Xt[Xt.Error=6]="Error",Xt[Xt.Deleted=7]="Deleted";var Zt,en,tn=function(){function t(t,n,i){this.status=e.FileUploadStatus.Pending,this.file=t,this.id=i,this.name=t.name,this.size=t.size,this.data=null,this.errorCode=null,this.progress={loaded:0,total:0,percent:0},this.options=Object.assign({},{newVersion:!1},n)}return Object.defineProperty(t.prototype,"extension",{get:function(){return this.name.slice((Math.max(0,this.name.lastIndexOf("."))||1/0)+1)},enumerable:!1,configurable:!0}),t}(),nn=function(t,n,i){void 0===n&&(n=e.FileUploadStatus.Pending),void 0===i&&(i=null),this.file=t,this.status=n,this.error=i},an=function(t){function n(n,i,a,o){void 0===i&&(i=0),void 0===o&&(o=0);var r=t.call(this,n,e.FileUploadStatus.Complete)||this;return r.totalComplete=i,r.data=a,r.totalAborted=o,r}return ae(n,t),n}(nn),on=function(t){function n(n,i){void 0===i&&(i=0);var a=t.call(this,n,e.FileUploadStatus.Deleted)||this;return a.totalComplete=i,a}return ae(n,t),n}(nn),rn=function(t){function n(n,i,a){void 0===a&&(a=0);var o=t.call(this,n,e.FileUploadStatus.Error)||this;return o.error=i,o.totalError=a,o}return ae(n,t),n}(nn),ln=function(e){function t(t,n,i){var a=e.call(this)||this;return a.value=t,a.event=n,a.sender=i,a}return ae(t,e),t}(Jt),sn=function(e,t,n){this.row=e,this.col=t,this.actions=n||[]},dn=function(e){function t(t,n,i){var a=e.call(this)||this;return a.value=new sn(t,n,i),a}return ae(t,e),t}(Kt),pn=function(e,t){this.row=e,this.action=t},un=function(e){function t(t,n){var i=e.call(this)||this;return i.value=new pn(t,n),i}return ae(t,e),Object.defineProperty(t.prototype,"args",{get:function(){return this.value},enumerable:!1,configurable:!0}),t}(Kt);(Zt=e.DisplayMode||(e.DisplayMode={})).List="list",Zt.Gallery="gallery",(en=e.ShowHeaderMode||(e.ShowHeaderMode={})).Never="never",en.Always="always",en.Data="data";var cn=function(){function n(n,i){var a=this;this.elementRef=n,this.display=e.DisplayMode.List,this.rows=[],this.sorting=[],this.columns=[],this.selectionMode="single",this.multiselect=!1,this.actions=!1,this.actionsPosition="right",this.actionsVisibleOnHover=!1,this.contextMenu=!1,this.rowStyleClass="",this.showHeader=e.ShowHeaderMode.Data,this.stickyHeader=!1,this.rowClick=new t.EventEmitter,this.rowDblClick=new t.EventEmitter,this.showRowContextMenu=new t.EventEmitter,this.showRowActionsMenu=new t.EventEmitter,this.executeRowAction=new t.EventEmitter,this.loading=!1,this.noPermission=!1,this.rowMenuCacheEnabled=!0,this.resolverFn=null,this.allowFiltering=!1,this.isSelectAllIndeterminate=!1,this.isSelectAllChecked=!1,this.selection=new Array,this.fakeRows=[],this.rowMenuCache={},this.subscriptions=[],i&&(this.differ=i.find([]).create(null)),this.click$=new o.Observable((function(e){return a.clickObserver=e})).pipe(s.share())}return n.prototype.onKeydown=function(e){this.keyManager.onKeydown(e)},n.prototype.ngAfterContentInit=function(){var e=this;this.columnList&&this.subscriptions.push(this.columnList.columns.changes.subscribe((function(){e.setTableSchema()}))),this.datatableLayoutFix(),this.setTableSchema()},n.prototype.ngAfterViewInit=function(){this.keyManager=new $.FocusKeyManager(this.rowsList).withWrap().skipPredicate((function(e){return e.disabled}))},n.prototype.ngOnChanges=function(e){this.initAndSubscribeClickStream();var t=e.data,n=e.rows,i=e.columns;this.isPropertyChanged(t)||this.isPropertyChanged(n)||this.isPropertyChanged(i)?this.isTableEmpty()?this.initTable():t?(this.data=e.data.currentValue,this.resetSelection()):n?(this.setTableRows(e.rows.currentValue),this.setTableSorting(this.sorting)):this.setTableColumns(e.columns.currentValue):(e.selectionMode&&!e.selectionMode.isFirstChange()&&(this.resetSelection(),this.emitRowSelectionEvent("row-unselect",null)),this.isPropertyChanged(e.sorting)&&this.setTableSorting(e.sorting.currentValue),this.isPropertyChanged(e.display)&&this.datatableLayoutFix())},n.prototype.isColumnSortActive=function(e){return!(!e||!this.data.getSorting())&&e.key===this.data.getSorting().key},n.prototype.ngDoCheck=function(){this.differ.diff(this.rows)&&this.setTableRows(this.rows)},n.prototype.isPropertyChanged=function(e){return!(!e||!e.currentValue)},n.prototype.convertToRowsData=function(e){return e.map((function(e){return new ye(e,e.isSelected)}))},n.prototype.convertToColumnsData=function(e){return e.map((function(e){return new ve(e)}))},n.prototype.convertToDataSorting=function(e){return e&&e.length>0?new be(e[0],e[1]):null},n.prototype.initAndSubscribeClickStream=function(){var e=this;this.unsubscribeClickStream();var t=this.click$.pipe(s.buffer(this.click$.pipe(s.debounceTime(250))),s.map((function(e){return e})),s.filter((function(e){return 1===e.length})));this.singleClickStreamSub=t.subscribe((function(t){var n=t[0];e.handleRowSelection(n.value,n.event),e.rowClick.emit(n),n.defaultPrevented||e.elementRef.nativeElement.dispatchEvent(new CustomEvent("row-click",{detail:n,bubbles:!0}))}));var n=this.click$.pipe(s.buffer(this.click$.pipe(s.debounceTime(250))),s.map((function(e){return e})),s.filter((function(e){return e.length>=2})));this.multiClickStreamSub=n.subscribe((function(t){var n=t[0];e.rowDblClick.emit(n),n.defaultPrevented||e.elementRef.nativeElement.dispatchEvent(new CustomEvent("row-dblclick",{detail:n,bubbles:!0}))}))},n.prototype.unsubscribeClickStream=function(){this.singleClickStreamSub&&(this.singleClickStreamSub.unsubscribe(),this.singleClickStreamSub=null),this.multiClickStreamSub&&(this.multiClickStreamSub.unsubscribe(),this.multiClickStreamSub=null)},n.prototype.initTable=function(){var e=this.getRuntimeColumns();this.data=new we(this.rows,e),this.setTableSorting(this.sorting),this.resetSelection(),this.rowMenuCache={}},n.prototype.isTableEmpty=function(){return void 0===this.data||null===this.data},n.prototype.setTableRows=function(e){if(this.data){this.resetSelection();var t=this.convertToRowsData(e);this.data.setRows(t)}},n.prototype.setTableColumns=function(e){if(this.data){this.resetSelection();var t=this.convertToColumnsData(e);this.data.setColumns(t)}},n.prototype.getRuntimeColumns=function(){return de(this.columns||[],this.getSchemaFromHtml())},n.prototype.setTableSchema=function(){var e=this.getRuntimeColumns();this.data&&e.length>0&&this.data.setColumns(e)},n.prototype.setTableSorting=function(e){this.data&&this.data.setSorting(this.convertToDataSorting(e))},n.prototype.getSchemaFromHtml=function(){var e=[];return this.columnList&&this.columnList.columns&&this.columnList.columns.length>0&&(e=this.columnList.columns.map((function(e){return e}))),e},n.prototype.onRowClick=function(e,t){if(t&&t.preventDefault(),e){var n=this.data.getRows().indexOf(e)+(this.isHeaderListVisible()?1:0);this.keyManager.setActiveItem(n);var i=new ln(e,t,this);this.clickObserver.next(i)}},n.prototype.onEnterKeyPressed=function(e,t){e&&this.handleRowSelection(e,t)},n.prototype.isHeaderListVisible=function(){return this.isHeaderVisible()&&this.display===e.DisplayMode.List},n.prototype.handleRowSelection=function(e,t){if(this.data&&(this.isSingleSelectionMode()&&(this.resetSelection(),this.selectRow(e,!0),this.emitRowSelectionEvent("row-select",e)),this.isMultiSelectionMode())){var n=t&&(t.metaKey||t.ctrlKey),i=void 0,a=(i=1===this.selection.length?!e.isSelected:!n||!e.isSelected)?"row-select":"row-unselect";n||this.resetSelection(),this.selectRow(e,i),this.emitRowSelectionEvent(a,e)}},n.prototype.resetSelection=function(){if(this.data){var e=this.data.getRows();e&&e.length>0&&e.forEach((function(e){return e.isSelected=!1})),this.selection=[]}this.isSelectAllChecked=!1},n.prototype.onRowDblClick=function(e,t){t&&t.preventDefault();var n=new ln(e,t,this);this.clickObserver.next(n)},n.prototype.onRowEnterKeyDown=function(e,t){"Enter"===t.key&&this.onKeyboardNavigate(e,t)},n.prototype.onRowKeyUp=function(e,t){var n=new CustomEvent("row-keyup",{detail:{row:e,keyboardEvent:t,sender:this},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(n),n.defaultPrevented&&t.preventDefault()},n.prototype.onKeyboardNavigate=function(e,t){t&&t.preventDefault();var n=new ln(e,t,this);this.rowDblClick.emit(n),this.elementRef.nativeElement.dispatchEvent(new CustomEvent("row-dblclick",{detail:n,bubbles:!0}))},n.prototype.onColumnHeaderClick=function(e){var t;if(e&&e.sortable){var n=this.data.getSorting(),i="asc";n&&e.key===n.key&&(i="asc"===(null===(t=n.direction)||void 0===t?void 0:t.toLowerCase())?"desc":"asc"),this.sorting=[e.key,i],this.data.setSorting(new be(e.key,i)),this.emitSortingChangedEvent(e.key,e.sortingKey,i)}this.keyManager.updateActiveItem(0)},n.prototype.onSelectAllClick=function(e){if(this.isSelectAllChecked=e.checked,this.isSelectAllIndeterminate=!1,this.multiselect){var t=this.data.getRows();if(t&&t.length>0)for(var n=0;n<t.length;n++)this.selectRow(t[n],e.checked);var i=e.checked?"row-select":"row-unselect",a=this.selection.length>0?this.selection[0]:null;this.emitRowSelectionEvent(i,a)}},n.prototype.onCheckboxChange=function(e,t){var n=t.checked;this.selectRow(e,n);var i=n?"row-select":"row-unselect";this.emitRowSelectionEvent(i,e),this.checkSelectAllCheckboxState()},n.prototype.checkSelectAllCheckboxState=function(){if(this.multiselect){var e=0,t=this.data.getRows();t.forEach((function(t){t.isSelected&&e++})),e===t.length?(this.isSelectAllChecked=!0,this.isSelectAllIndeterminate=!1):e>0&&e<t.length?(this.isSelectAllChecked=!1,this.isSelectAllIndeterminate=!0):(this.isSelectAllChecked=!1,this.isSelectAllIndeterminate=!1)}},n.prototype.onImageLoadingError=function(e,t){if(e){var n=e.target;this.fallbackThumbnail?n.src=this.fallbackThumbnail:n.src=t.imageErrorResolver(e)}},n.prototype.isIconValue=function(e,t){if(e&&t){var n=e.getValue(t.key);return n&&n.startsWith("material-icons://")}return!1},n.prototype.asIconValue=function(e,t){return this.isIconValue(e,t)?(e.getValue(t.key)||"").replace("material-icons://",""):null},n.prototype.iconAltTextKey=function(e){return e?"ICONS."+e.substring(e.lastIndexOf("/")+1).replace(/\.[a-z]+/,""):""},n.prototype.isColumnSorted=function(e,t){if(e&&t){var n=this.data.getSorting();return n&&n.key===e.key&&n.direction.toLocaleLowerCase()===t}return!1},n.prototype.getContextMenuActions=function(e,t){var n=new dn(e,t,[]);return this.showRowContextMenu.emit(n),n.value.actions},n.prototype.getRowActions=function(e,t){var n=e.getValue("id");if(!this.rowMenuCache[n]){var i=new dn(e,t,[]);if(this.showRowActionsMenu.emit(i),!this.rowMenuCacheEnabled)return this.getVisibleActions(i.value.actions);this.rowMenuCache[n]=i.value.actions}return this.getVisibleActions(this.rowMenuCache[n])},n.prototype.getVisibleActions=function(e){return e.filter((function(e){return e.visible||void 0===e.visible}))},n.prototype.onExecuteRowAction=function(e,t){t.disabled||t.disabled?event.stopPropagation():this.executeRowAction.emit(new un(e,t))},n.prototype.getHideActionsWithoutHoverClass=function(e){return{"adf-datatable-hide-actions-without-hover":this.actionsVisibleOnHover&&!e.menuOpen}},n.prototype.rowAllowsDrop=function(e){return!0===e.isDropTarget},n.prototype.hasSelectionMode=function(){return this.isSingleSelectionMode()||this.isMultiSelectionMode()},n.prototype.isSingleSelectionMode=function(){return this.selectionMode&&"single"===this.selectionMode.toLowerCase()},n.prototype.isMultiSelectionMode=function(){return this.selectionMode&&"multiple"===this.selectionMode.toLowerCase()},n.prototype.getRowStyle=function(e){return e.cssClass=e.cssClass?e.cssClass:"",this.rowStyleClass=this.rowStyleClass?this.rowStyleClass:"",e.cssClass+" "+this.rowStyleClass},n.prototype.getSortingKey=function(){return this.data.getSorting()?this.data.getSorting().key:null},n.prototype.selectRow=function(e,t){if(e){e.isSelected=t;var n=(null==e?void 0:e.id)?this.findSelectionById(e.id):this.selection.indexOf(e);t?n<0&&this.selection.push(e):n>-1&&this.selection.splice(n,1)}},n.prototype.findSelectionById=function(e){return this.selection.findIndex((function(t){return(null==t?void 0:t.id)===e}))},n.prototype.getCellTooltip=function(e,t){if(e&&t&&t.formatTooltip){var n=t.formatTooltip(e,t);if(n)return n}return null},n.prototype.getSortableColumns=function(){return this.data.getColumns().filter((function(e){return!0===e.sortable}))},n.prototype.isEmpty=function(){return 0===this.data.getRows().length},n.prototype.isHeaderVisible=function(){var t;return this.showHeader===e.ShowHeaderMode.Data?t=!this.loading&&!this.noPermission&&!this.isEmpty():this.showHeader===e.ShowHeaderMode.Always?t=!this.loading&&!this.noPermission:this.showHeader===e.ShowHeaderMode.Never&&(t=!1),t},n.prototype.isStickyHeaderEnabled=function(){return this.stickyHeader&&this.isHeaderVisible()},n.prototype.emitRowSelectionEvent=function(e,t){var n=new CustomEvent(e,{detail:{row:t,selection:this.selection},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(n)},n.prototype.emitSortingChangedEvent=function(e,t,n){var i=new CustomEvent("sorting-changed",{detail:{key:e,sortingKey:t,direction:n},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(i)},n.prototype.ngOnDestroy=function(){this.unsubscribeClickStream(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions=[],this.dataRowsChanged&&(this.dataRowsChanged.unsubscribe(),this.dataRowsChanged=null)},n.prototype.datatableLayoutFix=function(){if("gallery"===this.display)for(var e=0;e<25;e++)this.fakeRows.push("");else this.fakeRows=[]},n.prototype.getNameColumnValue=function(){return this.data.getColumns().find((function(e){return e.key.includes("name")}))},n.prototype.getAutomationValue=function(e){var t=this.getNameColumnValue();return t?e.getValue(t.key):""},n.prototype.getAriaSort=function(e){return this.isColumnSortActive(e)?this.isColumnSorted(e,"asc")?"ADF-DATATABLE.ACCESSIBILITY.SORT_ASCENDING":"ADF-DATATABLE.ACCESSIBILITY.SORT_DESCENDING":"ADF-DATATABLE.ACCESSIBILITY.SORT_NONE"},n.prototype.getSortLiveAnnouncement=function(e){return this.isColumnSortActive(e)?this.isColumnSorted(e,"asc")?"ADF-DATATABLE.ACCESSIBILITY.SORT_ASCENDING_BY":"ADF-DATATABLE.ACCESSIBILITY.SORT_DESCENDING_BY":"ADF-DATATABLE.ACCESSIBILITY.SORT_DEFAULT"},n}();cn.decorators=[{type:t.Component,args:[{selector:"adf-datatable",template:'<div\n    role="grid"\n    *ngIf="data" class="adf-full-width"\n    [class.adf-datatable-card]="display === \'gallery\'"\n    [class.adf-datatable-list]="display === \'list\'"\n    [class.adf-sticky-header]="isStickyHeaderEnabled()"\n    [class.adf-datatable--empty]="(isEmpty() && !isHeaderVisible()) || loading"\n    [class.adf-datatable--empty--header-visible]="isEmpty() && isHeaderVisible()">\n    <div *ngIf="isHeaderVisible()" class="adf-datatable-header" role="rowgroup" [ngClass]="{ \'adf-sr-only\': !isHeaderVisible() }">\n        <adf-datatable-row\n            data-automation-id="datatable-row-header"\n            [disabled]="!isHeaderVisible()"\n            class="adf-datatable-row"\n            *ngIf="display === \'list\'"\n            role="row">\n            \x3c!-- Actions (left) --\x3e\n            <div *ngIf="actions && actionsPosition === \'left\'" class="adf-actions-column adf-datatable-cell-header">\n                <span class="adf-sr-only">{{ \'ADF-DATATABLE.ACCESSIBILITY.ACTIONS\' | translate }}</span>\n            </div>\n            \x3c!-- Columns --\x3e\n            <div *ngIf="multiselect" class="adf-datatable-cell-header adf-datatable-checkbox">\n                <mat-checkbox [indeterminate]="isSelectAllIndeterminate" [checked]="isSelectAllChecked" (change)="onSelectAllClick($event)" class="adf-checkbox-sr-only">{{ \'ADF-DATATABLE.ACCESSIBILITY.SELECT_ALL\' | translate }}</mat-checkbox>\n            </div>\n            <div class="adf-datatable-cell--{{col.type || \'text\'}} {{col.cssClass}} adf-datatable-cell-header"\n                 *ngFor="let col of data.getColumns()"\n                 [class.adf-sortable]="col.sortable"\n                 [attr.data-automation-id]="\'auto_id_\' + col.key"\n                 [class.adf-datatable__header--sorted-asc]="isColumnSorted(col, \'asc\')"\n                 [class.adf-datatable__header--sorted-desc]="isColumnSorted(col, \'desc\')"\n                 (click)="onColumnHeaderClick(col)"\n                 (keyup.enter)="onColumnHeaderClick(col)"\n                 role="columnheader"\n                 [attr.tabindex]="isHeaderVisible() ? 0 : null"\n                 [attr.aria-sort]="col.sortable ? (getAriaSort(col) | translate) : null"\n                 adf-drop-zone dropTarget="header" [dropColumn]="col">\n                <ng-container *ngIf="!col.header">\n                    <span *ngIf="col.title" class="adf-datatable-cell-value">{{ col.title | translate}}</span>\n                    <span *ngIf="col.title && col.sortable" class="adf-sr-only" aria-live="polite">{{ getSortLiveAnnouncement(col) | translate: { string: col.title | translate } }}</span>\n                    <ng-template *ngIf="allowFiltering" [ngTemplateOutlet]="headerFilterTemplate" [ngTemplateOutletContext]="{$implicit: col}"></ng-template>\n                </ng-container>\n                <ng-template *ngIf="col.header" [ngTemplateOutlet]="col.header" [ngTemplateOutletContext]="{$implicit: col}"></ng-template>\n            </div>\n            \x3c!-- Actions (right) --\x3e\n            <div *ngIf="actions && actionsPosition === \'right\'" class="adf-actions-column adf-datatable-cell-header adf-datatable__actions-cell">\n                <span class="adf-sr-only">{{ \'ADF-DATATABLE.ACCESSIBILITY.ACTIONS\' | translate }}</span>\n            </div>\n        </adf-datatable-row>\n        <mat-form-field *ngIf="display === \'gallery\' && isHeaderVisible()">\n            <mat-select [value]="getSortingKey()" [attr.data-automation-id]="\'grid-view-sorting\'">\n                <mat-option *ngFor="let col of getSortableColumns()"\n                            [value]="col.key"\n                            [attr.data-automation-id]="\'grid-view-sorting-\'+col.title"\n                            (click)="onColumnHeaderClick(col)"\n                            (keyup.enter)="onColumnHeaderClick(col)">\n                    {{ col.title | translate}}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n    </div>\n\n    <div class="adf-datatable-body" role="rowgroup">\n        <ng-container *ngIf="!loading && !noPermission">\n            <adf-datatable-row *ngFor="let row of data.getRows(); let idx = index"\n                [row]="row"\n                (select)="onEnterKeyPressed(row, $event)"\n                (keyup)="onRowKeyUp(row, $event)"\n                (keydown)="onRowEnterKeyDown(row, $event)"\n                [adf-upload]="rowAllowsDrop(row)"\n                [adf-upload-data]="row"\n                [ngStyle]="rowStyle"\n                [ngClass]="getRowStyle(row)"\n                [attr.data-automation-id]="\'datatable-row-\' + idx">\n                \x3c!-- Actions (left) --\x3e\n                <div *ngIf="actions && actionsPosition === \'left\'" role="gridcell" class="adf-datatable-cell">\n                    <button mat-icon-button [matMenuTriggerFor]="menu" #actionsMenuTrigger="matMenuTrigger"\n                            [ngClass]="getHideActionsWithoutHoverClass(actionsMenuTrigger)"\n                            [title]="\'ADF-DATATABLE.CONTENT-ACTIONS.TOOLTIP\' | translate"\n                            [attr.id]="\'action_menu_left_\' + idx"\n                            [attr.data-automation-id]="\'action_menu_\' + idx">\n                        <mat-icon>more_vert</mat-icon>\n                    </button>\n                    <mat-menu #menu="matMenu">\n                        <button mat-menu-item *ngFor="let action of getRowActions(row)"\n                                [attr.data-automation-id]="action.title"\n                                [disabled]="action.disabled"\n                                (click)="onExecuteRowAction(row, action)">\n                            <mat-icon *ngIf="action.icon">{{ action.icon }}</mat-icon>\n                            <span>{{ action.title | translate }}</span>\n                        </button>\n                    </mat-menu>\n                </div>\n\n                <div *ngIf="multiselect" class="adf-datatable-cell adf-datatable-checkbox">\n                    <mat-checkbox\n                        [checked]="row.isSelected"\n                        [attr.aria-checked]="row.isSelected"\n                        role="checkbox"\n                        (change)="onCheckboxChange(row, $event)"\n                        class="adf-checkbox-sr-only">\n                        {{ \'ADF-DATATABLE.ACCESSIBILITY.SELECT_FILE\' | translate }}\n                    </mat-checkbox>\n                </div>\n                <div *ngFor="let col of data.getColumns()"\n                     role="gridcell"\n                     class="adf-datatable-cell adf-datatable-cell--{{col.type || \'text\'}} {{col.cssClass}}"\n                     [attr.title]="col.title | translate"\n                     [attr.data-automation-id]="getAutomationValue(row)"\n                     [attr.aria-selected]="row.isSelected ? true : false"\n                     [attr.aria-label]="col.title ? (col.title | translate) : null"\n                     (click)="onRowClick(row, $event)"\n                     (keydown.enter)="onEnterKeyPressed(row, $any($event))"\n                     [adf-context-menu]="getContextMenuActions(row, col)"\n                     [adf-context-menu-enabled]="contextMenu"\n                     adf-drop-zone dropTarget="cell" [dropColumn]="col" [dropRow]="row">\n                    <div *ngIf="!col.template" class="adf-datatable-cell-container">\n                        <ng-container [ngSwitch]="col.type">\n                            <div *ngSwitchCase="\'image\'" class="adf-cell-value">\n                                <mat-icon *ngIf="isIconValue(row, col); else no_iconvalue">{{ asIconValue(row, col) }}\n                                </mat-icon>\n                                <ng-template #no_iconvalue>\n                                    <mat-icon class="adf-datatable-selected"\n                                              *ngIf="row.isSelected && !multiselect; else no_selected_row" svgIcon="selected">\n                                    </mat-icon>\n                                    <ng-template #no_selected_row>\n                                        <img class="adf-datatable-center-img-ie"\n                                            [attr.aria-label]=" (data.getValue(row, col) | fileType) === \'disable\' ?\n                                                (\'ADF-DATATABLE.ACCESSIBILITY.ICON_DISABLED\' | translate) :\n                                                \'ADF-DATATABLE.ACCESSIBILITY.ICON_TEXT\' | translate:{\n                                                    type: \'ADF-DATATABLE.FILE_TYPE.\' + (data.getValue(row, col) | fileType | uppercase) | translate\n                                                }"\n                                            [attr.alt]=" (data.getValue(row, col) | fileType) === \'disable\' ?\n                                                (\'ADF-DATATABLE.ACCESSIBILITY.ICON_DISABLED\' | translate) :\n                                                \'ADF-DATATABLE.ACCESSIBILITY.ICON_TEXT\' | translate:{\n                                                        type: \'ADF-DATATABLE.FILE_TYPE.\' + (data.getValue(row, col) | fileType | uppercase) | translate\n                                                }"\n                                            src="{{ data.getValue(row, col) }}"\n                                            (error)="onImageLoadingError($event, row)">\n                                    </ng-template>\n                                </ng-template>\n                            </div>\n                            <div *ngSwitchCase="\'icon\'" class="adf-cell-value">\n                                <mat-icon>{{ data.getValue(row, col) }}</mat-icon>\n                            </div>\n                            <div *ngSwitchCase="\'date\'" class="adf-cell-value" [attr.tabindex]="data.getValue(row, col, resolverFn)? 0 : -1"\n                                 [attr.data-automation-id]="\'date_\' + (data.getValue(row, col, resolverFn) | adfLocalizedDate: \'medium\') ">\n                                <adf-date-cell class="adf-datatable-center-date-column-ie"\n                                    [data]="data"\n                                    [column]="col"\n                                    [row]="row"\n                                    [resolverFn]="resolverFn"\n                                    [tooltip]="getCellTooltip(row, col)">\n                                </adf-date-cell>\n                            </div>\n                            <div *ngSwitchCase="\'location\'" [attr.tabindex]="data.getValue(row, col, resolverFn)? 0 : -1"  class="adf-cell-value"\n                                 [attr.data-automation-id]="\'location\' + data.getValue(row, col, resolverFn)">\n                                <adf-location-cell\n                                    [data]="data"\n                                    [column]="col"\n                                    [row]="row"\n                                    [resolverFn]="resolverFn"\n                                    [tooltip]="getCellTooltip(row, col)">\n                                </adf-location-cell>\n                            </div>\n                            <div *ngSwitchCase="\'fileSize\'" [attr.tabindex]="data.getValue(row, col, resolverFn)? 0 : -1" class="adf-cell-value"\n                                 [attr.data-automation-id]="\'fileSize_\' + data.getValue(row, col, resolverFn)">\n                                <adf-filesize-cell class="adf-datatable-center-size-column-ie"\n                                    [data]="data"\n                                    [column]="col"\n                                    [row]="row"\n                                    [resolverFn]="resolverFn"\n                                    [tooltip]="getCellTooltip(row, col)">\n                                </adf-filesize-cell>\n                            </div>\n                            <div *ngSwitchCase="\'text\'" [attr.tabindex]="data.getValue(row, col, resolverFn)? 0 : -1"  class="adf-cell-value"\n                                 [attr.data-automation-id]="\'text_\' + data.getValue(row, col, resolverFn)">\n                                <adf-datatable-cell\n                                    [copyContent]="col.copyContent"\n                                    [data]="data"\n                                    [column]="col"\n                                    [row]="row"\n                                    [resolverFn]="resolverFn"\n                                    [tooltip]="getCellTooltip(row, col)">\n                                </adf-datatable-cell>\n                            </div>\n                            <div *ngSwitchCase="\'json\'" [attr.tabindex]="data.getValue(row, col, resolverFn)? 0 : -1" class="adf-cell-value">\n                                <adf-json-cell\n                                    [editable]="col.editable"\n                                    [data]="data"\n                                    [column]="col"\n                                    [resolverFn]="resolverFn"\n                                    [row]="row">\n                                </adf-json-cell>\n                            </div>\n                            <span *ngSwitchDefault class="adf-cell-value">\n                    \x3c!-- empty cell for unknown column type --\x3e\n                    </span>\n                        </ng-container>\n                    </div>\n                    <div *ngIf="col.template" class="adf-datatable-cell-container">\n                        <div class="adf-cell-value" [attr.tabindex]="col.focus ? 0 : null">\n                            <ng-container\n                                [ngTemplateOutlet]="col.template"\n                                [ngTemplateOutletContext]="{ $implicit: { data: data, row: row, col: col }, value: data.getValue(row, col, resolverFn) }">\n                            </ng-container>\n                        </div>\n                    </div>\n                </div>\n\n                \x3c!-- Actions (right) --\x3e\n                <div *ngIf="actions && actionsPosition === \'right\'"\n                     role="gridcell"\n                     class="adf-datatable-cell adf-datatable__actions-cell adf-datatable-center-actions-column-ie">\n                    <button mat-icon-button [matMenuTriggerFor]="menu" #actionsMenuTrigger="matMenuTrigger"\n                            [ngClass]="getHideActionsWithoutHoverClass(actionsMenuTrigger)"\n                            [attr.aria-label]="\'ADF-DATATABLE.ACCESSIBILITY.ROW_OPTION_BUTTON\' | translate"\n                            [title]="\'ADF-DATATABLE.CONTENT-ACTIONS.TOOLTIP\' | translate"\n                            [attr.id]="\'action_menu_right_\' + idx"\n                            [attr.data-automation-id]="\'action_menu_\' + idx">\n                        <mat-icon>more_vert</mat-icon>\n                    </button>\n                    <mat-menu #menu="matMenu">\n                        <button mat-menu-item *ngFor="let action of getRowActions(row)"\n                                [attr.data-automation-id]="action.title"\n                                [attr.aria-label]="action.title | translate"\n                                [disabled]="action.disabled"\n                                (click)="onExecuteRowAction(row, action)">\n                            <mat-icon *ngIf="action.icon">{{ action.icon }}</mat-icon>\n                            <span>{{ action.title | translate }}</span>\n                        </button>\n                    </mat-menu>\n                </div>\n            </adf-datatable-row>\n            <div *ngIf="isEmpty()"\n                 role="row"\n                 [class.adf-datatable-row]="display === \'list\'"\n                 [class.adf-datatable-card-empty]="display === \'gallery\'">\n                <div class="adf-no-content-container adf-datatable-cell" role="gridcell">\n                    <ng-template *ngIf="noContentTemplate"\n                                 ngFor [ngForOf]="[data]"\n                                 [ngForTemplate]="noContentTemplate">\n                    </ng-template>\n                    <ng-content select="adf-empty-list"></ng-content>\n                </div>\n            </div>\n            <div *ngFor="let row of fakeRows"\n                 class="adf-datatable-row adf-datatable-row-empty-card">\n            </div>\n        </ng-container>\n        <div *ngIf="!loading && noPermission"\n             role="row"\n             [class.adf-datatable-row]="display === \'list\'"\n             [class.adf-datatable-card-permissions]="display === \'gallery\'"\n             class="adf-no-permission__row">\n            <div class="adf-no-permission__cell adf-no-content-container adf-datatable-cell">\n                <ng-template *ngIf="noPermissionTemplate"\n                             ngFor [ngForOf]="[data]"\n                             [ngForTemplate]="noPermissionTemplate">\n                </ng-template>\n            </div>\n        </div>\n        <div *ngIf="loading"\n             [class.adf-datatable-row]="display === \'list\'"\n             [class.adf-datatable-card-loading]="display === \'gallery\'">\n            <div class="adf-no-content-container adf-datatable-cell">\n                <ng-template *ngIf="loadingTemplate"\n                             ngFor [ngForOf]="[data]"\n                             [ngForTemplate]="loadingTemplate">\n                </ng-template>\n            </div>\n        </div>\n    </div>\n</div>\n',encapsulation:t.ViewEncapsulation.None,host:{class:"adf-datatable"},styles:['.adf-datatable{height:100%;overflow-y:scroll}.adf-datatable .adf-full-width{width:100%}.adf-datatable-card{border:1px solid var(--theme-fg-divider)}.adf-datatable-card .adf-datatable-body{align-content:flex-start;align-items:flex-start;display:flex;flex-flow:row wrap;justify-content:space-evenly;width:100%}.adf-datatable-card .adf-datatable-body .adf-datatable-row{display:flex;flex:0 1 24%;flex-direction:column;height:200px;margin:6px;max-width:288px!important;min-width:288px!important;overflow:hidden!important;padding:15px;position:relative;transition:all .3s ease;transition:box-shadow .28s cubic-bezier(.4,0,.2,1);width:288px!important}.adf-datatable-card .adf-datatable-body .adf-datatable-row:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.adf-datatable-card .adf-datatable-body .adf-datatable-row-empty-card{height:0!important;margin-bottom:0;margin-top:0;padding-bottom:0;padding-top:0}.adf-datatable-card .adf-datatable-body .adf-is-selected{background:var(--adf-datatable-selected-color);padding-bottom:31px}.adf-datatable-card .adf-datatable-body .adf-datatable-card-permission{min-height:250px;width:100%}.adf-datatable-card .adf-datatable-body .adf-datatable-card-permission .adf-datatable-cell{height:240px!important}.adf-datatable-card .adf-datatable-body .adf-datatable-card-loading{min-height:250px;width:100%}.adf-datatable-card .adf-datatable-body .adf-datatable-card-loading .adf-datatable-cell{height:240px!important}.adf-datatable-card .adf-datatable-body .adf-datatable-card-empty{min-height:380px;width:100%}.adf-datatable-card .adf-datatable-body .adf-datatable-card-empty .adf-datatable-cell{height:370px!important}.adf-datatable-card .adf-datatable-body .adf-datatable-cell--image{margin-left:8px}.adf-datatable-card .adf-datatable-body .adf-datatable-cell{flex:0 1 24%;height:136px!important;outline:none;overflow:hidden;text-align:left;text-overflow:ellipsis;white-space:nowrap}.adf-datatable-card .adf-datatable-body .adf-datatable-cell:before{color:var(--theme-text-color);content:attr(title);float:left;margin-left:10px;overflow:hidden;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:140px}.adf-datatable-card .adf-datatable-body .adf-datatable-cell .adf-datatable-cell-value{display:block;overflow:hidden;text-overflow:ellipsis}.adf-datatable-card .adf-datatable-body .adf-datatable__actions-cell{height:42px!important;position:absolute;right:0;top:4px;width:42px!important}.adf-datatable-card .adf-datatable-body .adf-datatable-row:not(:hover) .adf-datatable-hide-actions-without-hover{display:none}.adf-datatable-card .adf-datatable-body .adf-image-table-cell{border-bottom:1px solid var(--theme-fg-divider);margin:8px;overflow:visible;padding:4px}.adf-datatable-card .adf-datatable-body .adf-image-table-cell .adf-datatable-cell-container{float:left;width:42px}.adf-datatable-card .adf-datatable-body .adf-image-table-cell:after{content:attr(filename);float:left;margin:2px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:140px}.adf-datatable-card .adf-datatable-body .adf-datatable-checkbox{margin:8px}.adf-datatable-card .adf-datatable-header{float:right;margin-right:18px}.adf-datatable-list{background-color:var(--theme-card-bg-color);border:1px solid var(--theme-border-color);box-sizing:border-box;display:flex;flex-direction:column;overflow-x:auto}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.adf-datatable-list .adf-datatable-center-size-column-ie{padding-top:17px}.adf-datatable-list .adf-datatable-center-actions-column-ie{padding-top:7px!important}.adf-datatable-list .adf-datatable-center-date-column-ie{position:relative!important}.adf-datatable-list .adf-datatable-center-date-column-ie .adf-datatable-cell-value{width:100%}.adf-datatable-list .adf-datatable-center-img-ie{height:56px;min-width:0;padding:0;width:24px}}.adf-datatable-list .adf-datatable-header{box-sizing:border-box;display:flex;flex-direction:column;min-width:100%;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.adf-datatable-list .adf-datatable-cell{color:var(--theme-text-fg-color)}.adf-datatable-list .adf-datatable-row:focus,.adf-datatable-list .adf-datatable-row:hover{background-color:var(--theme-bg-hover-color)}.adf-datatable-list .adf-datatable-row:focus{outline:1px solid var(--theme-accent-color-a200);outline-offset:-1px}.adf-datatable-list .adf-datatable-row .adf-cell-value:focus,.adf-datatable-list .adf-datatable-row .adf-datatable-cell-header:focus{outline:1px solid var(--theme-accent-color-a200);outline-offset:-1px}.adf-datatable-list .adf-datatable-body{background-color:inherit;display:flex;flex-direction:column;min-width:100%;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.adf-datatable-list .adf-datatable-body .adf-datatable-row{-webkit-touch-callout:none;-webkit-user-select:none;border-top:1px solid var(--theme-border-color);cursor:pointer;min-height:56px;transition-duration:.28s;transition-property:background-color;transition-timing-function:cubic-bezier(.4,0,.2,1);user-select:none}.adf-datatable-list .adf-datatable-body .adf-datatable-row.adf-is-selected,.adf-datatable-list .adf-datatable-body .adf-datatable-row.adf-is-selected:hover{background-color:var(--theme-selected-button-bg-color)}.adf-datatable-list .adf-datatable-body .adf-datatable-row:last-child{border-bottom:1px solid var(--theme-border-color)}.adf-datatable-list .adf-datatable-row{align-items:center;display:flex;padding-left:15px;padding-right:15px}.adf-datatable-list .adf-datatable-row .adf-datatable-checkbox{max-width:50px;width:50px}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.adf-datatable-list .adf-datatable-row .adf-datatable-checkbox{padding-top:15px}}.adf-datatable-list .adf-datatable-cell,.adf-datatable-list .adf-datatable-cell-header{box-sizing:border-box;min-width:50px;text-align:left}.adf-datatable-list .adf-datatable-cell--text,.adf-datatable-list .adf-datatable-cell-header--text{position:relative;text-align:left}.adf-datatable-list .adf-datatable-cell--date,.adf-datatable-list .adf-datatable-cell-header--date{text-align:left}.adf-datatable-list .adf-datatable-cell--number,.adf-datatable-list .adf-datatable-cell-header--number{text-align:right}.adf-datatable-list .adf-datatable-cell--icon,.adf-datatable-list .adf-datatable-cell--image,.adf-datatable-list .adf-datatable-cell-header--icon,.adf-datatable-list .adf-datatable-cell-header--image{min-width:50px;padding-left:24px;padding-right:24px;text-align:left;width:50px}.adf-datatable-list .adf-datatable-cell--fileSize,.adf-datatable-list .adf-datatable-cell-header--fileSize{min-width:50px}.adf-datatable-list .adf-datatable-cell-header{-webkit-touch-callout:none;-webkit-user-select:none;box-sizing:border-box;color:var(--theme-text-fg-color);cursor:pointer;font-size:12px;font-weight:700;letter-spacing:0;line-height:24px;min-height:56px!important;padding-bottom:8px;padding-top:12px!important;position:relative;text-overflow:ellipsis;user-select:none;vertical-align:bottom}.adf-datatable-list .adf-datatable-cell-header.adf-sortable{-webkit-touch-callout:none;-webkit-user-select:none;align-items:center;display:flex;user-select:none}.adf-datatable-list .adf-datatable-cell-header.adf-sortable:hover{cursor:pointer}.adf-datatable-list .adf-datatable-cell-header.adf-datatable__header--sorted-asc,.adf-datatable-list .adf-datatable-cell-header.adf-datatable__header--sorted-desc{color:var(--theme-text-fg-color)}.adf-datatable-list .adf-datatable-cell-header.adf-datatable__header--sorted-asc:before,.adf-datatable-list .adf-datatable-cell-header.adf-datatable__header--sorted-desc:before{-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased;content:"\\e5d8";display:inline-block;font-family:Material Icons;font-feature-settings:"liga";font-size:24px;font-size:16px;font-style:normal;font-weight:400;left:5px;letter-spacing:normal;line-height:1;position:relative;right:5px;text-transform:none;vertical-align:sub;word-wrap:normal}.adf-datatable-list .adf-datatable-cell-header.adf-datatable__header--sorted-desc:before{content:"\\e5db"}.adf-datatable-list .adf-datatable-cell-header.adf-datatable-cell--fileSize.adf-datatable__header--sorted-asc:before,.adf-datatable-list .adf-datatable-cell-header.adf-datatable-cell--fileSize.adf-datatable__header--sorted-desc:before{left:-3px;right:-3px}.adf-datatable-list .adf-datatable-cell-header.adf-datatable-checkbox{align-items:center;display:flex}.adf-datatable-list .adf-datatable-cell-header.adf-expand-cell-1,.adf-datatable-list .adf-datatable-cell.adf-expand-cell-1{flex-grow:1}.adf-datatable-list .adf-datatable-cell-header.adf-expand-cell-2,.adf-datatable-list .adf-datatable-cell.adf-expand-cell-2{flex-grow:2}.adf-datatable-list .adf-datatable-cell-header.adf-expand-cell-3,.adf-datatable-list .adf-datatable-cell.adf-expand-cell-3{flex-grow:3}.adf-datatable-list .adf-datatable-cell-header.adf-expand-cell-4,.adf-datatable-list .adf-datatable-cell.adf-expand-cell-4{flex-grow:4}.adf-datatable-list .adf-datatable-cell-header.adf-expand-cell-5,.adf-datatable-list .adf-datatable-cell.adf-expand-cell-5{flex-grow:5}.adf-datatable-list .adf-datatable-cell-header.adf-no-grow-cell,.adf-datatable-list .adf-datatable-cell.adf-no-grow-cell{flex-grow:0;min-width:100px}.adf-datatable-list .adf-datatable-cell,.adf-datatable-list .adf-datatable-cell-header{align-items:center;display:flex;flex:1;min-height:inherit;padding:0}.adf-datatable-list .adf-datatable-cell-header .adf-datatable-cell-container,.adf-datatable-list .adf-datatable-cell .adf-datatable-cell-container{align-items:center;display:flex;min-height:inherit;overflow:hidden;width:100%}.adf-datatable-list .adf-datatable-cell-header .adf-datatable-cell-value,.adf-datatable-list .adf-datatable-cell .adf-datatable-cell-value{display:block;padding:10px;word-break:break-word}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.adf-datatable-list .adf-datatable-cell-header .adf-datatable-cell-value,.adf-datatable-list .adf-datatable-cell .adf-datatable-cell-value{padding:17px 10px 10px}}.adf-datatable-list .adf-datatable-cell--fileSize .adf-datatable-cell-value,.adf-datatable-list .adf-datatable-cell-header--fileSize .adf-datatable-cell-value{padding:0 10px 0 0}.adf-datatable-list .adf-cell-value{align-items:center;display:flex;min-height:inherit;width:100%;word-break:break-all}.adf-datatable-list .adf-datatable-cell--image,.adf-datatable-list .adf-datatable__actions-cell{display:flex;max-width:50px}.adf-datatable-list .adf-datatable-row:not(:hover) .adf-datatable-hide-actions-without-hover{display:none}.adf-datatable-list .adf-datatable-cell--image{max-width:50px}.adf-datatable-list .adf-location-cell a{color:var(--theme-text-fg-color);text-decoration:none}.adf-datatable-list .adf-location-cell a:hover{color:var(--adf-datatable-cell-link-hover-color);text-decoration:underline}.adf-datatable-list .adf-sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.adf-datatable-list .adf-is-selected{background:var(--adf-datatable-selected-color)}.adf-datatable-list .adf-datatable-link{color:var(--theme-text-fg-color);text-decoration:none}.adf-datatable-list .adf-datatable-link:hover{color:var(--adf-datatable-cell-link-hover-color);text-decoration:underline}.adf-datatable-list .adf-dynamic-column .adf-datatable-link:hover{text-decoration:none}.adf-datatable-list .adf-dynamic-column .adf-datatable-link:hover .adf-datatable-cell-value{text-decoration:underline}.adf-datatable-list .adf-datatable-cell-header .adf-datatable-link .adf-datatable-cell-value,.adf-datatable-list .adf-datatable-cell .adf-datatable-link .adf-datatable-cell-value{padding:0 10px}.adf-datatable-list .adf-ellipsis-cell{overflow:hidden;padding:0 4px;position:sticky;text-overflow:ellipsis;white-space:nowrap}.adf-datatable-list .adf-ellipsis-cell.adf-datatable-cell-header,.adf-datatable-list .adf-ellipsis-cell .adf-datatable-content-cell{max-width:calc(100% - .1px);overflow:hidden;text-overflow:ellipsis}.adf-datatable-list .adf-ellipsis-cell.adf-datatable-cell-header .adf-datatable-cell-value,.adf-datatable-list .adf-ellipsis-cell .adf-datatable-content-cell .adf-datatable-cell-value{overflow:hidden;text-overflow:ellipsis}.adf-datatable-list .adf-ellipsis-cell .adf-datatable-content-cell{overflow:unset;position:absolute}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.adf-datatable-list .adf-ellipsis-cell .adf-cell-value{top:100%}}.adf-datatable-list .adf-ellipsis-cell>div:after{content:attr(title);display:block;height:0;overflow:hidden}.adf-datatable-list .adf-no-content-container{border:none!important;justify-content:center;padding:0!important;width:100%}.adf-datatable-list .adf-no-content-container>img{width:100%}.adf-datatable-list .adf-loading-content-container{padding:0!important;width:100%}.adf-datatable-list .adf-loading-content-container>img{width:100%}.adf-datatable-list .adf-no-permission__row:hover{background-color:inherit;cursor:default}.adf-datatable-list .adf-no-permission__cell{padding:0!important}.adf-datatable-list .adf-hidden{display:none}@media (max-width:768px){.adf-datatable-list .adf-desktop-only{display:none!important}}@media (max-device-width:768px){.adf-datatable-list .adf-desktop-only{display:none!important}}.adf-checkbox-sr-only .mat-checkbox-label{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.adf-sticky-header{border-top:0;height:100%}.adf-sticky-header .adf-datatable-header{border-bottom:1px solid var(--theme-border-color);border-top:1px solid var(--theme-border-color);display:block;margin-right:0}.adf-sticky-header .adf-datatable-body{display:block;flex:1;margin-top:-1px;overflow-y:scroll}.adf-upload__dragging>div{border-bottom:1px dashed var(--theme-accent-color-a200)!important;border-top:1px dashed var(--theme-accent-color-a200)!important}.adf-upload__dragging>div:first-child{border-left:1px dashed var(--theme-accent-color-a200)}.adf-upload__dragging>div:last-child{border-right:1px dashed var(--theme-accent-color-a200)!important}.adf-datatable--empty{align-items:center;display:flex;flex:1;flex-direction:column;height:100%;height:inherit;justify-content:center;min-height:0;overflow:hidden}.adf-datatable--empty .adf-datatable-body .adf-datatable-row{background-color:var(--theme-card-bg-color);border:none!important;height:100%}.adf-datatable--empty .adf-datatable-body .adf-datatable-row:focus,.adf-datatable--empty .adf-datatable-body .adf-datatable-row:hover{background-color:unset;cursor:default}.adf-datatable--empty--header-visible .adf-datatable-header{border:1px solid var(--theme-border-color)}.adf-datatable--empty--header-visible .adf-datatable-body{align-items:center;display:flex;flex:1;flex-direction:column;height:100%;justify-content:center;min-height:0;overflow:hidden}.adf-datatable--empty--header-visible .adf-datatable-body .adf-datatable-row{background-color:var(--theme-card-bg-color);border:none!important;height:100%}.adf-datatable--empty--header-visible .adf-datatable-body .adf-datatable-row:focus,.adf-datatable--empty--header-visible .adf-datatable-body .adf-datatable-row:hover{background-color:unset;cursor:default}']}]}],cn.ctorParameters=function(){return[{type:t.ElementRef},{type:t.IterableDiffers}]},cn.propDecorators={rowsList:[{type:t.ViewChildren,args:[Yt]}],columnList:[{type:t.ContentChild,args:[Wt]}],data:[{type:t.Input}],display:[{type:t.Input}],rows:[{type:t.Input}],sorting:[{type:t.Input}],columns:[{type:t.Input}],selectionMode:[{type:t.Input}],multiselect:[{type:t.Input}],actions:[{type:t.Input}],actionsPosition:[{type:t.Input}],actionsVisibleOnHover:[{type:t.Input}],fallbackThumbnail:[{type:t.Input}],contextMenu:[{type:t.Input}],rowStyle:[{type:t.Input}],rowStyleClass:[{type:t.Input}],showHeader:[{type:t.Input}],stickyHeader:[{type:t.Input}],rowClick:[{type:t.Output}],rowDblClick:[{type:t.Output}],showRowContextMenu:[{type:t.Output}],showRowActionsMenu:[{type:t.Output}],executeRowAction:[{type:t.Output}],loading:[{type:t.Input}],noPermission:[{type:t.Input}],rowMenuCacheEnabled:[{type:t.Input}],resolverFn:[{type:t.Input}],allowFiltering:[{type:t.Input}],onKeydown:[{type:t.HostListener,args:["keyup",["$event"]]}]};var fn=function(t){function n(i,a,o){var r=t.call(this,a)||this;return r.dateFormat=o.get("dateValues.defaultDateFormat",n.DATE_FORMAT),i&&i.select(e.UserPreferenceValues.Locale).pipe(s.takeUntil(r.onDestroy$)).subscribe((function(e){return r.currentLocale=e})),r}return ae(n,t),Object.defineProperty(n.prototype,"format",{get:function(){return this.column&&this.column.format||this.dateFormat},enumerable:!1,configurable:!0}),n}(qt);fn.DATE_FORMAT="medium",fn.decorators=[{type:t.Component,args:[{selector:"adf-date-cell",template:'\n        <ng-container>\n            <span\n                [attr.aria-label]="value$ | async | adfTimeAgo: currentLocale"\n                title="{{ tooltip | adfLocalizedDate: \'medium\' }}"\n                class="adf-datatable-cell-value"\n                *ngIf="format === \'timeAgo\'; else standard_date">\n                {{ value$ | async | adfTimeAgo: currentLocale }}\n            </span>\n        </ng-container>\n        <ng-template #standard_date>\n            <span\n                class="adf-datatable-cell-value"\n                title="{{ tooltip | adfLocalizedDate: format }}"\n                class="adf-datatable-cell-value"\n                [attr.aria-label]="value$ | async | adfLocalizedDate: format">\n                {{ value$ | async | adfLocalizedDate: format }}\n            </span>\n        </ng-template>\n    ',encapsulation:t.ViewEncapsulation.None,host:{class:"adf-date-cell adf-datatable-content-cell"}}]}],fn.ctorParameters=function(){return[{type:Je},{type:Ce},{type:Ie}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var mn=function(){};mn.decorators=[{type:t.Component,args:[{selector:"adf-empty-list",template:'<div class="adf-empty-list_template">\n    <ng-content select="[adf-empty-list-header]"></ng-content>\n    <ng-content select="[adf-empty-list-body]"></ng-content>\n    <ng-content select="[adf-empty-list-footer]"></ng-content>\n    <ng-content></ng-content>\n</div>',encapsulation:t.ViewEncapsulation.None,styles:[".adf-empty-list_template{margin-bottom:20px;margin-top:20px;text-align:center}"]}]}];var hn=function(){};hn.decorators=[{type:t.Directive,args:[{selector:"[adf-empty-list-header]"}]}];var gn=function(){};gn.decorators=[{type:t.Directive,args:[{selector:"[adf-empty-list-body]"}]}];var yn=function(){};yn.decorators=[{type:t.Directive,args:[{selector:"[adf-empty-list-footer]"}]}];var vn=function(e){function t(t){return e.call(this,t)||this}return ae(t,e),t}(qt);vn.decorators=[{type:t.Component,args:[{selector:"adf-filesize-cell",template:'\n        <ng-container *ngIf="(value$ | async | adfFileSize) as fileSize">\n            <span\n                [title]="tooltip"\n                [attr.aria-label]="fileSize"\n                >{{ fileSize }}</span\n            >\n        </ng-container>\n    ',encapsulation:t.ViewEncapsulation.None,host:{class:"adf-filesize-cell"}}]}],vn.ctorParameters=function(){return[{type:Ce}]};var bn=function(e){function t(t){return e.call(this,t)||this}return ae(t,e),t.prototype.ngOnInit=function(){if(this.column&&this.column.key&&this.row&&this.data){var e=this.data.getValue(this.row,this.column,this.resolverFn);if(e&&e.name&&e.elements){this.value$.next(e.name.split("/").pop()),this.tooltip||(this.tooltip=e.name);var t=e.elements[e.elements.length-1];this.link=[this.column.format,t.id]}}},t}(qt);bn.decorators=[{type:t.Component,args:[{selector:"adf-location-cell",changeDetection:t.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <a href="" [title]="tooltip" [routerLink]="link">\n                {{ value$ | async }}\n            </a>\n        </ng-container>\n    ',encapsulation:t.ViewEncapsulation.None,host:{class:"adf-location-cell adf-datatable-content-cell"}}]}],bn.ctorParameters=function(){return[{type:Ce}]},bn.propDecorators={link:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var wn=function(){function e(e){this.dataTable=e}return e.prototype.ngAfterContentInit=function(){this.dataTable&&(this.dataTable.loadingTemplate=this.template)},e}();wn.decorators=[{type:t.Directive,args:[{selector:"adf-loading-content-template, loading-content-template"}]}],wn.ctorParameters=function(){return[{type:cn}]},wn.propDecorators={template:[{type:t.ContentChild,args:[t.TemplateRef]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var In=function(){function e(e){this.dataTable=e}return e.prototype.ngAfterContentInit=function(){this.dataTable&&(this.dataTable.noContentTemplate=this.template)},e}();In.decorators=[{type:t.Directive,args:[{selector:"adf-no-content-template, no-content-template"}]}],In.ctorParameters=function(){return[{type:cn}]},In.propDecorators={template:[{type:t.ContentChild,args:[t.TemplateRef]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var En=function(){function e(e){this.dataTable=e}return e.prototype.ngAfterContentInit=function(){this.dataTable&&(this.dataTable.noPermissionTemplate=this.template)},e}();En.decorators=[{type:t.Directive,args:[{selector:"adf-no-permission-template, no-permission-template"}]}],En.ctorParameters=function(){return[{type:cn}]},En.propDecorators={template:[{type:t.ContentChild,args:[t.TemplateRef]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Cn=function(){function e(e){this.dataTable=e}return e.prototype.ngAfterContentInit=function(){this.dataTable&&(this.dataTable.headerFilterTemplate=this.template)},e}();Cn.decorators=[{type:t.Directive,args:[{selector:"adf-header-filter-template"}]}],Cn.ctorParameters=function(){return[{type:cn}]},Cn.propDecorators={template:[{type:t.ContentChild,args:[t.TemplateRef]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var xn=function(){};xn.decorators=[{type:t.Directive,args:[{selector:"adf-custom-empty-content-template, empty-folder-content"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Sn=function(){};Sn.decorators=[{type:t.Directive,args:[{selector:"adf-custom-loading-content-template"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Tn=function(){};Tn.decorators=[{type:t.Directive,args:[{selector:"adf-custom-no-permission-template, no-permission-content"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var An=function(){function e(e){this.settings=e,this.editable=!1,this.title="JSON",this.value=""}return e.prototype.ngOnInit=function(){this.settings&&(this.editable=this.settings.editable,this.value=this.settings.value||"",this.title=this.settings.title||"JSON")},e}();An.decorators=[{type:t.Component,args:[{template:'<h1 mat-dialog-title>{{ title | translate }}</h1>\n<mat-dialog-content>\n    <textarea [(ngModel)]="value" [attr.readonly]="!editable ? true : null"></textarea>\n</mat-dialog-content>\n\n<mat-dialog-actions align="end">\n    <button mat-button mat-dialog-close cdkFocusInitial>\n        {{ \'CORE.DIALOG.EDIT_JSON.CLOSE\' | translate }}\n    </button>\n    <button *ngIf="editable" mat-button [mat-dialog-close]="value">\n        {{ \'CORE.DIALOG.EDIT_JSON.UPDATE\' | translate }}\n    </button>\n</mat-dialog-actions>\n',encapsulation:t.ViewEncapsulation.None,host:{class:"adf-edit-json-dialog"},styles:[".adf-edit-json-dialog .mat-dialog-content{height:300px;overflow:hidden}.adf-edit-json-dialog textarea{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;height:100%;margin:0;padding:0;resize:none;width:100%}.adf-edit-json-dialog textarea:focus{outline:none}"]}]}],An.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[b.MAT_DIALOG_DATA]}]}]},An.propDecorators={value:[{type:t.Input}]};var On,Rn=function(e){function t(t,n){var i=e.call(this,n)||this;return i.dialog=t,i.editable=!1,i}return ae(t,e),t.prototype.ngOnInit=function(){this.column&&this.column.key&&this.row&&this.data&&this.value$.next(this.data.getValue(this.row,this.column,this.resolverFn))},t.prototype.view=function(){var e=this.data.getValue(this.row,this.column,this.resolverFn),t="object"==typeof e?JSON.stringify(e||{},null,2):e,n={title:this.column.title,editable:this.editable,value:t};this.dialog.open(An,{data:n,minWidth:"50%",minHeight:"50%"}).afterClosed().subscribe((function(){}))},t}(qt);Rn.decorators=[{type:t.Component,args:[{selector:"adf-json-cell",changeDetection:t.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container *ngIf="value$ | async as value; else editEmpty">\n            <button mat-button color="primary" (click)="view()">json</button>\n        </ng-container>\n\n        <ng-template #editEmpty>\n            <button *ngIf="editable" mat-button color="primary" (click)="view()">json</button>\n        </ng-template>\n    ',encapsulation:t.ViewEncapsulation.None,host:{class:"adf-datatable-content-cell"},styles:[".adf-datatable-json-cell{white-space:pre-wrap;word-wrap:break-word}.adf-datatable-cell-value{position:relative}"]}]}],Rn.ctorParameters=function(){return[{type:b.MatDialog},{type:Ce}]},Rn.propDecorators={editable:[{type:t.Input}]},(
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
On=e.NOTIFICATION_TYPE||(e.NOTIFICATION_TYPE={})).INFO="info",On.WARN="warning",On.ERROR="error",On.RECURSIVE="recursive";
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Dn={key:"*",displayName:"SYSTEM"};function Pn(t,n){return void 0===n&&(n=Dn),{type:e.NOTIFICATION_TYPE.INFO,datetime:new Date,initiator:n,messages:[].concat(t)}}function _n(t,n){return void 0===n&&(n=Dn),{type:e.NOTIFICATION_TYPE.WARN,datetime:new Date,initiator:n,messages:[].concat(t)}}function Ln(t,n){return void 0===n&&(n=Dn),{type:e.NOTIFICATION_TYPE.ERROR,datetime:new Date,initiator:n,messages:[].concat(t)}}var Fn="adf-info-snackbar",kn="adf-warning-snackbar",Vn="adf-error-snackbar",Nn=function(){function t(t,n,i){this.snackBar=t,this.translationService=n,this.appConfigService=i,this.DEFAULT_DURATION_MESSAGE=5e3,this.notifications$=new o.Subject,this.DEFAULT_DURATION_MESSAGE=this.appConfigService.get(e.AppConfigValues.NOTIFY_DURATION)||this.DEFAULT_DURATION_MESSAGE}return t.prototype.openSnackMessage=function(e,t,n){return this.dispatchNotification(e,null,t,n)},t.prototype.openSnackMessageAction=function(e,t,n,i){return this.dispatchNotification(e,t,n,i)},t.prototype.showError=function(e,t,n){return this.dispatchNotification(e,t,{panelClass:Vn},n)},t.prototype.showInfo=function(e,t,n){return this.dispatchNotification(e,t,{panelClass:Fn},n)},t.prototype.showWarning=function(e,t,n){return this.dispatchNotification(e,t,{panelClass:kn},n)},t.prototype.dismissSnackMessageAction=function(){return this.snackBar.dismiss()},t.prototype.pushToNotificationHistory=function(e){this.notifications$.next(e)},t.prototype.dispatchNotification=function(e,t,n,i){var a=this.translationService.instant(e,i),o=this.translationService.instant(t,i),r=this.getNotificationCreator(n);return this.notifications$.next(r(a)),this.snackBar.open(a,o,Object.assign({duration:"number"==typeof n?n:this.DEFAULT_DURATION_MESSAGE,panelClass:Fn},"object"==typeof n?n:{}))},t.prototype.getNotificationCreator=function(e){var t=null;switch("object"==typeof e&&(t=Array.isArray(e.panelClass)?e.panelClass[0]:e.panelClass),t){case Vn:return Ln;case kn:return _n;default:return Pn}},t}();Nn.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Nn(t.ɵɵinject(_.MatSnackBar),t.ɵɵinject(Ze),t.ɵɵinject(Ie))},token:Nn,providedIn:"root"}),Nn.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Nn.ctorParameters=function(){return[{type:_.MatSnackBar},{type:Ze},{type:Ie}]};var Mn=function(){function e(e,t,n){this.document=e,this.logService=t,this.notificationService=n}return e.prototype.isTargetValid=function(e){return(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&!e.hasAttribute("disabled")},e.prototype.copyToClipboard=function(e,t){if(this.isTargetValid(e))try{e.select(),e.setSelectionRange(0,e.value.length),this.document.execCommand("copy"),this.notify(t)}catch(e){this.logService.error(e)}},e.prototype.copyContentToClipboard=function(e,t){try{document.addEventListener("copy",(function(t){t.clipboardData.setData("text/plain",e),t.preventDefault(),document.removeEventListener("copy",null)})),document.execCommand("copy"),this.notify(t)}catch(e){this.logService.error(e)}},e.prototype.notify=function(e){e&&this.notificationService.openSnackMessage(e)},e}();Mn.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Mn(t.ɵɵinject(p.DOCUMENT),t.ɵɵinject(Ae),t.ɵɵinject(Nn))},token:Mn,providedIn:"root"}),Mn.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Mn.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[p.DOCUMENT]}]},{type:Ae},{type:Nn}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Un=function(){function e(e,t,n){this.clipboardService=e,this.viewContainerRef=t,this.resolver=n}return e.prototype.handleClickEvent=function(e){e.preventDefault(),e.stopPropagation(),this.copyToClipboard()},e.prototype.showTooltip=function(){if(this.placeholder){var e=this.resolver.resolveComponentFactory(jn);this.viewContainerRef.createComponent(e).instance.placeholder=this.placeholder}},e.prototype.closeTooltip=function(){this.viewContainerRef.remove()},e.prototype.copyToClipboard=function(){this.clipboardService.isTargetValid(this.target)?this.clipboardService.copyToClipboard(this.target,this.message):this.copyContentToClipboard(this.viewContainerRef.element.nativeElement.innerHTML)},e.prototype.copyContentToClipboard=function(e){this.clipboardService.copyContentToClipboard(e,this.message)},e}();Un.decorators=[{type:t.Directive,args:[{selector:"[adf-clipboard]",exportAs:"adfClipboard"}]}],Un.ctorParameters=function(){return[{type:Mn},{type:t.ViewContainerRef},{type:t.ComponentFactoryResolver}]},Un.propDecorators={placeholder:[{type:t.Input,args:["adf-clipboard"]}],target:[{type:t.Input}],message:[{type:t.Input,args:["clipboard-notification"]}],handleClickEvent:[{type:t.HostListener,args:["click",["$event"]]}],showTooltip:[{type:t.HostListener,args:["mouseenter"]}],closeTooltip:[{type:t.HostListener,args:["mouseleave"]}]};var jn=function(){function e(){}return e.prototype.ngOnInit=function(){this.placeholder=this.placeholder||"CLIPBOARD.CLICK_TO_COPY"},e}();jn.decorators=[{type:t.Component,args:[{selector:"adf-copy-content-tooltip",template:"<span class='adf-copy-tooltip'>{{ placeholder | translate }} </span>",encapsulation:t.ViewEncapsulation.None}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Bn=function(){};Bn.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,u.TranslateModule],declarations:[Un,jn],exports:[Un]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var zn=function(){function e(e,t){this.ngZone=t,this.dropTarget="cell",this.element=e.nativeElement}return e.prototype.ngOnInit=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.element.addEventListener("dragenter",e.onDragEnter.bind(e)),e.element.addEventListener("dragover",e.onDragOver.bind(e)),e.element.addEventListener("drop",e.onDrop.bind(e))}))},e.prototype.ngOnDestroy=function(){this.element.removeEventListener("dragenter",this.onDragEnter),this.element.removeEventListener("dragover",this.onDragOver),this.element.removeEventListener("drop",this.onDrop)},e.prototype.onDragEnter=function(e){this.dispatchDomEvent(e,"dragenter").defaultPrevented&&(e.dataTransfer.dropEffect="copy",e.preventDefault(),e.stopPropagation())},e.prototype.onDragOver=function(e){this.dispatchDomEvent(e,"dragover").defaultPrevented&&(e.dataTransfer.dropEffect="copy",e.preventDefault(),e.stopPropagation())},e.prototype.onDrop=function(e){this.dispatchDomEvent(e,"drop").defaultPrevented&&(e.preventDefault(),e.stopPropagation())},e.prototype.dispatchDomEvent=function(e,t){var n=new CustomEvent(this.dropTarget+"-"+t,{detail:{target:this.dropTarget,event:e,column:this.dropColumn,row:this.dropRow},bubbles:!0});return this.element.dispatchEvent(n),n},e}();zn.decorators=[{type:t.Directive,args:[{selector:"[adf-drop-zone]"}]}],zn.ctorParameters=function(){return[{type:t.ElementRef},{type:t.NgZone}]},zn.propDecorators={dropTarget:[{type:t.Input}],dropRow:[{type:t.Input}],dropColumn:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var $n=function(){function e(e){this.columnComponent=e}return e.prototype.ngAfterContentInit=function(){this.columnComponent&&(this.columnComponent.header=this.header)},e}();$n.decorators=[{type:t.Component,args:[{selector:"adf-data-column-header",template:""}]}],$n.ctorParameters=function(){return[{type:Gt}]},$n.propDecorators={header:[{type:t.ContentChild,args:[t.TemplateRef]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Hn=function(){};Hn.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule],declarations:[Gt,Wt,$n],exports:[Gt,Wt,$n]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var qn=function(){};qn.decorators=[{type:t.NgModule,args:[{imports:[M.RouterModule,Be,p.CommonModule,u.TranslateModule,Hn,Ke,yt,Ht,Bn],declarations:[cn,mn,hn,gn,yn,qt,Yt,fn,vn,bn,Rn,In,En,wn,Cn,xn,Sn,Tn,zn],exports:[cn,mn,hn,gn,yn,qt,Yt,fn,vn,bn,Rn,In,En,wn,Cn,xn,Sn,Tn,zn]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Yn=function(){};Yn.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,u.TranslateModule,qn],declarations:[Ue,Me,te,je],exports:[Ue,Me,te,je]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Gn=function(){function e(e,t,n){this.apiService=e,this.logService=t,this.translateService=n,this.maxRetries=5,this.mimeTypes={text:["text/plain","text/csv","text/xml","text/html","application/x-javascript"],pdf:["application/pdf"],image:["image/png","image/jpeg","image/gif","image/bmp","image/svg+xml"],media:["video/mp4","video/webm","video/ogg","audio/mpeg","audio/ogg","audio/wav"]},this.TRY_TIMEOUT=1e4,this.viewerTypeChange=new o.Subject,this.urlFileContentChange=new o.Subject}return Object.defineProperty(e.prototype,"renditionsApi",{get:function(){var e;return this._renditionsApi=null!==(e=this._renditionsApi)&&void 0!==e?e:new r.RenditionsApi(this.apiService.getInstance()),this._renditionsApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contentApi",{get:function(){var e;return this._contentApi=null!==(e=this._contentApi)&&void 0!==e?e:new r.ContentApi(this.apiService.getInstance()),this._contentApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"versionsApi",{get:function(){var e;return this._versionsApi=null!==(e=this._versionsApi)&&void 0!==e?e:new r.VersionsApi(this.apiService.getInstance()),this._versionsApi},enumerable:!1,configurable:!0}),e.prototype.printFile=function(t,n){var i=window.open(t,e.TARGET);i&&(n===e.ContentGroup.IMAGE&&(i.onfocus=function(){setTimeout((function(){i.close()}),500)}),i.onload=function(){i.print()})},e.prototype.printFileGeneric=function(t,n){var i=this,a=t,o=this.getViewerTypeByMimeType(n);this.getRendition(a,e.ContentGroup.PDF).then((function(t){var n=i.getRenditionUrl(a,o,!!t),r=o===e.ContentGroup.PDF||o===e.ContentGroup.TEXT?e.ContentGroup.PDF:o;i.printFile(n,r)})).catch((function(e){i.logService.error("Error with Printing"),i.logService.error(e)}))},e.prototype.getRenditionUrl=function(t,n,i){return i&&n!==e.ContentGroup.IMAGE?this.contentApi.getRenditionUrl(t,e.ContentGroup.PDF):this.contentApi.getContentUrl(t,!1)},e.prototype.waitRendition=function(e,t,n){return oe(this,void 0,void 0,(function(){var i;return re(this,(function(a){switch(a.label){case 0:return[4,this.renditionsApi.getRendition(e,t)];case 1:return i=a.sent(),this.maxRetries<n?"CREATED"!==i.entry.status.toString()?[3,2]:[2,i]:[3,4];case 2:return n+=1,[4,this.wait(1e3)];case 3:return a.sent(),[2,this.waitRendition(e,t,n)];case 4:return[2,Promise.resolve(null)]}}))}))},e.prototype.getViewerTypeByMimeType=function(e){var t,n;if(e){e=e.toLowerCase();var i=Object.keys(this.mimeTypes);try{for(var a=le(i),o=a.next();!o.done;o=a.next()){var r=o.value;if(this.mimeTypes[r].indexOf(e)>=0)return r}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}return"unknown"},e.prototype.wait=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prototype.getRendition=function(e,t){return oe(this,void 0,void 0,(function(){var n,i,a;return re(this,(function(o){switch(o.label){case 0:return[4,this.renditionsApi.listRenditions(e)];case 1:if(n=o.sent(),!(i=n.list.entries.find((function(e){return e.entry.id.toLowerCase()===t}))))return[3,6];if("NOT_CREATED"!==i.entry.status.toString())return[3,6];o.label=2;case 2:return o.trys.push([2,5,,6]),[4,this.renditionsApi.createRendition(e,{id:t})];case 3:return o.sent(),[4,this.waitRendition(e,t,0)];case 4:return i=o.sent(),[3,6];case 5:return a=o.sent(),this.logService.error(a),[3,6];case 6:return[2,new Promise((function(e){return e(i)}))]}}))}))},e.prototype.displayNodeRendition=function(e,t){return oe(this,void 0,void 0,(function(){var n,i,a,o,r;return re(this,(function(l){switch(l.label){case 0:return l.trys.push([0,5,,6]),t?[4,this.resolveNodeRendition(e,"pdf",t)]:[3,2];case 1:return i=l.sent(),[3,4];case 2:return[4,this.resolveNodeRendition(e,"pdf")];case 3:i=l.sent(),l.label=4;case 4:return(n=i)&&("pdf"===(a=n.entry.id)?this.viewerTypeChange.next("pdf"):"imgpreview"===a&&this.viewerTypeChange.next("image"),o=t?this.contentApi.getVersionRenditionUrl(e,t,a):this.contentApi.getRenditionUrl(e,a),this.urlFileContentChange.next(o)),[3,6];case 5:return r=l.sent(),this.logService.error(r),[3,6];case 6:return[2]}}))}))},e.prototype.resolveNodeRendition=function(e,t,n){return oe(this,void 0,void 0,(function(){var i,a,o,r,l,s=this;return re(this,(function(d){switch(d.label){case 0:return t=t.toLowerCase(),n?[4,this.versionsApi.listVersionRenditions(e,n)]:[3,2];case 1:return a=d.sent(),[3,4];case 2:return[4,this.renditionsApi.listRenditions(e)];case 3:a=d.sent(),d.label=4;case 4:if((o=(i=a).list.entries.find((function(e){return e.entry.id.toLowerCase()===t})))||(t="imgpreview",o=i.list.entries.find((function(e){return e.entry.id.toLowerCase()===t}))),!o)return[3,17];if("NOT_CREATED"!==o.entry.status.toString())return[3,17];d.label=5;case 5:return d.trys.push([5,16,,17]),n?[4,this.versionsApi.createVersionRendition(e,n,{id:t}).then((function(){s.viewerTypeChange.next("in_creation")}))]:[3,7];case 6:return d.sent(),[3,9];case 7:return[4,this.renditionsApi.createRendition(e,{id:t}).then((function(){s.viewerTypeChange.next("in_creation")}))];case 8:d.sent(),d.label=9;case 9:return d.trys.push([9,14,,15]),n?[4,this.waitNodeRendition(e,t,n)]:[3,11];case 10:return r=d.sent(),[3,13];case 11:return[4,this.waitNodeRendition(e,t)];case 12:r=d.sent(),d.label=13;case 13:return o=r,[3,15];case 14:return d.sent(),this.viewerTypeChange.next("error_in_creation"),o=null,[3,15];case 15:return[3,17];case 16:return l=d.sent(),this.logService.error(l),[3,17];case 17:return[2,o]}}))}))},e.prototype.waitNodeRendition=function(e,t,n){return oe(this,void 0,void 0,(function(){var i,a=this;return re(this,(function(o){return i=0,[2,new Promise((function(o,r){var l=setInterval((function(){if(i++,!(a.maxRetries>=i))return clearInterval(l),r();n?a.versionsApi.getVersionRendition(e,n,t).then((function(i){if("CREATED"===i.entry.status.toString())return a.handleNodeRendition(e,t,n),clearInterval(l),o(i)}),(function(){return r()})):a.renditionsApi.getRendition(e,t).then((function(n){if("CREATED"===n.entry.status.toString())return a.handleNodeRendition(e,t),clearInterval(l),o(n)}),(function(){return r()}))}),a.TRY_TIMEOUT)}))]}))}))},e.prototype.handleNodeRendition=function(e,t,n){return oe(this,void 0,void 0,(function(){var i;return re(this,(function(a){return"pdf"===t?this.viewerTypeChange.next("pdf"):"imgpreview"===t&&this.viewerTypeChange.next("image"),i=n?this.contentApi.getVersionRenditionUrl(e,n,t):this.contentApi.getRenditionUrl(e,t),this.urlFileContentChange.next(i),[2]}))}))},e.prototype.generateMediaTracks=function(t){return oe(this,void 0,void 0,(function(){var n=this;return re(this,(function(i){return[2,this.isRenditionAvailable(t,e.SUBTITLES_RENDITION_NAME).then((function(i){var a=[];return i&&a.push({kind:"subtitles",src:n.contentApi.getRenditionUrl(t,e.SUBTITLES_RENDITION_NAME),label:n.translateService.instant("ADF_VIEWER.SUBTITLES")}),a})).catch((function(t){return n.logService.error("Error while retrieving "+e.SUBTITLES_RENDITION_NAME+" rendition"),n.logService.error(t),[]}))]}))}))},e.prototype.isRenditionAvailable=function(e,t){var n,i;return oe(this,void 0,void 0,(function(){var a,o;return re(this,(function(r){switch(r.label){case 0:return[4,this.renditionsApi.listRenditions(e)];case 1:return a=r.sent(),o=a.list.entries.find((function(e){return e.entry.id.toLowerCase()===t})),[2,"CREATED"===(null===(i=null===(n=null==o?void 0:o.entry)||void 0===n?void 0:n.status)||void 0===i?void 0:i.toString())||!1]}}))}))},e}();Gn.TARGET="_new",Gn.ContentGroup={IMAGE:"image",MEDIA:"media",PDF:"pdf",TEXT:"text"},Gn.SUBTITLES_RENDITION_NAME="webvtt",Gn.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Gn(t.ɵɵinject(Ce),t.ɵɵinject(Ae),t.ɵɵinject(Ze))},token:Gn,providedIn:"root"}),Gn.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Gn.ctorParameters=function(){return[{type:Ce},{type:Ae},{type:Ze}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Wn=function(){};Wn.decorators=[{type:t.Component,args:[{selector:"adf-viewer-more-actions",encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush,host:{class:"adf-viewer-more-actions"},template:"<ng-content></ng-content>"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Xn=function(){};Xn.decorators=[{type:t.Component,args:[{selector:"adf-viewer-open-with",encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush,host:{class:"adf-viewer-open-with"},template:"<ng-content></ng-content>"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Kn=function(){function e(){}return e.prototype.onKeyDown=function(e){e.cancelBubble=!0},e.prototype.onKeyUp=function(e){e.cancelBubble=!0},e}();Kn.decorators=[{type:t.Component,args:[{selector:"adf-viewer-sidebar",encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush,host:{class:"adf-viewer-sidebar"},template:"<ng-content></ng-content>"}]}],Kn.propDecorators={onKeyDown:[{type:t.HostListener,args:["keydown",["$event"]]}],onKeyUp:[{type:t.HostListener,args:["keyup",["$event"]]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Jn=function(){};Jn.decorators=[{type:t.Component,args:[{selector:"adf-viewer-toolbar",encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush,host:{class:"adf-viewer-toolbar"},template:"<ng-content></ng-content>"}]}];var Qn=function(){function t(e,t,n){var i=this;this.apiService=e,this.appConfigService=t,this.discoveryApiService=n,this.cache={},this.totalComplete=0,this.totalAborted=0,this.totalError=0,this.excludedFileList=[],this.excludedFoldersList=[],this.matchingOptions=null,this.folderMatchingOptions=null,this.activeTask=null,this.queue=[],this.queueChanged=new o.Subject,this.fileUpload=new o.Subject,this.fileUploadStarting=new o.Subject,this.fileUploadCancelled=new o.Subject,this.fileUploadProgress=new o.Subject,this.fileUploadAborted=new o.Subject,this.fileUploadError=new o.Subject,this.fileUploadComplete=new o.Subject,this.fileUploadDeleted=new o.Subject,this.fileDeleted=new o.Subject,this.discoveryApiService.ecmProductInfo$.pipe(s.filter((function(e){return!!e}))).subscribe((function(e){var t=e.status;i.isThumbnailGenerationEnabled=t.isThumbnailGenerationEnabled}))}return Object.defineProperty(t.prototype,"uploadApi",{get:function(){var e;return this._uploadApi=null!==(e=this._uploadApi)&&void 0!==e?e:new r.UploadApi(this.apiService.getInstance()),this._uploadApi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nodesApi",{get:function(){var e;return this._nodesApi=null!==(e=this._nodesApi)&&void 0!==e?e:new r.NodesApi(this.apiService.getInstance()),this._nodesApi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"versionsApi",{get:function(){var e;return this._versionsApi=null!==(e=this._versionsApi)&&void 0!==e?e:new r.VersionsApi(this.apiService.getInstance()),this._versionsApi},enumerable:!1,configurable:!0}),t.prototype.isUploading=function(){var t=[e.FileUploadStatus.Complete,e.FileUploadStatus.Cancelled,e.FileUploadStatus.Aborted,e.FileUploadStatus.Error,e.FileUploadStatus.Deleted];return this.queue.reduce((function(e,n){return e||-1===t.indexOf(n.status)}),!1)},t.prototype.getQueue=function(){return this.queue},t.prototype.addToQueue=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t.filter((function(t){return e.filterElement(t)}));return this.queue=this.queue.concat(i),this.queueChanged.next(this.queue),i},t.prototype.filterElement=function(e){this.excludedFileList=this.appConfigService.get("files.excluded"),this.excludedFoldersList=this.appConfigService.get("folders.excluded");var t=!0;return this.excludedFileList&&(this.matchingOptions=this.appConfigService.get("files.match-options"),t=this.isFileNameAllowed(e)),t&&this.excludedFoldersList&&(this.folderMatchingOptions=this.appConfigService.get("folders.match-options"),t=this.isParentFolderAllowed(e)),t},t.prototype.isParentFolderAllowed=function(e){var t=this,n=!0,i=e.file,a=i.webkitRelativePath?i.webkitRelativePath:e.options.path;return i&&a&&(n=0===this.excludedFoldersList.filter((function(e){return a.split("/").some((function(n){return new q.Minimatch(e,t.folderMatchingOptions).match(n)}))})).length),n},t.prototype.isFileNameAllowed=function(e){var t=this;return 0===this.excludedFileList.filter((function(n){return new q.Minimatch(n,t.matchingOptions).match(e.name)})).length},t.prototype.uploadFilesInTheQueue=function(t,n){var i=this;if(!this.activeTask){var a=this.queue.find((function(t){return t.status===e.FileUploadStatus.Pending}));if(a){this.onUploadStarting(a);var o=this.beginUpload(a,t,n);this.activeTask=o,this.cache[a.name]=o;var r=function(){i.activeTask=null,setTimeout((function(){return i.uploadFilesInTheQueue(t,n)}),100)};o.next=r,o.then((function(){return r()}),(function(){return r()}))}}},t.prototype.cancelUpload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){var n=e.cache[t.name];n?(e.isSaveToAbortFile(t)&&n.abort(),e.abortedFile=t.name,delete e.cache[t.name],n.next()):e.getAction(t)()}))},t.prototype.clearQueue=function(){this.queue=[],this.totalComplete=0,this.totalAborted=0,this.totalError=0},t.prototype.getUploadPromise=function(e){var t={include:["allowableOperations"]};if(this.isThumbnailGenerationEnabled&&(t.renditions="doclib"),e.options&&void 0!==e.options.versioningEnabled&&(t.versioningEnabled=e.options.versioningEnabled),!0===e.options.newVersion?(t.overwrite=!0,t.majorVersion=e.options.majorVersion,t.comment=e.options.comment,t.name=e.name):t.autoRename=!0,e.options.nodeType&&(t.nodeType=e.options.nodeType),e.id)return this.nodesApi.updateNodeContent(e.id,e.file,t);var n=Object.assign({},e.options);return delete n.versioningEnabled,this.uploadApi.uploadFile(e.file,e.options.path,e.options.parentId,n,t)},t.prototype.beginUpload=function(e,t,n){var i=this,a=this.getUploadPromise(e);return a.on("progress",(function(t){i.onUploadProgress(e,t)})).on("abort",(function(){i.onUploadAborted(e),t&&t.emit({value:"File aborted"})})).on("error",(function(t){i.onUploadError(e,t),n&&n.emit({value:"Error file uploaded"})})).on("success",(function(n){i.abortedFile===e.name?(i.onUploadAborted(e),void 0===e.id?i.deleteAbortedNode(n.entry.id):i.deleteAbortedNodeVersion(n.entry.id,n.entry.properties["cm:versionLabel"]),t&&t.emit({value:"File deleted"})):(i.onUploadComplete(e,n),t&&t.emit({value:n}))})).catch((function(){})),a},t.prototype.onUploadStarting=function(t){if(t){t.status=e.FileUploadStatus.Starting;var n=new nn(t,e.FileUploadStatus.Starting);this.fileUpload.next(n),this.fileUploadStarting.next(n)}},t.prototype.onUploadProgress=function(t,n){if(t){t.progress=n,t.status=e.FileUploadStatus.Progress;var i=new nn(t,e.FileUploadStatus.Progress);this.fileUpload.next(i),this.fileUploadProgress.next(i)}},t.prototype.onUploadError=function(t,n){if(t){t.errorCode=(n||{}).status,t.status=e.FileUploadStatus.Error,this.totalError++,this.cache[t.name]&&delete this.cache[t.name];var i=new rn(t,n,this.totalError);this.fileUpload.next(i),this.fileUploadError.next(i)}},t.prototype.onUploadComplete=function(t,n){if(t){t.status=e.FileUploadStatus.Complete,t.data=n,this.totalComplete++,this.cache[t.name]&&delete this.cache[t.name];var i=new an(t,this.totalComplete,n,this.totalAborted);this.fileUpload.next(i),this.fileUploadComplete.next(i)}},t.prototype.onUploadAborted=function(t){if(t){t.status=e.FileUploadStatus.Aborted,this.totalAborted++;var n=new nn(t,e.FileUploadStatus.Aborted);this.fileUpload.next(n),this.fileUploadAborted.next(n)}},t.prototype.onUploadCancelled=function(t){if(t){t.status=e.FileUploadStatus.Cancelled;var n=new nn(t,e.FileUploadStatus.Cancelled);this.fileUpload.next(n),this.fileUploadCancelled.next(n)}},t.prototype.onUploadDeleted=function(t){if(t){t.status=e.FileUploadStatus.Deleted,this.totalComplete--;var n=new on(t,this.totalComplete);this.fileUpload.next(n),this.fileUploadDeleted.next(n)}},t.prototype.getAction=function(t){var n,i=this;return((n={})[e.FileUploadStatus.Pending]=function(){return i.onUploadCancelled(t)},n[e.FileUploadStatus.Deleted]=function(){return i.onUploadDeleted(t)},n[e.FileUploadStatus.Error]=function(){return i.onUploadError(t,null)},n)[t.status]},t.prototype.deleteAbortedNode=function(e){var t=this;this.nodesApi.deleteNode(e,{permanent:!0}).then((function(){return t.abortedFile=void 0}))},t.prototype.deleteAbortedNodeVersion=function(e,t){var n=this;this.versionsApi.deleteVersion(e,t).then((function(){return n.abortedFile=void 0}))},t.prototype.isSaveToAbortFile=function(e){return e.size>1e6&&e.progress.percent<50},t}();Qn.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Qn(t.ɵɵinject(Ce),t.ɵɵinject(Ie),t.ɵɵinject(Ne))},token:Qn,providedIn:"root"}),Qn.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Qn.ctorParameters=function(){return[{type:Ce},{type:Ie},{type:Ne}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Zn,ei=function(e){e&&(this.id=e.id,this.email=e.email||null,this.firstName=e.firstName||null,this.lastName=e.lastName||null,this.pictureId=e.pictureId||null,this.externalId=e.externalId||null,this.userImage=e.userImage)},ti=function(e){e&&(this.id=e.id,this.message=e.message,this.created=e.created,this.createdBy=e.createdBy,this.isSelected=!!e.isSelected&&e.isSelected)},ni=function(){},ii=function(e){e&&(this.provider=e.provider,this.url=e.url||null)},ai=function(e){function t(t){var n=e.call(this,t)||this;return t&&(n.count=t.count,n.hasMoreItems=!!t.hasMoreItems&&t.hasMoreItems,n.merge=!!t.merge&&t.merge,n.totalItems=t.totalItems,n.skipCount=t.skipCount,n.maxItems=t.maxItems),n}return ae(t,e),t}(r.Pagination),oi=function(e){this.merge=!1,e&&Object.assign(this,e)},ri=function(e){e&&(this.minIntegerDigits=e.minIntegerDigits,this.minFractionDigits=e.minFractionDigits,this.maxFractionDigits=e.maxFractionDigits)},li=function(e){e&&(this.apps=e.apps,this.capabilities=e.capabilities,this.company=e.company,this.created=e.created,this.email=e.email,this.externalId=e.externalId,this.firstName=e.firstName,this.lastName=e.lastName,this.fullname=e.fullname,this.groups=e.groups,this.id=e.id,this.lastUpdate=e.lastUpdate,this.latestSyncTimeStamp=e.latestSyncTimeStamp,this.password=e.password,this.pictureId=e.pictureId,this.status=e.status,this.tenantId=e.tenantId,this.tenantName=e.tenantName,this.tenantPictureId=e.tenantPictureId,this.type=e.type)},si=function(e){this.id=e&&e.id||null,this.firstName=e&&e.firstName,this.lastName=e&&e.lastName,this.description=e&&e.description||null,this.avatarId=e&&e.avatarId||null,this.email=e&&e.email||null,this.skypeId=e&&e.skypeId,this.googleId=e&&e.googleId,this.instantMessageId=e&&e.instantMessageId,this.jobTitle=e&&e.jobTitle||null,this.location=e&&e.location||null,this.company=e&&e.company,this.mobile=e&&e.mobile,this.telephone=e&&e.telephone,this.statusUpdatedAt=e&&e.statusUpdatedAt,this.userStatus=e&&e.userStatus,this.enabled=e&&e.enabled,this.emailNotificationsEnabled=e&&e.emailNotificationsEnabled,this.aspectNames=e&&e.aspectNames,this.properties=e&&e.properties,this.capabilities=e&&e.capabilities},di=function(e){e&&(this.id=e.id||null,this.name=e.name||null,this.description=e.description||null,this.clientRole=e.clientRole||null,this.composite=e.composite||null,this.containerId=e.containerId||null,this.scopeParamRequired=e.scopeParamRequired||null)};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
Zn=e.SearchTextStateEnum||(e.SearchTextStateEnum={})).expanded="expanded",Zn.collapsed="collapsed";
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var pi=function(){function e(e,n,i,a,r,l,s,d,p){this.apiService=e,this.viewUtilService=n,this.logService=i,this.extensionService=a,this.contentService=r,this.uploadService=l,this.el=s,this.dialog=d,this.cdr=p,this.urlFile="",this.urlFileViewer=null,this.nodeId=null,this.versionId=null,this.sharedLinkId=null,this.overlayMode=!1,this.showViewer=!0,this.showToolbar=!0,this.allowGoBack=!0,this.allowDownload=!0,this.allowPrint=!1,this.allowFullScreen=!0,this.allowNavigate=!1,this.canNavigateBefore=!0,this.canNavigateNext=!0,this.allowLeftSidebar=!1,this.allowRightSidebar=!1,this.allowThumbnails=!0,this.showRightSidebar=!1,this.showLeftSidebar=!1,this.sidebarRightTemplate=null,this.sidebarLeftTemplate=null,this.thumbnailsTemplate=null,this.maxRetries=30,this.goBack=new t.EventEmitter,this.print=new t.EventEmitter,this.showViewerChange=new t.EventEmitter,this.extensionChange=new t.EventEmitter,this.navigateBefore=new t.EventEmitter,this.navigateNext=new t.EventEmitter,this.invalidSharedLink=new t.EventEmitter,this.TRY_TIMEOUT=1e4,this.viewerType="unknown",this.isLoading=!1,this.extensionTemplates=[],this.sidebarRightTemplateContext={node:null},this.sidebarLeftTemplateContext={node:null},this.readOnly=!0,this.cacheTypeForContent="",this.extensions={image:["png","jpg","jpeg","gif","bpm","svg"],media:["wav","mp4","mp3","webm","ogg"],text:["txt","xml","html","json","ts","css","md"],pdf:["pdf"]},this.mimeTypes={text:["text/plain","text/csv","text/xml","text/html","application/x-javascript"],pdf:["application/pdf"],image:["image/png","image/jpeg","image/gif","image/bmp","image/svg+xml"],media:["video/mp4","video/webm","video/ogg","audio/mpeg","audio/mp3","audio/ogg","audio/wav"]},this.onDestroy$=new o.Subject,this.shouldCloseViewer=!0,this.keyDown$=o.fromEvent(document,"keydown"),n.maxRetries=this.maxRetries}return Object.defineProperty(e.prototype,"viewerExtensions",{get:function(){return this.extensionService.getViewerExtensions()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"externalExtensions",{get:function(){return this.viewerExtensions.map((function(e){return e.fileExtension}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"externalViewer",{get:function(){return this._externalViewer||(this._externalViewer=this.viewerExtensions.find((function(e){return"*"===e.fileExtension}))),this._externalViewer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sharedLinksApi",{get:function(){var e;return this._sharedLinksApi=null!==(e=this._sharedLinksApi)&&void 0!==e?e:new r.SharedlinksApi(this.apiService.getInstance()),this._sharedLinksApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"versionsApi",{get:function(){var e;return this._versionsApi=null!==(e=this._versionsApi)&&void 0!==e?e:new r.VersionsApi(this.apiService.getInstance()),this._versionsApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nodesApi",{get:function(){var e;return this._nodesApi=null!==(e=this._nodesApi)&&void 0!==e?e:new r.NodesApi(this.apiService.getInstance()),this._nodesApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contentApi",{get:function(){var e;return this._contentApi=null!==(e=this._contentApi)&&void 0!==e?e:new r.ContentApi(this.apiService.getInstance()),this._contentApi},enumerable:!1,configurable:!0}),e.prototype.isSourceDefined=function(){return!!(this.urlFile||this.blobFile||this.nodeId||this.sharedLinkId)},e.prototype.ngOnInit=function(){var e=this;this.apiService.nodeUpdated.pipe(s.filter((function(t){return t&&t.id===e.nodeId&&(t.name!==e.fileName||e.getNodeVersionProperty(e.nodeEntry.entry)!==e.getNodeVersionProperty(t))})),s.takeUntil(this.onDestroy$)).subscribe((function(t){return e.onNodeUpdated(t)})),this.viewUtilService.viewerTypeChange.pipe(s.takeUntil(this.onDestroy$)).subscribe((function(t){e.viewerType=t})),this.viewUtilService.urlFileContentChange.pipe(s.takeUntil(this.onDestroy$)).subscribe((function(t){e.urlFileContent=t})),this.closeOverlayManager(),this.cacheTypeForContent=""},e.prototype.getNodeVersionProperty=function(e){var t;return null!==(t=null==e?void 0:e.properties["cm:versionLabel"])&&void 0!==t?t:""},e.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},e.prototype.onNodeUpdated=function(e){var t=this;e&&e.id===this.nodeId&&(this.cacheTypeForContent="no-cache",this.generateCacheBusterNumber(),this.isLoading=!0,this.setUpNodeFile(e).then((function(){t.isLoading=!1})))},e.prototype.ngOnChanges=function(){if(this.showViewer){if(!this.isSourceDefined())throw new Error("A content source attribute value is missing.");this.isLoading=!0,this.blobFile?(this.setUpBlobData(),this.isLoading=!1):this.urlFile?(this.setUpUrlFile(),this.isLoading=!1):this.nodeId?this.setupNode():this.sharedLinkId&&this.setupSharedLink()}},e.prototype.setupSharedLink=function(){var e=this;this.allowGoBack=!1,this.sharedLinksApi.getSharedLink(this.sharedLinkId).then((function(t){e.setUpSharedLinkFile(t),e.isLoading=!1}),(function(){e.isLoading=!1,e.logService.error("This sharedLink does not exist"),e.invalidSharedLink.next()}))},e.prototype.setupNode=function(){var e=this;this.nodesApi.getNode(this.nodeId,{include:["allowableOperations"]}).then((function(t){e.nodeEntry=t,e.versionId?e.versionsApi.getVersion(e.nodeId,e.versionId).then((function(n){e.versionEntry=n,e.setUpNodeFile(t.entry,n.entry).then((function(){e.isLoading=!1}))})):e.setUpNodeFile(t.entry).then((function(){e.isLoading=!1,e.cdr.detectChanges()}))}),(function(){e.isLoading=!1,e.logService.error("This node does not exist")}))},e.prototype.setUpBlobData=function(){this.fileTitle=this.getDisplayName("Unknown"),this.mimeType=this.blobFile.type,this.viewerType=this.getViewerTypeByMimeType(this.mimeType),this.allowDownload=!1,this.extensionChange.emit(this.mimeType),this.scrollTop()},e.prototype.setUpUrlFile=function(){var e=this.getFilenameFromUrl(this.urlFile);this.fileTitle=this.getDisplayName(e),this.extension=this.getFileExtension(e),this.urlFileContent=this.urlFile,this.fileName=this.displayName,this.viewerType=this.urlFileViewer||this.getViewerType(this.extension,this.mimeType),this.extensionChange.emit(this.extension),this.scrollTop()},e.prototype.setUpNodeFile=function(e,t){var n,i,a,o;return oe(this,void 0,void 0,(function(){var r;return re(this,(function(l){switch(l.label){case 0:return this.readOnly=!this.contentService.hasAllowableOperations(e,"update"),t&&t.content?this.mimeType=t.content.mimeType:e.content&&(this.mimeType=e.content.mimeType),this.fileTitle=this.getDisplayName(t?t.name:e.name),r=(null===(i=null===(n=this.nodeEntry)||void 0===n?void 0:n.entry)||void 0===i?void 0:i.properties)&&this.nodeEntry.entry.properties["cm:versionLabel"]?encodeURI(null===(o=null===(a=this.nodeEntry)||void 0===a?void 0:a.entry)||void 0===o?void 0:o.properties["cm:versionLabel"]):encodeURI("1.0"),this.urlFileContent=t?this.contentApi.getVersionContentUrl(this.nodeId,t.id):this.contentApi.getContentUrl(this.nodeId),this.urlFileContent=this.cacheBusterNumber?this.urlFileContent+"&"+r+"&"+this.cacheBusterNumber:this.urlFileContent+"&"+r,this.extension=this.getFileExtension(t?t.name:e.name),this.fileName=t?t.name:e.name,this.viewerType=this.getViewerType(this.extension,this.mimeType),"unknown"!==this.viewerType?[3,4]:t?[4,this.viewUtilService.displayNodeRendition(e.id,t.id)]:[3,2];case 1:return l.sent(),[3,4];case 2:return[4,this.viewUtilService.displayNodeRendition(e.id)];case 3:l.sent(),l.label=4;case 4:return this.extensionChange.emit(this.extension),this.sidebarRightTemplateContext.node=e,this.sidebarLeftTemplateContext.node=e,this.scrollTop(),[2]}}))}))},e.prototype.getViewerType=function(e,t){var n=this.getViewerTypeByExtension(e);return"unknown"===n&&(n=this.getViewerTypeByMimeType(t)),n},e.prototype.setUpSharedLinkFile=function(e){this.mimeType=e.entry.content.mimeType,this.fileTitle=this.getDisplayName(e.entry.name),this.extension=this.getFileExtension(e.entry.name),this.fileName=e.entry.name,this.urlFileContent=this.contentApi.getSharedLinkContentUrl(this.sharedLinkId,!1),this.viewerType=this.getViewerType(this.extension,this.mimeType),"unknown"===this.viewerType&&this.displaySharedLinkRendition(this.sharedLinkId),this.extensionChange.emit(this.extension)},e.prototype.toggleSidebar=function(){var e=this;this.showRightSidebar=!this.showRightSidebar,this.showRightSidebar&&this.nodeId&&this.nodesApi.getNode(this.nodeId,{include:["allowableOperations"]}).then((function(t){e.sidebarRightTemplateContext.node=t.entry}))},e.prototype.toggleLeftSidebar=function(){var e=this;this.showLeftSidebar=!this.showLeftSidebar,this.showRightSidebar&&this.nodeId&&this.nodesApi.getNode(this.nodeId,{include:["allowableOperations"]}).then((function(t){e.sidebarLeftTemplateContext.node=t.entry}))},e.prototype.getDisplayName=function(e){return this.displayName||e},e.prototype.scrollTop=function(){window.scrollTo(0,1)},e.prototype.getViewerTypeByMimeType=function(e){var t,n;if(e){e=e.toLowerCase();var i=Object.keys(this.mimeTypes);try{for(var a=le(i),o=a.next();!o.done;o=a.next()){var r=o.value;if(this.mimeTypes[r].indexOf(e)>=0)return r}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}return"unknown"},e.prototype.getViewerTypeByExtension=function(e){return e&&(e=e.toLowerCase()),this.isExternalViewer()?"external":this.isCustomViewerExtension(e)?"custom":this.extensions.image.indexOf(e)>=0?"image":this.extensions.media.indexOf(e)>=0?"media":this.extensions.text.indexOf(e)>=0?"text":this.extensions.pdf.indexOf(e)>=0?"pdf":"unknown"},e.prototype.onBackButtonClick=function(){this.close()},e.prototype.onNavigateBeforeClick=function(e){this.navigateBefore.next(e)},e.prototype.onNavigateNextClick=function(e){this.navigateNext.next(e)},e.prototype.close=function(){this.otherMenu&&(this.otherMenu.hidden=!1),this.showViewer=!1,this.showViewerChange.emit(this.showViewer)},e.prototype.getFilenameFromUrl=function(e){var t=e.indexOf("#"),n=e.indexOf("?"),i=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",i)+1,i)},e.prototype.getFileExtension=function(e){if(e){var t=e.match(/\.([^\./\?\#]+)($|\?|\#)/);return t?t[1]:null}return null},e.prototype.isExternalViewer=function(){return!!this.viewerExtensions.find((function(e){return"*"===e.fileExtension}))},e.prototype.isCustomViewerExtension=function(e){var t=this.externalExtensions||[];return!!(e&&t.length>0)&&(e=e.toLowerCase(),t.flat().indexOf(e)>=0)},e.prototype.handleKeyboardEvent=function(e){if(!e||!e.defaultPrevented){var t=e.keyCode;37===t&&this.canNavigateBefore&&(e.preventDefault(),this.onNavigateBeforeClick(e)),39===t&&this.canNavigateNext&&(e.preventDefault(),this.onNavigateNextClick(e)),70===t&&e.ctrlKey&&(e.preventDefault(),this.enterFullScreen())}},e.prototype.printContent=function(){if(this.allowPrint){var e=new Kt;this.print.next(e),e.defaultPrevented||this.viewUtilService.printFileGeneric(this.nodeId,this.mimeType)}},e.prototype.enterFullScreen=function(){if(this.allowFullScreen){var e=this.el.nativeElement.querySelector(".adf-viewer__fullscreen-container");e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen())}},e.prototype.displaySharedLinkRendition=function(e){return oe(this,void 0,void 0,(function(){var t,n;return re(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,this.sharedLinksApi.getSharedLinkRendition(e,"pdf")];case 1:return"CREATED"===i.sent().entry.status.toString()&&(this.viewerType="pdf",this.urlFileContent=this.contentApi.getSharedLinkRenditionUrl(e,"pdf")),[3,7];case 2:t=i.sent(),this.logService.error(t),i.label=3;case 3:return i.trys.push([3,5,,6]),[4,this.sharedLinksApi.getSharedLinkRendition(e,"imgpreview")];case 4:return"CREATED"===i.sent().entry.status.toString()&&(this.viewerType="image",this.urlFileContent=this.contentApi.getSharedLinkRenditionUrl(e,"imgpreview")),[3,6];case 5:return n=i.sent(),this.logService.error(n),[3,6];case 6:return[3,7];case 7:return[2]}}))}))},e.prototype.checkExtensions=function(e){var t=this;return"string"==typeof e?this.extension.toLowerCase()===e.toLowerCase():e.length>0?e.find((function(e){return t.extension.toLowerCase()===e.toLowerCase()})):void 0},e.prototype.onSubmitFile=function(e){var t,n,i,a,o,r,l,s,d,p,u,c,f,m,h;if((null===(i=null===(n=null==this?void 0:this.nodeEntry)||void 0===n?void 0:n.entry)||void 0===i?void 0:i.id)&&!this.readOnly){var g=new File([e],null===(o=null===(a=null==this?void 0:this.nodeEntry)||void 0===a?void 0:a.entry)||void 0===o?void 0:o.name,{type:null===(s=null===(l=null===(r=null==this?void 0:this.nodeEntry)||void 0===r?void 0:r.entry)||void 0===l?void 0:l.content)||void 0===s?void 0:s.mimeType}),y=new tn(g,{majorVersion:!1,newVersion:!0,parentId:null===(p=null===(d=null==this?void 0:this.nodeEntry)||void 0===d?void 0:d.entry)||void 0===p?void 0:p.parentId,nodeType:null===(f=null===(c=null===(u=null==this?void 0:this.nodeEntry)||void 0===u?void 0:u.entry)||void 0===c?void 0:c.content)||void 0===f?void 0:f.mimeType},null===(h=null===(m=null==this?void 0:this.nodeEntry)||void 0===m?void 0:m.entry)||void 0===h?void 0:h.id);(t=this.uploadService).addToQueue.apply(t,de([y])),this.uploadService.uploadFilesInTheQueue()}},e.prototype.onUnsupportedFile=function(){this.viewerType="unknown"},e.prototype.closeOverlayManager=function(){var e=this;this.dialog.afterOpened.pipe(s.skipWhile((function(){return!e.overlayMode})),s.takeUntil(this.onDestroy$)).subscribe((function(){return e.shouldCloseViewer=!1})),this.dialog.afterAllClosed.pipe(s.skipWhile((function(){return!e.overlayMode})),s.takeUntil(this.onDestroy$)).subscribe((function(){return e.shouldCloseViewer=!0})),this.keyDown$.pipe(s.skipWhile((function(){return!e.overlayMode})),s.filter((function(e){return 27===e.keyCode})),s.takeUntil(this.onDestroy$)).subscribe((function(t){t.preventDefault(),e.shouldCloseViewer&&e.close()}))},e.prototype.generateCacheBusterNumber=function(){this.cacheBusterNumber=Date.now()},e}();pi.decorators=[{type:t.Component,args:[{selector:"adf-viewer",template:'<div *ngIf="showViewer"\n     class="adf-viewer-container"\n     [class.adf-viewer-overlay-container]="overlayMode"\n     [class.adf-viewer-inline-container]="!overlayMode">\n\n    <div class="adf-viewer-content"\n         fxLayout="column"\n         [cdkTrapFocus]="overlayMode"\n         cdkTrapFocusAutoCapture>\n        <ng-content select="adf-viewer-toolbar"></ng-content>\n        <ng-container *ngIf="showToolbar && !toolbar">\n            <adf-toolbar id="adf-viewer-toolbar" class="adf-viewer-toolbar">\n                <adf-toolbar-title>\n\n                    <ng-container *ngIf="allowLeftSidebar">\n                        <button mat-icon-button\n                                [attr.aria-expanded]="showLeftSidebar"\n                                [attr.aria-label]="\'ADF_VIEWER.ACTIONS.INFO\' | translate"\n                                title="{{ \'ADF_VIEWER.ACTIONS.INFO\' | translate }}"\n                                data-automation-id="adf-toolbar-left-sidebar"\n                                [color]="showLeftSidebar ? \'accent\' : null"\n                                (click)="toggleLeftSidebar()">\n                            <mat-icon>info_outline</mat-icon>\n                        </button>\n                    </ng-container>\n\n                    <button *ngIf="allowGoBack"\n                            class="adf-viewer-close-button"\n                            data-automation-id="adf-toolbar-back"\n                            [attr.aria-label]="\'ADF_VIEWER.ACTIONS.CLOSE\' | translate"\n                            mat-icon-button\n                            title="{{ \'ADF_VIEWER.ACTIONS.CLOSE\' | translate }}"\n                            (click)="onBackButtonClick()">\n                        <mat-icon>close</mat-icon>\n                    </button>\n                </adf-toolbar-title>\n\n                <div fxFlex="1 1 auto"\n                     class="adf-viewer__file-title">\n                    <button *ngIf="allowNavigate && canNavigateBefore"\n                            data-automation-id="adf-toolbar-pref-file"\n                            mat-icon-button\n                            [attr.aria-label]="\'ADF_VIEWER.ACTIONS.PREV_FILE\' | translate"\n                            title="{{ \'ADF_VIEWER.ACTIONS.PREV_FILE\' | translate }}"\n                            (click)="onNavigateBeforeClick($event)">\n                        <mat-icon>navigate_before</mat-icon>\n                    </button>\n                    <img class="adf-viewer__mimeicon"\n                         [alt]="mimeType"\n                         [src]="mimeType | adfMimeTypeIcon"\n                         data-automation-id="adf-file-thumbnail">\n                    <span class="adf-viewer__display-name"\n                          id="adf-viewer-display-name">{{ fileTitle }}</span>\n                    <button *ngIf="allowNavigate && canNavigateNext"\n                            data-automation-id="adf-toolbar-next-file"\n                            mat-icon-button\n                            [attr.aria-label]="\'ADF_VIEWER.ACTIONS.NEXT_FILE\' | translate"\n                            title="{{ \'ADF_VIEWER.ACTIONS.NEXT_FILE\' | translate }}"\n                            (click)="onNavigateNextClick($event)">\n                        <mat-icon>navigate_next</mat-icon>\n                    </button>\n                </div>\n\n                <ng-content select="adf-viewer-toolbar-actions"></ng-content>\n\n                <ng-container *ngIf="mnuOpenWith"\n                              data-automation-id=\'adf-toolbar-custom-btn\'>\n                    <button id="adf-viewer-openwith"\n                            mat-button\n                            [matMenuTriggerFor]="mnuOpenWith"\n                            data-automation-id="adf-toolbar-open-with">\n                        <span>{{ \'ADF_VIEWER.ACTIONS.OPEN_WITH\' | translate }}</span>\n                        <mat-icon>arrow_drop_down</mat-icon>\n                    </button>\n                    <mat-menu #mnuOpenWith="matMenu"\n                              [overlapTrigger]="false">\n                        <ng-content select="adf-viewer-open-with"></ng-content>\n                    </mat-menu>\n                </ng-container>\n\n                <adf-toolbar-divider></adf-toolbar-divider>\n\n                <button id="adf-viewer-download"\n                        *ngIf="allowDownload"\n                        mat-icon-button\n                        [attr.aria-label]="\'ADF_VIEWER.ACTIONS.DOWNLOAD\' | translate"\n                        title="{{ \'ADF_VIEWER.ACTIONS.DOWNLOAD\' | translate }}"\n                        data-automation-id="adf-toolbar-download"\n                        [adfNodeDownload]="nodeEntry"\n                        [version]="versionEntry">\n                    <mat-icon>file_download</mat-icon>\n                </button>\n\n                <button id="adf-viewer-print"\n                        *ngIf="allowPrint"\n                        mat-icon-button\n                        [attr.aria-label]="\'ADF_VIEWER.ACTIONS.PRINT\' | translate"\n                        title="{{ \'ADF_VIEWER.ACTIONS.PRINT\' | translate }}"\n                        data-automation-id="adf-toolbar-print"\n                        (click)="printContent()">\n                    <mat-icon>print</mat-icon>\n                </button>\n\n                <button id="adf-viewer-fullscreen"\n                        *ngIf="viewerType !== \'media\' && allowFullScreen"\n                        mat-icon-button\n                        [attr.aria-label]="\'ADF_VIEWER.ACTIONS.FULLSCREEN\' | translate"\n                        title="{{ \'ADF_VIEWER.ACTIONS.FULLSCREEN\' | translate }}"\n                        data-automation-id="adf-toolbar-fullscreen"\n                        (click)="enterFullScreen()">\n                    <mat-icon>fullscreen</mat-icon>\n                </button>\n\n                <ng-container *ngIf="allowRightSidebar">\n                    <adf-toolbar-divider></adf-toolbar-divider>\n\n                    <button mat-icon-button\n                            [attr.aria-expanded]="showRightSidebar"\n                            [attr.aria-label]="\'ADF_VIEWER.ACTIONS.INFO\' | translate"\n                            title="{{ \'ADF_VIEWER.ACTIONS.INFO\' | translate }}"\n                            data-automation-id="adf-toolbar-sidebar"\n                            [color]="showRightSidebar ? \'accent\' : null"\n                            (click)="toggleSidebar()">\n                        <mat-icon>info_outline</mat-icon>\n                    </button>\n\n                </ng-container>\n\n                <ng-container *ngIf="mnuMoreActions">\n                    <button id="adf-viewer-moreactions"\n                            mat-icon-button\n                            [matMenuTriggerFor]="mnuMoreActions"\n                            [attr.aria-label]="\'ADF_VIEWER.ACTIONS.MORE_ACTIONS\' | translate"\n                            title="{{ \'ADF_VIEWER.ACTIONS.MORE_ACTIONS\' | translate }}"\n                            data-automation-id="adf-toolbar-more-actions">\n                        <mat-icon>more_vert</mat-icon>\n                    </button>\n                    <mat-menu #mnuMoreActions="matMenu"\n                              [overlapTrigger]="false">\n                        <ng-content select="adf-viewer-more-actions"></ng-content>\n                    </mat-menu>\n                </ng-container>\n\n            </adf-toolbar>\n        </ng-container>\n\n        <div fxLayout="row"\n             fxFlex="1 1 auto">\n            <ng-container *ngIf="allowRightSidebar && showRightSidebar">\n                <div class="adf-viewer__sidebar"\n                     [ngClass]="\'adf-viewer__sidebar__right\'"\n                     fxFlexOrder="4"\n                     id="adf-right-sidebar">\n                    <ng-container *ngIf="sidebarRightTemplate">\n                        <ng-container *ngTemplateOutlet="sidebarRightTemplate;context:sidebarRightTemplateContext">\n                        </ng-container>\n                    </ng-container>\n                    <ng-content *ngIf="!sidebarRightTemplate"\n                                select="adf-viewer-sidebar"></ng-content>\n                </div>\n            </ng-container>\n\n            <ng-container *ngIf="allowLeftSidebar && showLeftSidebar">\n                <div class="adf-viewer__sidebar"\n                     [ngClass]="\'adf-viewer__sidebar__left\'"\n                     fxFlexOrder="1"\n                     id="adf-left-sidebar">\n                    <ng-container *ngIf="sidebarLeftTemplate">\n                        <ng-container *ngTemplateOutlet="sidebarLeftTemplate;context:sidebarLeftTemplateContext">\n                        </ng-container>\n                    </ng-container>\n                    <ng-content *ngIf="!sidebarLeftTemplate"\n                                select="adf-viewer-sidebar"></ng-content>\n                </div>\n            </ng-container>\n\n            <div *ngIf="isLoading"\n                 class="adf-viewer-main"\n                 fxFlexOrder="1"\n                 fxFlex="1 1 auto">\n                <div class="adf-viewer-layout-content adf-viewer__fullscreen-container">\n                    <div class="adf-viewer-content-container">\n                        <ng-container *ngIf="isLoading">\n                            <div class="adf-viewer__loading-screen"\n                                 fxFlex="1 1 auto">\n                                <h2>{{ \'ADF_VIEWER.LOADING\' | translate }}</h2>\n                                <div>\n                                    <mat-spinner></mat-spinner>\n                                </div>\n                            </div>\n                        </ng-container>\n\n                    </div>\n                </div>\n            </div>\n\n            <div *ngIf="!isLoading"\n                 class="adf-viewer-main"\n                 fxFlexOrder="1"\n                 fxFlex="1 1 auto">\n                <div class="adf-viewer-layout-content adf-viewer__fullscreen-container">\n                    <div class="adf-viewer-content-container" [ngSwitch]="viewerType">\n                        <ng-container *ngSwitchCase="\'external\'">\n                            <adf-preview-extension\n                                *ngIf="!!externalViewer"\n                                [id]="externalViewer.component"\n                                [node]="nodeEntry?.entry"\n                                [url]="urlFileContent"\n                                [extension]="externalViewer.fileExtension"\n                                [attr.data-automation-id]="externalViewer.component">\n                            </adf-preview-extension>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'pdf\'">\n                            <adf-pdf-viewer (close)="onBackButtonClick()"\n                                            [thumbnailsTemplate]="thumbnailsTemplate"\n                                            [allowThumbnails]="allowThumbnails"\n                                            [blobFile]="blobFile"\n                                            [urlFile]="urlFileContent"\n                                            [nameFile]="displayName"\n                                            [cacheType]="cacheTypeForContent"\n                                            (error)="onUnsupportedFile()"></adf-pdf-viewer>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'image\'">\n                            <adf-img-viewer [urlFile]="urlFileContent"\n                                            [nameFile]="displayName"\n                                            [blobFile]="blobFile"\n                                            [readOnly]="readOnly"\n                                            (error)="onUnsupportedFile()"\n                                            (submit)="onSubmitFile($event)"\n                            ></adf-img-viewer>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'media\'">\n                            <adf-media-player id="adf-mdedia-player"\n                                              [urlFile]="urlFileContent"\n                                              [nodeId]="nodeEntry?.entry?.id"\n                                              [mimeType]="mimeType"\n                                              [blobFile]="blobFile"\n                                              [nameFile]="displayName"\n                                              (error)="onUnsupportedFile()"></adf-media-player>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'text\'">\n                            <adf-txt-viewer [urlFile]="urlFileContent"\n                                            [blobFile]="blobFile"></adf-txt-viewer>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'in_creation\'">\n                            <div class="adf-viewer__loading-screen"\n                                 fxFlex="1 1 auto">\n                                <h2>{{ \'ADF_VIEWER.LOADING\' | translate }}</h2>\n                                <div>\n                                    <mat-spinner></mat-spinner>\n                                </div>\n                            </div>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'custom\'">\n                            <ng-container *ngFor="let ext of viewerExtensions">\n                                <adf-preview-extension *ngIf="checkExtensions(ext.fileExtension)"\n                                                       [id]="ext.component"\n                                                       [node]="nodeEntry.entry"\n                                                       [url]="urlFileContent"\n                                                       [extension]="extension"\n                                                       [attr.data-automation-id]="ext.component">\n                                </adf-preview-extension>\n                            </ng-container>\n\n                            <span class="adf-viewer-custom-content"\n                                  *ngFor="let extensionTemplate of extensionTemplates">\n                                <ng-template *ngIf="extensionTemplate.isVisible"\n                                             [ngTemplateOutlet]="extensionTemplate.template"\n                                             [ngTemplateOutletContext]="{ urlFileContent: urlFileContent, extension:extension }">\n                                </ng-template>\n                            </span>\n                        </ng-container>\n\n                        <ng-container *ngSwitchDefault>\n                            <adf-viewer-unknown-format></adf-viewer-unknown-format>\n                        </ng-container>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>\n',host:{class:"adf-viewer"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-full-screen,.adf-viewer-container .adf-viewer-content,.adf-viewer-container .adf-viewer-layout,.adf-viewer-container .adf-viewer-layout-content,.adf-viewer-inline-container{background-color:var(--theme-card-bg-color);height:100%;width:100%}.adf-viewer{height:100%;position:absolute;width:100%}.adf-viewer .mat-toolbar{color:var(--theme-text-color)}.adf-viewer .mat-toolbar .adf-toolbar-title{width:auto}.adf-viewer-main{width:0}.adf-viewer__mimeicon{height:18px;vertical-align:middle;width:18px}.adf-viewer-toolbar .mat-toolbar{background-color:var(--theme-card-bg-bold-color)}.adf-viewer__file-title{text-align:center}.adf-viewer__display-name{color:var(--theme-text-fg-color);display:inline-block;font-size:16px;font-stretch:normal;font-style:normal;font-weight:400;letter-spacing:-.4px;line-height:1.5;max-width:400px;opacity:.87;overflow:hidden;text-overflow:ellipsis;vertical-align:middle}.adf-viewer-container .adf-viewer-layout-content{background-color:var(--theme-background-color);display:flex;flex:1;flex-direction:row;flex-wrap:wrap;overflow-x:hidden;overflow-y:hidden;position:relative;z-index:1}.adf-viewer-container .adf-viewer-layout-content>div{align-items:stretch;display:flex;flex-flow:row wrap;height:100%;margin:0 auto}.adf-viewer-container .adf-viewer-layout{display:flex;flex-direction:row;overflow-x:hidden;overflow-y:auto;position:relative}.adf-viewer-container .adf-viewer-content{flex:1}.adf-viewer-container .adf-viewer-content>div{height:0}.adf-viewer-overlay-container .adf-viewer-content{left:0;position:fixed;top:0;z-index:1000}.adf-viewer-content-container{display:flex;justify-content:center}.adf-viewer-custom-content{width:100vw}.adf-viewer-unknown-content,.adf-viewer__loading-screen{align-items:center;display:flex}.adf-viewer__loading-screen{flex-direction:column;height:85vh;justify-content:center}.adf-viewer__loading-screen .mat-spinner{margin:0 auto}.adf-viewer__sidebar{background-color:var(--theme-background-color);box-shadow:0 2px 4px 0 var(--theme-text-fg-shadow-color);display:block;overflow:auto;padding:0;width:350px}.adf-viewer__sidebar__right{border-left:1px solid var(--theme-border-color)}.adf-viewer__sidebar__left{border-right:1px solid var(--theme-border-color)}.adf-viewer__thumbnails{background:#e6e6e6;display:flex;flex-direction:column;padding:0;width:180px}.adf-viewer__thumbnails .adf-info-drawer-layout{background:#e6e6e6;display:flex;flex:1;flex-direction:column}.adf-viewer__thumbnails .adf-info-drawer-layout-header{margin-bottom:0}.adf-viewer__thumbnails .adf-info-drawer-layout-content{height:100%;overflow:hidden;padding:0}.adf-viewer__thumbnails .adf-info-drawer-content{height:100%}.adf-viewer__thumbnails .adf-info-drawer-layout-content>:last-child{height:100%;overflow:hidden}.adf-viewer__toolbar-page-scale{border:1px solid var(--theme-border-color);cursor:default;font-size:14px;height:24px;line-height:24px;margin-left:4px;margin-right:4px;text-align:center;width:79px}"]}]}],pi.ctorParameters=function(){return[{type:Ce},{type:Gn},{type:Ae},{type:d.AppExtensionService},{type:St},{type:Qn},{type:t.ElementRef},{type:b.MatDialog},{type:t.ChangeDetectorRef}]},pi.propDecorators={toolbar:[{type:t.ContentChild,args:[Jn]}],sidebar:[{type:t.ContentChild,args:[Kn]}],mnuOpenWith:[{type:t.ContentChild,args:[Xn]}],mnuMoreActions:[{type:t.ContentChild,args:[Wn]}],urlFile:[{type:t.Input}],urlFileViewer:[{type:t.Input}],blobFile:[{type:t.Input}],nodeId:[{type:t.Input}],versionId:[{type:t.Input}],sharedLinkId:[{type:t.Input}],overlayMode:[{type:t.Input}],showViewer:[{type:t.Input}],showToolbar:[{type:t.Input}],displayName:[{type:t.Input}],allowGoBack:[{type:t.Input}],allowDownload:[{type:t.Input}],allowPrint:[{type:t.Input}],allowFullScreen:[{type:t.Input}],allowNavigate:[{type:t.Input}],canNavigateBefore:[{type:t.Input}],canNavigateNext:[{type:t.Input}],allowLeftSidebar:[{type:t.Input}],allowRightSidebar:[{type:t.Input}],allowThumbnails:[{type:t.Input}],showRightSidebar:[{type:t.Input}],showLeftSidebar:[{type:t.Input}],sidebarRightTemplate:[{type:t.Input}],sidebarLeftTemplate:[{type:t.Input}],thumbnailsTemplate:[{type:t.Input}],mimeType:[{type:t.Input}],fileName:[{type:t.Input}],maxRetries:[{type:t.Input}],goBack:[{type:t.Output}],print:[{type:t.Output}],showViewerChange:[{type:t.Output}],extensionChange:[{type:t.Output}],navigateBefore:[{type:t.Output}],navigateNext:[{type:t.Output}],invalidSharedLink:[{type:t.Output}],handleKeyboardEvent:[{type:t.HostListener,args:["document:keyup",["$event"]]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ui=function(){function e(e,n){this.appConfigService=e,this.contentService=n,this.showToolbar=!0,this.readOnly=!0,this.error=new t.EventEmitter,this.submit=new t.EventEmitter,this.scale=1,this.isEditing=!1,this.initializeScaling()}return Object.defineProperty(e.prototype,"currentScaleText",{get:function(){return Math.round(100*this.scale)+"%"},enumerable:!1,configurable:!0}),e.prototype.initializeScaling=function(){var e=this.appConfigService.get("adf-viewer.image-viewer-scaling",void 0)/100;e&&(this.scale=e)},e.prototype.ngAfterViewInit=function(){var e=this;this.cropper=new Y(this.imageElement.nativeElement,{autoCrop:!1,dragMode:"move",background:!1,scalable:!0,zoomOnWheel:!1,toggleDragModeOnDblclick:!1,viewMode:1,checkCrossOrigin:!1,ready:function(){e.updateCanvasContainer()}})},e.prototype.ngOnDestroy=function(){this.cropper.destroy()},e.prototype.onKeyDown=function(e){switch(e.key){case"ArrowLeft":e.preventDefault(),this.cropper.move(-3,0);break;case"ArrowUp":e.preventDefault(),this.cropper.move(0,-3);break;case"ArrowRight":e.preventDefault(),this.cropper.move(3,0);break;case"ArrowDown":e.preventDefault(),this.cropper.move(0,3);break;case"i":this.zoomIn();break;case"o":this.zoomOut();break;case"r":this.rotateImage()}},e.prototype.ngOnChanges=function(e){var t=e.blobFile;if(t&&t.currentValue)this.urlFile=this.contentService.createTrustedUrl(this.blobFile);else if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")},e.prototype.zoomIn=function(){this.cropper.zoom(.2),this.scale=+(this.scale+.2).toFixed(1)},e.prototype.zoomOut=function(){this.scale>.2&&(this.cropper.zoom(-.2),this.scale=+(this.scale-.2).toFixed(1))},e.prototype.rotateImage=function(){this.isEditing=!0,this.cropper.rotate(-90)},e.prototype.cropImage=function(){this.isEditing=!0,this.cropper.setDragMode("crop"),this.cropper.crop()},e.prototype.save=function(){var e=this;this.isEditing=!1,this.cropper.setDragMode("move"),this.cropper.getCroppedCanvas().toBlob((function(t){e.submit.emit(t),e.cropper.replace(e.cropper.getCroppedCanvas().toDataURL()),e.cropper.clear()}))},e.prototype.reset=function(){this.isEditing=!1,this.cropper.clear(),this.cropper.reset(),this.cropper.setDragMode("move"),this.scale=1,this.updateCanvasContainer()},e.prototype.updateCanvasContainer=function(){if(this.imageElement.nativeElement.width<this.cropper.getContainerData().width){var e=this.imageElement.nativeElement.width,t=this.imageElement.nativeElement.height,n=(this.cropper.getContainerData().height-this.imageElement.nativeElement.height)/2,i=(this.cropper.getContainerData().width-this.imageElement.nativeElement.width)/2;this.cropper.setCanvasData({width:e,height:t,top:n,left:i})}},e.prototype.onImageError=function(){this.error.emit()},e}();ui.decorators=[{type:t.Component,args:[{selector:"adf-img-viewer",template:'<div id="adf-image-container" (keydown)="onKeyDown($event)" class="adf-image-container" tabindex="0" role="img" [attr.aria-label]="nameFile" data-automation-id="adf-image-container">\n    <img #image id="viewer-image" [src]="urlFile" [alt]="nameFile" (error)="onImageError()" />\n</div>\n\n<div class="adf-image-viewer__toolbar" *ngIf="showToolbar">\n    <adf-toolbar class="adf-main-toolbar">\n        <button\n            id="viewer-zoom-out-button"\n            title="{{ \'ADF_VIEWER.ARIA.ZOOM_OUT\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_OUT\' | translate }}"\n            mat-icon-button\n            (click)="zoomOut()">\n            <mat-icon>zoom_out</mat-icon>\n        </button>\n\n        <div class="adf-viewer__toolbar-page-scale" data-automation-id="adf-page-scale">\n            {{ currentScaleText }}\n        </div>\n\n        <button\n            id="viewer-zoom-in-button"\n            mat-icon-button\n            title="{{ \'ADF_VIEWER.ARIA.ZOOM_IN\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_IN\' | translate }}"\n            (click)="zoomIn()">\n            <mat-icon>zoom_in</mat-icon>\n        </button>\n\n        <button\n            *ngIf="!readOnly" id="viewer-rotate-button"\n            title="{{ \'ADF_VIEWER.ARIA.ROTATE\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ROTATE\' | translate }}"\n            mat-icon-button\n            (click)="rotateImage()">\n            <mat-icon>rotate_left</mat-icon>\n        </button>\n        <button\n            *ngIf="!readOnly" id="viewer-crop-button"\n            title="{{ \'ADF_VIEWER.ARIA.CROP\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.CROP\' | translate }}"\n            mat-icon-button\n            (click)="cropImage()">\n            <mat-icon>crop</mat-icon>\n        </button>\n\n        <button\n            id="viewer-reset-button"\n            title="{{ \'ADF_VIEWER.ARIA.RESET\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.RESET\' | translate }}"\n            mat-icon-button\n            (click)="reset()">\n            <mat-icon>zoom_out_map</mat-icon>\n        </button>\n\n    </adf-toolbar>\n\n    <adf-toolbar class="adf-secondary-toolbar" *ngIf="!readOnly && isEditing">\n        <button\n            id="viewer-cancel-button"\n            title="{{ \'ADF_VIEWER.ARIA.CANCEL\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.CANCEL\' | translate }}"\n            mat-icon-button\n            (click)="reset()">\n            <mat-icon>close</mat-icon>\n        </button>\n\n        <button\n            id="viewer-save-button"\n            title="{{ \'ADF_VIEWER.ARIA.SAVE\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.SAVE\' | translate }}"\n            mat-icon-button\n            (click)="save()">\n            <mat-icon>check</mat-icon>\n        </button>\n\n    </adf-toolbar>\n</div>\n',host:{class:"adf-image-viewer"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-image-viewer{width:100%}.adf-image-viewer .adf-image-container{align-items:center;display:flex;height:90vh;justify-content:center}.adf-image-viewer .adf-image-container:focus{outline:1px solid var(--theme-accent-color-a200);outline-offset:-1px}.adf-image-viewer .adf-image-container img{max-height:100%;max-width:100%}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.adf-image-viewer .adf-image-container img{height:100%}}.adf-image-viewer__toolbar{bottom:5px;left:50%;position:absolute;transform:translateX(-50%)}.adf-image-viewer__toolbar .adf-toolbar .mat-toolbar{background-color:var(--theme-card-bg-color);border-radius:2px;border-width:0;box-shadow:0 2px 2px 0 rgba(0,0,0,.24),0 0 2px 0 rgba(0,0,0,.12);max-height:48px}.adf-image-viewer__toolbar .adf-main-toolbar{display:inline-block}.adf-image-viewer__toolbar .adf-secondary-toolbar{display:inline-block;margin-left:10px}"]}]}],ui.ctorParameters=function(){return[{type:Ie},{type:St}]},ui.propDecorators={showToolbar:[{type:t.Input}],readOnly:[{type:t.Input}],urlFile:[{type:t.Input}],blobFile:[{type:t.Input}],nameFile:[{type:t.Input}],error:[{type:t.Output}],submit:[{type:t.Output}],imageElement:[{type:t.ViewChild,args:["image",{static:!1}]}],onKeyDown:[{type:t.HostListener,args:["document:keydown",["$event"]]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ci=function(){function e(e,n){this.contentService=e,this.viewUtils=n,this.tracks=[],this.error=new t.EventEmitter}return e.prototype.ngOnChanges=function(e){var t=this,n=e.blobFile,i=e.nodeId;if(n&&n.currentValue)this.urlFile=this.contentService.createTrustedUrl(this.blobFile);else if(i&&i.currentValue&&this.viewUtils.generateMediaTracks(this.nodeId).then((function(e){return t.tracks=e})),!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")},e.prototype.onMediaPlayerError=function(){this.error.emit()},e}();ci.decorators=[{type:t.Component,args:[{selector:"adf-media-player",template:'<video controls [ngClass]="{\'adf-audio-file\': mimeType && mimeType.startsWith(\'audio\')}">\n    <source [src]="urlFile" [type]="mimeType" (error)="onMediaPlayerError()"/>\n    <track *ngFor="let track of tracks" [kind]="track.kind" [label]="track.label" [srclang]="track.srclang" [src]="track.src"/>\n</video>\n',host:{class:"adf-media-player"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-media-player{display:flex}.adf-media-player video{display:flex;flex:1;max-height:90vh;max-width:100%}.adf-media-player video.adf-audio-file::-webkit-media-text-track-container{transform:translateY(-50%)!important}"]}]}],ci.ctorParameters=function(){return[{type:St},{type:Gn}]},ci.propDecorators={urlFile:[{type:t.Input}],blobFile:[{type:t.Input}],mimeType:[{type:t.Input}],nameFile:[{type:t.Input}],nodeId:[{type:t.Input}],tracks:[{type:t.Input}],error:[{type:t.Output}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var fi=function(){function e(e,t){this.dialogRef=e,this.data=t}return e.prototype.ngOnInit=function(){this.passwordFormControl=new G.FormControl("",[G.Validators.required])},e.prototype.isError=function(){return this.data.reason===pdfjsLib.PasswordResponses.INCORRECT_PASSWORD},e.prototype.isValid=function(){return!this.passwordFormControl.hasError("required")},e.prototype.submit=function(){this.dialogRef.close(this.passwordFormControl.value)},e}();fi.decorators=[{type:t.Component,args:[{selector:"adf-pdf-viewer-password-dialog",template:'<div mat-dialog-title>\n    <mat-icon>lock</mat-icon>\n</div>\n\n<mat-dialog-content>\n    <form (submit)="submit()">\n        <mat-form-field class="adf-full-width">\n            <input matInput\n                   data-automation-id=\'adf-password-dialog-input\'\n                   type="password"\n                   placeholder="{{ \'ADF_VIEWER.PDF_DIALOG.PLACEHOLDER\' | translate }}"\n                   [formControl]="passwordFormControl" />\n        </mat-form-field>\n\n        <mat-error *ngIf="isError()" data-automation-id=\'adf-password-dialog-error\'>{{ \'ADF_VIEWER.PDF_DIALOG.ERROR\' | translate }}</mat-error>\n    </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class="adf-dialog-buttons">\n    <span class="adf-fill-remaining-space"></span>\n\n    <button mat-button mat-dialog-close data-automation-id=\'adf-password-dialog-close\'>{{ \'ADF_VIEWER.PDF_DIALOG.CLOSE\' | translate }}</button>\n\n    <button mat-button\n            data-automation-id=\'adf-password-dialog-submit\'\n            class="adf-dialog-action-button"\n            [disabled]="!isValid()"\n            (click)="submit()">\n        {{ \'ADF_VIEWER.PDF_DIALOG.SUBMIT\' | translate }}\n    </button>\n</mat-dialog-actions>\n',encapsulation:t.ViewEncapsulation.None,styles:[".adf-fill-remaining-space{flex:1 1 auto}.adf-full-width{width:100%}.adf-dialog-buttons button{text-transform:uppercase}.adf-dialog-action-button:enabled{color:var(--theme-primary-color)}"]}]}],fi.ctorParameters=function(){return[{type:b.MatDialogRef},{type:void 0,decorators:[{type:t.Inject,args:[b.MAT_DIALOG_DATA]}]}]};var mi=function(){function e(){this.renderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},this.CLEANUP_TIMEOUT=3e4,this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return e.prototype.setViewer=function(e){this.pdfViewer=e},e.prototype.setThumbnailViewer=function(e){this.pdfThumbnailViewer=e},e.prototype.isHighestPriority=function(e){return this.highestPriorityPage===e.renderingId},e.prototype.renderHighestPriority=function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),this.CLEANUP_TIMEOUT))},e.prototype.getHighestPriority=function(e,t,n){var i=e.views,a=i.length;if(0===a)return!1;for(var o=0;o<a;++o){var r=i[o].view;if(!this.isViewFinished(r))return r}if(n){var l=e.last.id;if(t[l]&&!this.isViewFinished(t[l]))return t[l]}else{var s=e.first.id-2;if(t[s]&&!this.isViewFinished(t[s]))return t[s]}return null},e.prototype.isViewFinished=function(e){return e.renderingState===this.renderingStates.FINISHED},e.prototype.renderView=function(e){switch(e.renderingState){case this.renderingStates.FINISHED:return!1;case this.renderingStates.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case this.renderingStates.RUNNING:this.highestPriorityPage=e.renderingId;break;case this.renderingStates.INITIAL:this.highestPriorityPage=e.renderingId;var t=function(){this.renderHighestPriority()}.bind(this);e.draw().then(t,t)}return!0},e}();mi.decorators=[{type:t.Injectable}];var hi=function(){function e(e,n,i,a){var r=this;this.dialog=e,this.renderingQueueServices=n,this.logService=i,this.appConfigService=a,this.showToolbar=!0,this.allowThumbnails=!1,this.thumbnailsTemplate=null,this.cacheType="",this.rendered=new t.EventEmitter,this.error=new t.EventEmitter,this.close=new t.EventEmitter,this.currentScaleMode="auto",this.currentScale=1,this.MAX_AUTO_SCALE=1.25,this.DEFAULT_SCALE_DELTA=1.1,this.MIN_SCALE=.25,this.MAX_SCALE=10,this.isPanelDisabled=!0,this.showThumbnails=!1,this.pdfThumbnailsContext={viewer:null},this.eventBus=new pdfjsViewer.EventBus,this.pdfjsDefaultOptions={disableAutoFetch:!0,disableStream:!0},this.pdfjsWorkerDestroy$=new o.Subject,this.onDestroy$=new o.Subject,this.onPageChange=this.onPageChange.bind(this),this.onPagesLoaded=this.onPagesLoaded.bind(this),this.onPageRendered=this.onPageRendered.bind(this),this.randomPdfId=this.generateUuid(),this.currentScale=this.getUserScaling(),this.pdfjsWorkerDestroy$.pipe(s.catchError((function(){return null})),s.delay(700)).subscribe((function(){return r.destroyPdJsWorker()}))}return Object.defineProperty(e.prototype,"currentScaleText",{get:function(){return Math.round(100*this.currentScale)+"%"},enumerable:!1,configurable:!0}),e.prototype.getUserScaling=function(){var e=this.appConfigService.get("adf-viewer.pdf-viewer-scaling",void 0)/100;return e?this.checkLimits(e):1},e.prototype.checkLimits=function(e){return e>this.MAX_SCALE?this.MAX_SCALE:e<this.MIN_SCALE?this.MIN_SCALE:e},e.prototype.ngOnChanges=function(e){var t=this,n=e.blobFile;if(n&&n.currentValue){var i=new FileReader;i.onload=function(){return oe(t,void 0,void 0,(function(){var e;return re(this,(function(t){return e=Object.assign(Object.assign({},this.pdfjsDefaultOptions),{data:i.result,withCredentials:this.appConfigService.get("auth.withCredentials",void 0)}),this.executePdf(e),[2]}))}))},i.readAsArrayBuffer(n.currentValue)}var a=e.urlFile;if(a&&a.currentValue){var o=Object.assign(Object.assign({},this.pdfjsDefaultOptions),{url:a.currentValue,withCredentials:this.appConfigService.get("auth.withCredentials",void 0)});this.cacheType&&(o.httpHeaders={"Cache-Control":this.cacheType}),this.executePdf(o)}if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")},e.prototype.executePdf=function(e){var t=this;pdfjsLib.GlobalWorkerOptions.workerSrc="pdf.worker.min.js",this.loadingTask=pdfjsLib.getDocument(e),this.loadingTask.onPassword=function(e,n){t.onPdfPassword(e,n)},this.loadingTask.onProgress=function(e){var n=e.loaded/e.total;t.loadingPercent=Math.round(100*n)},this.loadingTask.promise.then((function(e){return t.totalPages=e.numPages,t.page=1,t.displayPage=1,t.initPDFViewer(e),e.getPage(1)})).then((function(){return t.scalePage("auto")})).catch((function(){return t.error.emit()}))},e.prototype.initPDFViewer=function(e){var t=this.getViewer(),n=this.getDocumentContainer();t&&n&&(this.pdfViewer=new pdfjsViewer.PDFViewer({container:n,viewer:t,renderingQueue:this.renderingQueueServices,eventBus:this.eventBus}),this.eventBus.on("pagechanging",this.onPageChange),this.eventBus.on("pagesloaded",this.onPagesLoaded),this.eventBus.on("textlayerrendered",this.onPageRendered),this.renderingQueueServices.setViewer(this.pdfViewer),this.pdfViewer.setDocument(e),this.pdfThumbnailsContext.viewer=this.pdfViewer)},e.prototype.ngOnDestroy=function(){this.pdfViewer&&(this.eventBus.off("pagechanging"),this.eventBus.off("pagesloaded"),this.eventBus.off("textlayerrendered")),this.loadingTask&&this.pdfjsWorkerDestroy$.next(),this.onDestroy$.next(),this.pdfjsWorkerDestroy$.complete(),this.onDestroy$.complete()},e.prototype.destroyPdJsWorker=function(){this.loadingTask.destroy(),this.loadingTask=null},e.prototype.toggleThumbnails=function(){this.showThumbnails=!this.showThumbnails},e.prototype.scalePage=function(e){this.currentScaleMode=e;var t=document.getElementById(this.randomPdfId+"-viewer-main-container"),n=this.getDocumentContainer();if(this.pdfViewer&&n){var i=void 0,a=void 0;t&&t.clientWidth<=n.clientWidth?(i=t.clientWidth,a=t.clientHeight):(i=n.clientWidth,a=n.clientHeight);var o=this.pdfViewer._pages[this.pdfViewer._currentPageNumber-1],r=(i-20)/o.width*o.scale,l=(a-20)/o.width*o.scale,s=this.getUserScaling();if(s)this.currentScale=0,s=this.checkPageFitInContainer(s),this.setScaleUpdatePages(s);else{switch(this.currentScaleMode){case"page-actual":s=1;break;case"page-width":s=r;break;case"page-height":s=l;break;case"page-fit":s=Math.min(r,l);break;case"auto":var d=void 0;d=this.isLandscape?Math.min(l,r):r,d=Math.round(d),s=Math.min(this.MAX_AUTO_SCALE,d),s=this.checkPageFitInContainer(s);break;default:return void this.logService.error("pdfViewSetScale: '"+e+"' is an unknown zoom value.")}this.setScaleUpdatePages(s)}}},e.prototype.getDocumentContainer=function(){return document.getElementById(this.randomPdfId+"-viewer-pdf-viewer")},e.prototype.getViewer=function(){return document.getElementById(this.randomPdfId+"-viewer-viewerPdf")},e.prototype.checkPageFitInContainer=function(e){var t=this.getDocumentContainer(),n=this.pdfViewer._pages[this.pdfViewer._currentPageNumber-1];return n.width>t.clientWidth&&(e=Math.fround((t.clientWidth-20)/n.width))<this.MIN_SCALE&&(e=this.MIN_SCALE),e},e.prototype.setScaleUpdatePages=function(e){this.pdfViewer&&(this.isSameScale(this.currentScale,e)||(this.currentScale=e,this.pdfViewer._pages.forEach((function(t){t.update(e)}))),this.pdfViewer.update())},e.prototype.isSameScale=function(e,t){return t===e},e.prototype.isLandscape=function(e,t){return e>t},e.prototype.onResize=function(){this.scalePage(this.currentScaleMode)},e.prototype.pageFit=function(){"page-fit"!==this.currentScaleMode?this.scalePage("page-fit"):this.scalePage("auto")},e.prototype.zoomIn=function(e){var t=this.currentScale;do{t=(t*this.DEFAULT_SCALE_DELTA).toFixed(2),t=Math.ceil(10*t)/10,t=Math.min(this.MAX_SCALE,t)}while(--e>0&&t<this.MAX_SCALE);this.currentScaleMode="auto",this.setScaleUpdatePages(t)},e.prototype.zoomOut=function(e){var t=this.currentScale;do{t=(t/this.DEFAULT_SCALE_DELTA).toFixed(2),t=Math.floor(10*t)/10,t=Math.max(this.MIN_SCALE,t)}while(--e>0&&t>this.MIN_SCALE);this.currentScaleMode="auto",this.setScaleUpdatePages(t)},e.prototype.previousPage=function(){this.pdfViewer&&this.page>1&&(this.page--,this.displayPage=this.page,this.pdfViewer.currentPageNumber=this.page)},e.prototype.nextPage=function(){this.pdfViewer&&this.page<this.totalPages&&(this.page++,this.displayPage=this.page,this.pdfViewer.currentPageNumber=this.page)},e.prototype.inputPage=function(e){var t=parseInt(e,10);!isNaN(t)&&t>0&&t<=this.totalPages?(this.page=t,this.displayPage=this.page,this.pdfViewer.currentPageNumber=this.page):this.displayPage=this.page},e.prototype.onPageChange=function(e){e.source&&e.source.container.id===this.randomPdfId+"-viewer-pdf-viewer"&&(this.page=e.pageNumber,this.displayPage=e.pageNumber)},e.prototype.onPdfPassword=function(e,t){var n=this;this.dialog.open(fi,{width:"400px",data:{reason:t}}).afterClosed().subscribe((function(t){t?e(t):n.close.emit()}))},e.prototype.onPageRendered=function(){this.rendered.emit()},e.prototype.onPagesLoaded=function(){this.isPanelDisabled=!1},e.prototype.handleKeyboardEvent=function(e){var t=e.keyCode;39===t?this.nextPage():37===t&&this.previousPage()},e.prototype.generateUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e}();hi.decorators=[{type:t.Component,args:[{selector:"adf-pdf-viewer",template:'<div class="adf-pdf-viewer__container">\n    <ng-container *ngIf="showThumbnails">\n        <div class="adf-pdf-viewer__thumbnails">\n            <div class="adf-thumbnails-template__container">\n                <div class="adf-thumbnails-template__buttons">\n                    <button\n                        mat-icon-button\n                        data-automation-id=\'adf-thumbnails-close\'\n                        (click)="toggleThumbnails()"\n                        [attr.aria-label]="\'ADF_VIEWER.ARIA.THUMBNAILS_PANLEL_CLOSE\' | translate"\n                        title="{{ \'ADF_VIEWER.ACTIONS.CLOSE\' | translate }}">\n                        <mat-icon>close</mat-icon>\n                    </button>\n                </div>\n\n                <ng-container *ngIf="thumbnailsTemplate">\n                    <ng-container *ngTemplateOutlet="thumbnailsTemplate;context:pdfThumbnailsContext"></ng-container>\n                </ng-container>\n\n                <ng-container *ngIf="!thumbnailsTemplate">\n                    <adf-pdf-thumbnails (close)="toggleThumbnails()" [pdfViewer]="pdfViewer"></adf-pdf-thumbnails>\n                </ng-container>\n            </div>\n        </div>\n    </ng-container>\n\n    <div class="adf-pdf-viewer__content">\n        <div [id]="randomPdfId+\'-viewer-pdf-viewer\'" class="adf-viewer-pdf-viewer" (window:resize)="onResize()">\n            <div [id]="randomPdfId+\'-viewer-viewerPdf\'" class="adf-pdfViewer" role="document" tabindex="0" aria-expanded="true">\n                <div id="loader-container" class="adf-loader-container">\n                    <div class="adf-loader-item">\n                        <mat-progress-bar mode="indeterminate"></mat-progress-bar>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="adf-pdf-viewer__toolbar" *ngIf="showToolbar">\n    <adf-toolbar>\n\n        <ng-container *ngIf="allowThumbnails">\n            <button mat-icon-button\n                    [attr.aria-label]="\'ADF_VIEWER.ARIA.THUMBNAILS\' | translate"\n                    [attr.aria-expanded]="showThumbnails"\n                    data-automation-id="adf-thumbnails-button"\n                    [disabled]="isPanelDisabled"\n                    (click)="toggleThumbnails()">\n                <mat-icon>dashboard</mat-icon>\n            </button>\n            <adf-toolbar-divider></adf-toolbar-divider>\n        </ng-container>\n\n        <button\n            id="viewer-previous-page-button"\n            title="{{ \'ADF_VIEWER.ARIA.PREVIOUS_PAGE\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.PREVIOUS_PAGE\' | translate }}"\n            mat-icon-button\n            (click)="previousPage()">\n            <mat-icon>keyboard_arrow_up</mat-icon>\n        </button>\n\n        <button\n            id="viewer-next-page-button"\n            title="{{ \'ADF_VIEWER.ARIA.NEXT_PAGE\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.NEXT_PAGE\' | translate }}"\n            mat-icon-button\n            (click)="nextPage()">\n            <mat-icon>keyboard_arrow_down</mat-icon>\n        </button>\n\n        <div class="adf-pdf-viewer__toolbar-page-selector">\n            <span>{{ \'ADF_VIEWER.PAGE_LABEL.SHOWING\' | translate }}</span>\n            <input #page\n                   type="text"\n                   data-automation-id="adf-page-selector"\n                   pattern="-?[0-9]*(\\.[0-9]+)?"\n                   value="{{ displayPage }}"\n                   (keyup.enter)="inputPage(page.value)">\n            <span>{{ \'ADF_VIEWER.PAGE_LABEL.OF\' | translate }} {{ totalPages }}</span>\n        </div>\n\n        <div class="adf-viewer__toolbar-page-scale" data-automation-id="adf-page-scale">\n            {{ currentScaleText }}\n        </div>\n\n        <button\n            id="viewer-zoom-in-button"\n            title="{{ \'ADF_VIEWER.ARIA.ZOOM_IN\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_IN\' | translate }}"\n            mat-icon-button\n            (click)="zoomIn()">\n            <mat-icon>zoom_in</mat-icon>\n        </button>\n\n        <button\n            id="viewer-zoom-out-button"\n            title="{{ \'ADF_VIEWER.ARIA.ZOOM_OUT\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_OUT\' | translate }}"\n            mat-icon-button\n            (click)="zoomOut()">\n            <mat-icon>zoom_out</mat-icon>\n        </button>\n\n        <button\n            id="viewer-scale-page-button"\n            title="{{ \'ADF_VIEWER.ARIA.FIT_PAGE\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.FIT_PAGE\' | translate }}"\n            mat-icon-button\n            (click)="pageFit()">\n            <mat-icon>zoom_out_map</mat-icon>\n        </button>\n\n    </adf-toolbar>\n</div>\n',providers:[mi],host:{class:"adf-pdf-viewer"},encapsulation:t.ViewEncapsulation.None,styles:['.adf-pdf-viewer .textLayer>span{color:transparent;cursor:text;position:absolute;transform-origin:0 0;white-space:pre}.adf-pdf-viewer .textLayer .highlight{background-color:#b400aa;border-radius:4px;margin:-1px;padding:1px}.adf-pdf-viewer .textLayer .highlight.begin{border-radius:4px 0 0 4px}.adf-pdf-viewer .textLayer .highlight.end{border-radius:0 4px 4px 0}.adf-pdf-viewer .textLayer .highlight.middle{border-radius:0}.adf-pdf-viewer .textLayer .highlight.selected{background-color:#006400}.adf-pdf-viewer .textLayer ::selection{background:#00f}.adf-pdf-viewer .textLayer .endOfContent{-webkit-user-select:none;bottom:0;cursor:default;display:block;left:0;position:absolute;right:0;top:100%;user-select:none;z-index:-1}.adf-pdf-viewer .textLayer .endOfContent.active{top:0}.adf-pdf-viewer .annotationLayer section{position:absolute}.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.pushButton>a,.adf-pdf-viewer .annotationLayer .linkAnnotation>a{font-size:1em;height:100%;left:0;position:absolute;top:0;width:100%}.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover,.adf-pdf-viewer .annotationLayer .linkAnnotation>a:hover{background:#ff0;box-shadow:0 2px 10px #ff0;opacity:.2}.adf-pdf-viewer .annotationLayer .textAnnotation img{cursor:pointer;position:absolute}.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.checkBox input,.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.radioButton input,.adf-pdf-viewer .annotationLayer .choiceWidgetAnnotation select,.adf-pdf-viewer .annotationLayer .textWidgetAnnotation input,.adf-pdf-viewer .annotationLayer .textWidgetAnnotation textarea{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}.adf-pdf-viewer .annotationLayer .choiceWidgetAnnotation select option{padding:0}.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}.adf-pdf-viewer .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled],.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled],.adf-pdf-viewer .annotationLayer .choiceWidgetAnnotation select[disabled],.adf-pdf-viewer .annotationLayer .textWidgetAnnotation input[disabled],.adf-pdf-viewer .annotationLayer .textWidgetAnnotation textarea[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.checkBox input:hover,.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.radioButton input:hover,.adf-pdf-viewer .annotationLayer .choiceWidgetAnnotation select:hover,.adf-pdf-viewer .annotationLayer .textWidgetAnnotation input:hover,.adf-pdf-viewer .annotationLayer .textWidgetAnnotation textarea:hover{border:1px solid #000}.adf-pdf-viewer .annotationLayer .choiceWidgetAnnotation select:focus,.adf-pdf-viewer .annotationLayer .textWidgetAnnotation input:focus,.adf-pdf-viewer .annotationLayer .textWidgetAnnotation textarea:focus{background:none;border:1px solid transparent}.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after,.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before,.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:"";display:block;position:absolute}.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after,.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{height:80%;left:45%;width:1px}.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}.adf-pdf-viewer .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}.adf-pdf-viewer .annotationLayer .textWidgetAnnotation input.comb:focus{width:115%}.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.checkBox input,.adf-pdf-viewer .annotationLayer .buttonWidgetAnnotation.radioButton input{-moz-appearance:none;-webkit-appearance:none;appearance:none;padding:0}.adf-pdf-viewer .annotationLayer .popupWrapper{position:absolute;width:20em}.adf-pdf-viewer .annotationLayer .popup{background-color:#ff9;border-radius:2px;box-shadow:0 2px 5px #888;cursor:pointer;font:message-box;font-size:9px;margin-left:5px;max-width:20em;padding:6px;position:absolute;word-wrap:break-word;z-index:200}.adf-pdf-viewer .annotationLayer .popup>*{font-size:9px}.adf-pdf-viewer .annotationLayer .popup h1{display:inline-block}.adf-pdf-viewer .annotationLayer .popup span{display:inline-block;margin-left:5px}.adf-pdf-viewer .annotationLayer .popup p{border-top:1px solid #333;margin-top:2px;padding-top:2px}.adf-pdf-viewer .annotationLayer .caretAnnotation,.adf-pdf-viewer .annotationLayer .circleAnnotation svg ellipse,.adf-pdf-viewer .annotationLayer .fileAttachmentAnnotation,.adf-pdf-viewer .annotationLayer .freeTextAnnotation,.adf-pdf-viewer .annotationLayer .highlightAnnotation,.adf-pdf-viewer .annotationLayer .inkAnnotation svg polyline,.adf-pdf-viewer .annotationLayer .lineAnnotation svg line,.adf-pdf-viewer .annotationLayer .polygonAnnotation svg polygon,.adf-pdf-viewer .annotationLayer .polylineAnnotation svg polyline,.adf-pdf-viewer .annotationLayer .squareAnnotation svg rect,.adf-pdf-viewer .annotationLayer .squigglyAnnotation,.adf-pdf-viewer .annotationLayer .stampAnnotation,.adf-pdf-viewer .annotationLayer .strikeoutAnnotation,.adf-pdf-viewer .annotationLayer .underlineAnnotation{cursor:pointer}.adf-pdf-viewer .pdfViewer .canvasWrapper{overflow:hidden}.adf-pdf-viewer .pdfViewer .page{background-clip:content-box;background-color:#fff;border:9px solid transparent;direction:ltr;height:1056px;margin:1px auto -8px;overflow:visible;position:relative;width:816px}.adf-pdf-viewer .pdfViewer.removePageBorders .page{border:none;margin:0 auto 10px}.adf-pdf-viewer .pdfViewer.singlePageView{display:inline-block}.adf-pdf-viewer .pdfViewer.singlePageView .page{border:none;margin:0}.adf-pdf-viewer .pdfViewer.scrollHorizontal,.adf-pdf-viewer .pdfViewer.scrollWrapped,.adf-pdf-viewer .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}.adf-pdf-viewer .pdfViewer.scrollHorizontal,.adf-pdf-viewer .spread{white-space:nowrap}.adf-pdf-viewer .pdfViewer.removePageBorders,.adf-pdf-viewer .pdfViewer.scrollHorizontal .spread,.adf-pdf-viewer .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}.adf-pdf-viewer .pdfViewer.scrollHorizontal .page,.adf-pdf-viewer .pdfViewer.scrollHorizontal .spread,.adf-pdf-viewer .pdfViewer.scrollWrapped .page,.adf-pdf-viewer .pdfViewer.scrollWrapped .spread,.adf-pdf-viewer .spread .page{display:inline-block;vertical-align:middle}.adf-pdf-viewer .pdfViewer.scrollHorizontal .page,.adf-pdf-viewer .pdfViewer.scrollWrapped .page,.adf-pdf-viewer .spread .page{margin-left:-3.5px;margin-right:-3.5px}.adf-pdf-viewer .pdfViewer.removePageBorders.scrollHorizontal .page,.adf-pdf-viewer .pdfViewer.removePageBorders.scrollWrapped .page,.adf-pdf-viewer .pdfViewer.removePageBorders .spread .page{margin-left:5px;margin-right:5px}.adf-pdf-viewer .pdfViewer .page canvas{display:block;margin:0}.adf-pdf-viewer .pdfViewer .page canvas[hidden]{display:none}.adf-pdf-viewer .pdfViewer .page .loadingIcon{bottom:0;display:block;left:0;position:absolute;right:0;top:0}.adf-pdf-viewer .pdfPresentationMode .pdfViewer{margin-left:0;margin-right:0}.adf-pdf-viewer .pdfPresentationMode .pdfViewer .page,.adf-pdf-viewer .pdfPresentationMode .pdfViewer .spread{display:block}.adf-pdf-viewer .pdfPresentationMode .pdfViewer .page,.adf-pdf-viewer .pdfPresentationMode .pdfViewer.removePageBorders .page{margin-left:auto;margin-right:auto}.adf-pdf-viewer .pdfPresentationMode:-webkit-full-screen .pdfViewer .page{border:0;margin-bottom:100%}.adf-pdf-viewer .pdfPresentationMode:fullscreen .pdfViewer .page{border:0;margin-bottom:100%}.adf-pdf-viewer .textLayer{border:1px solid grey;bottom:0;left:0;line-height:1;opacity:.2;overflow:hidden;position:absolute;right:0;top:0}.adf-pdf-viewer .textLayer>div{color:transparent;cursor:text;position:absolute;transform-origin:0 0;white-space:pre}.adf-pdf-viewer .textLayer .adf-highlight{background-color:#b400aa;border-radius:4px;margin:-1px;padding:1px}.adf-pdf-viewer .textLayer .adf-highlight.adf-begin{border-radius:4px 0 0 4px}.adf-pdf-viewer .textLayer .adf-highlight.adf-end{border-radius:0 4px 4px 0}.adf-pdf-viewer .textLayer .adf-highlight.adf-middle{border-radius:0}.adf-pdf-viewer .textLayer .adf-highlight.adf-selected{background-color:#006400}.adf-pdf-viewer .textLayer::selection{background:#00f}.adf-pdf-viewer .textLayer::-moz-selection{background:#00f}.adf-pdf-viewer .textLayer .adf-endOfContent{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;bottom:0;cursor:default;display:block;left:0;position:absolute;right:0;top:100%;user-select:none;z-index:-1}.adf-pdf-viewer .textLayer .adf-endOfContent.adf-active{top:0}.adf-pdf-viewer .adf-annotationLayer section{position:absolute}.adf-pdf-viewer .adf-annotationLayer .adf-linkAnnotation>a{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7") 0 0 repeat;font-size:1em;height:100%;left:0;position:absolute;top:0;width:100%}.adf-pdf-viewer .adf-annotationLayer .adf-linkAnnotation>a:hover{background:#ff0;box-shadow:0 2px 10px #ff0;opacity:.2}.adf-pdf-viewer .adf-annotationLayer .adf-textAnnotation img{cursor:pointer;position:absolute}.adf-pdf-viewer .adf-annotationLayer .adf-popupWrapper{position:absolute;width:20em}.adf-pdf-viewer .adf-annotationLayer .adf-popup{background-color:#ff9;border-radius:2px;box-shadow:0 2px 5px #333;cursor:pointer;margin-left:5px;max-width:20em;padding:.6em;position:absolute;word-wrap:break-word;z-index:200}.adf-pdf-viewer .adf-annotationLayer .adf-popup h1{border-bottom:1px solid #000;font-size:1em;padding-bottom:.2em}.adf-pdf-viewer .adf-annotationLayer .adf-popup p{padding-top:.2em}.adf-pdf-viewer .adf-annotationLayer .adf-fileAttachmentAnnotation,.adf-pdf-viewer .adf-annotationLayer .adf-highlightAnnotation,.adf-pdf-viewer .adf-annotationLayer .adf-squigglyAnnotation,.adf-pdf-viewer .adf-annotationLayer .adf-strikeoutAnnotation,.adf-pdf-viewer .adf-annotationLayer .adf-underlineAnnotation{cursor:pointer}.adf-pdf-viewer .adf-pdfViewer .canvasWrapper{overflow:hidden}.adf-pdf-viewer .adf-pdfViewer .page{background-clip:content-box;background-color:#fff;border:9px solid transparent;direction:ltr;height:1056px;margin:1px auto -8px;overflow:visible;position:relative;width:816px}.adf-pdf-viewer .adf-pdfViewer .page canvas{display:block;margin:0}.adf-pdf-viewer .adf-pdfViewer .page .adf-loadingIcon{bottom:0;display:block;left:0;position:absolute;right:0;top:0}.adf-pdf-viewer .adf-pdfViewer .page *{margin:0;padding:0}.adf-pdf-viewer .adf-pdfViewer.adf-removePageBorders .adf-page{border:none;margin:0 auto 10px}.adf-pdf-viewer .adf-pdfViewer .adf-loadingIcon{animation:load8 1.1s linear infinite;border:1.1em solid rgba(3,0,2,.2);border-left-color:#030002;border-radius:50%;font-size:5px;height:100px;left:50%!important;margin-left:-50px;margin-top:-50px;text-indent:-9999em;top:50%!important;transform:translateZ(0);width:100px}.adf-pdf-viewer .adf-pdfViewer .adf-loadingIcon:after{border-radius:50%}.adf-pdf-viewer .adf-hidden,.adf-pdf-viewer [hidden]{display:none!important}@keyframes load8{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.adf-viewer-pdf-viewer{-webkit-overflow-scrolling:touch;bottom:0;left:0;outline:none;overflow:auto;position:absolute;right:0;top:0}html[dir=ltr] .adf-viewer-pdf-viewer{box-shadow:inset 1px 0 0 hsla(0,0%,100%,.05)}html[dir=rtl] .adf-viewer-pdf-viewer{box-shadow:inset -1px 0 0 hsla(0,0%,100%,.05)}',".adf-pdf-viewer,.adf-viewer-content-container{height:100%;width:100%}.adf-pdf-viewer{margin:0}.adf-pdf-viewer .adf-loader-container{-moz-box-flex-direction:row;-webkit-box-flex-direction:row;display:flex;flex-direction:row;height:100%}.adf-pdf-viewer__thumbnails{background-color:rgba(0,0,0,.12);height:100%;position:relative;width:190px}.adf-pdf-viewer .adf-thumbnails-template__container{display:flex;flex-direction:column;height:100%}.adf-pdf-viewer .adf-thumbnails-template__buttons{align-items:flex-end;color:var(--theme-text-color);display:flex;height:45px;justify-content:flex-end}.adf-pdf-viewer__container{display:flex;height:100vh}.adf-pdf-viewer__content{flex:1 1 auto;position:relative}.adf-pdf-viewer .adf-loader-item{margin:auto;max-height:100px;max-width:300px}.adf-pdf-viewer__toolbar{bottom:5px;left:50%;position:absolute;transform:translateX(-50%)}.adf-pdf-viewer__toolbar .adf-toolbar .mat-toolbar{background-color:var(--theme-card-bg-color);border-radius:2px;border-width:0;box-shadow:0 2px 2px 0 rgba(0,0,0,.24),0 0 2px 0 rgba(0,0,0,.12);max-height:48px}.adf-pdf-viewer__toolbar-page-selector{font-size:14px;padding-left:10px;padding-right:10px}.adf-pdf-viewer__toolbar-page-selector>input{background-color:var(--theme-card-bg-color);border:1px solid var(--theme-border-color);color:inherit;font-size:14px;height:24px;line-height:24px;margin-right:4px;outline-color:grey;outline-width:1px;padding:5px;text-align:right;width:33px}"]}]}],hi.ctorParameters=function(){return[{type:b.MatDialog},{type:mi},{type:Ae},{type:Ie}]},hi.propDecorators={urlFile:[{type:t.Input}],blobFile:[{type:t.Input}],nameFile:[{type:t.Input}],showToolbar:[{type:t.Input}],allowThumbnails:[{type:t.Input}],thumbnailsTemplate:[{type:t.Input}],cacheType:[{type:t.Input}],rendered:[{type:t.Output}],error:[{type:t.Output}],close:[{type:t.Output}],handleKeyboardEvent:[{type:t.HostListener,args:["document:keydown",["$event"]]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var gi=function(){function e(e,t){this.sanitizer=e,this.element=t,this.page=null}return e.prototype.ngOnInit=function(){var e=this;this.image$=this.page.getPage().then((function(t){return e.getThumb(t)}))},e.prototype.focus=function(){this.element.nativeElement.focus()},e.prototype.getThumb=function(e){var t=this,n=e.getViewport({scale:1}),i=this.getCanvas(),a=Math.min(i.height/n.height,i.width/n.width);return e.render({canvasContext:i.getContext("2d"),viewport:e.getViewport({scale:a})}).promise.then((function(){var e=i.toDataURL();return t.sanitizer.bypassSecurityTrustUrl(e)}))},e.prototype.getCanvas=function(){var e=document.createElement("canvas");return e.width=this.page.getWidth(),e.height=this.page.getHeight(),e},e}();gi.decorators=[{type:t.Component,args:[{selector:"adf-pdf-thumb",template:'<ng-container *ngIf="image$ | async as image">\n    <img [src]="image" [alt]="\'ADF_VIEWER.SIDEBAR.THUMBNAILS.PAGE\' | translate: { pageNum: page.id }"\n        title="{{ \'ADF_VIEWER.SIDEBAR.THUMBNAILS.PAGE\' | translate: { pageNum: page.id } }}"\n        [attr.aria-label]="\'ADF_VIEWER.SIDEBAR.THUMBNAILS.PAGE\' | translate: { pageNum: page.id }">\n</ng-container>\n',encapsulation:t.ViewEncapsulation.None,host:{tabindex:"0"}}]}],gi.ctorParameters=function(){return[{type:H.DomSanitizer},{type:t.ElementRef}]},gi.propDecorators={page:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var yi=function(){function e(e,n){this.element=e,this.document=n,this.close=new t.EventEmitter,this.virtualHeight=0,this.translateY=0,this.renderItems=[],this.width=91,this.currentHeight=0,this.items=[],this.margin=15,this.itemHeight=114+this.margin,this.previouslyFocusedElement=null,this.calculateItems=this.calculateItems.bind(this),this.onPageChange=this.onPageChange.bind(this)}return e.prototype.onKeydown=function(e){var t=e.keyCode;t===z.UP_ARROW&&this.canSelectPreviousItem()&&(this.pdfViewer.currentPageNumber-=1),t===z.DOWN_ARROW&&this.canSelectNextItem()&&(this.pdfViewer.currentPageNumber+=1),t===z.ESCAPE&&this.close.emit(),this.keyManager.setFocusOrigin("keyboard"),e.preventDefault()},e.prototype.onResize=function(){this.calculateItems()},e.prototype.ngOnInit=function(){this.pdfViewer.eventBus.on("pagechanging",this.onPageChange),this.element.nativeElement.addEventListener("scroll",this.calculateItems,!0),this.setHeight(this.pdfViewer.currentPageNumber),this.items=this.getPages(),this.calculateItems(),this.previouslyFocusedElement=this.document.activeElement},e.prototype.ngAfterViewInit=function(){var e=this;this.keyManager=new $.FocusKeyManager(this.thumbsList),this.thumbsList.changes.pipe(s.delay(0)).subscribe((function(){return e.keyManager.setActiveItem(e.getPageIndex(e.pdfViewer.currentPageNumber))})),setTimeout((function(){e.scrollInto(e.pdfViewer.currentPageNumber),e.keyManager.setActiveItem(e.getPageIndex(e.pdfViewer.currentPageNumber))}),0)},e.prototype.ngOnDestroy=function(){this.element.nativeElement.removeEventListener("scroll",this.calculateItems,!0),this.pdfViewer.eventBus.on("pagechanging",this.onPageChange),this.previouslyFocusedElement&&(this.previouslyFocusedElement.focus(),this.previouslyFocusedElement=null)},e.prototype.trackByFn=function(e,t){return t.id},e.prototype.isSelected=function(e){return this.pdfViewer.currentPageNumber===e},e.prototype.goTo=function(e){this.pdfViewer.currentPageNumber=e},e.prototype.scrollInto=function(e){if(this.items.length){var t=this.items.findIndex((function(t){return t.id===e}));if(t<0||t>=this.items.length)return;this.element.nativeElement.scrollTop=t*this.itemHeight,this.calculateItems()}},e.prototype.getPages=function(){var e=this;return this.pdfViewer._pages.map((function(t){return{id:t.id,getWidth:function(){return e.width},getHeight:function(){return e.currentHeight},getPage:function(){return e.pdfViewer.pdfDocument.getPage(t.id)}}}))},e.prototype.setHeight=function(e){var t=this;return this.pdfViewer.pdfDocument.getPage(e).then((function(e){return t.calculateHeight(e)}))},e.prototype.calculateHeight=function(e){var t=e.getViewport({scale:1}),n=t.width/t.height,i=Math.floor(this.width/n);this.currentHeight=i,this.itemHeight=i+this.margin},e.prototype.calculateItems=function(){var e=this.getContainerSetup(),t=e.element,n=e.viewPort,i=e.itemsInView,a=t.scrollTop/n*this.items.length/i,o=Math.floor(a),r=Math.ceil(a)+i;this.translateY=this.itemHeight*Math.ceil(o),this.virtualHeight=this.itemHeight*this.items.length-this.translateY,this.renderItems=this.items.slice(o,r)},e.prototype.getContainerSetup=function(){var e=this.element.nativeElement,t=e.getBoundingClientRect(),n=Math.ceil(t.height/this.itemHeight);return{element:e,viewPort:this.itemHeight*this.items.length/n,itemsInView:n}},e.prototype.onPageChange=function(e){var t=this.renderItems.findIndex((function(t){return t.id===e.pageNumber}));t<0&&this.scrollInto(e.pageNumber),t>=this.renderItems.length-1&&(this.element.nativeElement.scrollTop+=this.itemHeight),this.keyManager.setActiveItem(this.getPageIndex(e.pageNumber))},e.prototype.getPageIndex=function(e){return this.thumbsList.toArray().findIndex((function(t){return t.page.id===e}))},e.prototype.canSelectNextItem=function(){return this.pdfViewer.currentPageNumber!==this.pdfViewer.pagesCount},e.prototype.canSelectPreviousItem=function(){return 1!==this.pdfViewer.currentPageNumber},e}();yi.decorators=[{type:t.Component,args:[{selector:"adf-pdf-thumbnails",template:'<div class="adf-pdf-thumbnails__content"\n    data-automation-id=\'adf-thumbnails-content\'\n    [style.height.px]="virtualHeight"\n    [style.transform]="\'translate(-50%, \' + translateY + \'px)\'">\n    <adf-pdf-thumb *ngFor="let page of renderItems; trackBy: trackByFn"\n        class="adf-pdf-thumbnails__thumb"\n        [id]="page.id"\n        [ngClass]="{\'adf-pdf-thumbnails__thumb--selected\' : isSelected(page.id)}"\n        [page]="page"\n        (click)="goTo(page.id)">\n    </adf-pdf-thumb>\n</div>\n',host:{class:"adf-pdf-thumbnails"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-pdf-thumbnails{display:block;height:100%;overflow:hidden;overflow-y:auto;position:relative}.adf-pdf-thumbnails__content{height:0;left:50%;position:absolute;top:5px}.adf-pdf-thumbnails__thumb{background:var(--theme-background-color);cursor:pointer;display:block;margin-bottom:15px;width:91px}.adf-pdf-thumbnails__thumb:hover{box-shadow:0 0 5px 0 var(--theme-text-bold-color)}.adf-pdf-thumbnails__thumb--selected{border:2px solid var(--theme-accent-color-a200)}"]}]}],yi.ctorParameters=function(){return[{type:t.ElementRef},{type:void 0,decorators:[{type:t.Inject,args:[p.DOCUMENT]}]}]},yi.propDecorators={pdfViewer:[{type:t.Input}],close:[{type:t.Output}],template:[{type:t.ContentChild,args:[t.TemplateRef]}],thumbsList:[{type:t.ViewChildren,args:[gi]}],onKeydown:[{type:t.HostListener,args:["keydown",["$event"]]}],onResize:[{type:t.HostListener,args:["window:resize"]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var vi=function(){function e(e,t){this.http=e,this.appConfigService=t}return e.prototype.ngOnChanges=function(e){var t=e.blobFile;if(t&&t.currentValue)return this.readBlob(t.currentValue);var n=e.urlFile;if(n&&n.currentValue)return this.getUrlContent(n.currentValue);if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required");return Promise.resolve()},e.prototype.getUrlContent=function(e){var t=this,n=this.appConfigService.get("auth.withCredentials",!1);return new Promise((function(i,a){t.http.get(e,{responseType:"text",withCredentials:n}).subscribe((function(e){t.content=e,i()}),(function(e){a(e)}))}))},e.prototype.readBlob=function(e){var t=this;return new Promise((function(n,i){var a=new FileReader;a.onload=function(){t.content=a.result,n()},a.onerror=function(e){i(e)},a.readAsText(e)}))},e}();vi.decorators=[{type:t.Component,args:[{selector:"adf-txt-viewer",template:'<pre class="adf-txt-viewer-content">\n    {{content}}\n</pre>\n',host:{class:"adf-txt-viewer"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-txt-viewer{background-color:var(--theme-background-color);height:100%;overflow:auto;width:100%}"]}]}],vi.ctorParameters=function(){return[{type:l.HttpClient},{type:Ie}]},vi.propDecorators={urlFile:[{type:t.Input}],blobFile:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var bi=function(){};bi.decorators=[{type:t.Component,args:[{selector:"adf-viewer-unknown-format",template:'<div class="adf-viewer__unknown-format-view">\n    <div>\n        <mat-icon class="icon">error</mat-icon>\n        <div class="adf-viewer__unknown-label">{{ \'ADF_VIEWER.UNKNOWN_FORMAT\' | translate }}</div>\n    </div>\n</div>\n',encapsulation:t.ViewEncapsulation.None,styles:[".adf-viewer__unknown-format-view{color:var(--theme-text-fg-color);display:flex;flex:1;flex-direction:column;height:90vh;justify-content:center;text-align:center}"]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var wi=function(){};wi.decorators=[{type:t.Component,args:[{selector:"adf-viewer-toolbar-actions",encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush,host:{class:"adf-viewer-toolbar-actions"},template:"<ng-content></ng-content>"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ii=function(){function e(e){this.viewerComponent=e,this.onDestroy$=new o.Subject}return e.prototype.ngAfterContentInit=function(){var e=this;this.templateModel={template:this.template,isVisible:!1},this.viewerComponent.extensionTemplates.push(this.templateModel),this.viewerComponent.extensionChange.pipe(s.takeUntil(this.onDestroy$)).subscribe((function(t){e.templateModel.isVisible=e.isVisible(t)})),this.supportedExtensions instanceof Array&&this.supportedExtensions.forEach((function(t){e.viewerComponent.externalExtensions.push(t)}))},e.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},e.prototype.isVisible=function(e){var t;return this.supportedExtensions&&this.supportedExtensions instanceof Array&&(t=this.supportedExtensions.find((function(t){return t.toLowerCase()===e}))),!!t},e}();Ii.decorators=[{type:t.Directive,args:[{selector:"adf-viewer-extension"}]}],Ii.ctorParameters=function(){return[{type:pi}]},Ii.propDecorators={template:[{type:t.ContentChild,args:[t.TemplateRef]}],urlFileContent:[{type:t.Input}],extension:[{type:t.Input}],supportedExtensions:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ei=function(){};Ei.decorators=[{type:t.Component,args:[{selector:"adf-toolbar-divider",template:"<div></div>",host:{class:"adf-toolbar-divider"},encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush,styles:["\n        .adf-toolbar-divider > div {\n            height: 24px;\n            width: 1px;\n            background: rgba(0, 0, 0, 0.26);\n            margin-left: 5px;\n            margin-right: 5px;\n        }\n    "]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ci=function(){};Ci.decorators=[{type:t.Component,args:[{selector:"adf-toolbar-title",template:"<ng-content></ng-content>",host:{class:"adf-toolbar-title"}}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var xi=function(){this.title=""};xi.decorators=[{type:t.Component,args:[{selector:"adf-toolbar",template:'<mat-toolbar [color]="color">\n    <span class="adf-toolbar-title" *ngIf="title">{{ title | translate }}</span>\n    <ng-content select="adf-toolbar-title"></ng-content>\n    <ng-content></ng-content>\n</mat-toolbar>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,host:{class:"adf-toolbar"},styles:[".adf-toolbar--spacer{flex:1 1 auto}.adf-toolbar-title{display:flex;overflow:hidden;width:100%}.adf-toolbar .mat-toolbar{border:1px solid var(--theme-border-color);color:var(--theme-text-color);min-height:48px}.adf-toolbar .mat-toolbar-row{font-size:14px;height:48px;white-space:normal}.adf-toolbar .mat-toolbar-single-row{height:64px;padding:0 16px}.adf-toolbar.adf-toolbar--inline .mat-toolbar{background-color:inherit;border:none!important;padding:0}"]}]}],xi.propDecorators={title:[{type:t.Input}],color:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Si=function(){};Si.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,u.TranslateModule],declarations:[xi,Ci,Ei],exports:[xi,Ci,Ei]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ti=function(){};Ti.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,u.TranslateModule,G.FormsModule,G.ReactiveFormsModule,Si,yt,W.FlexLayoutModule,Ht,$.A11yModule,d.ExtensionsModule],declarations:[fi,pi,ui,vi,ci,hi,gi,yi,Ii,bi,Jn,Kn,Xn,Wn,wi],exports:[pi,ui,vi,ci,hi,fi,gi,yi,Ii,bi,Jn,Kn,Xn,Wn,wi]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ai=function(){function e(e,t){this.apiService=e,this.logService=t}return Object.defineProperty(e.prototype,"profileApi",{get:function(){var e;return this._profileApi=null!==(e=this._profileApi)&&void 0!==e?e:new r.UserProfileApi(this.apiService.getInstance()),this._profileApi},enumerable:!1,configurable:!0}),e.prototype.getCurrentUserInfo=function(){var e=this;return o.from(this.profileApi.getProfile()).pipe(s.map((function(e){return new li(e)})),s.catchError((function(t){return e.handleError(t)})))},e.prototype.getCurrentUserProfileImage=function(){return this.profileApi.getProfilePictureUrl()},e.prototype.handleError=function(e){return this.logService.error(e),o.throwError(e||"Server error")},e}();Ai.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Ai(t.ɵɵinject(Ce),t.ɵɵinject(Ae))},token:Ai,providedIn:"root"}),Ai.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Ai.ctorParameters=function(){return[{type:Ce},{type:Ae}]};var Oi=function(){function e(e,t){this.apiService=e,this.contentService=t}return Object.defineProperty(e.prototype,"peopleApi",{get:function(){var e;return this._peopleApi=null!==(e=this._peopleApi)&&void 0!==e?e:new r.PeopleApi(this.apiService.getInstance()),this._peopleApi},enumerable:!1,configurable:!0}),e.prototype.getUserInfo=function(e){return o.from(this.peopleApi.getPerson(e)).pipe(s.map((function(e){return new si(e.entry)})))},e.prototype.getCurrentUserInfo=function(){return this.getUserInfo("-me-")},e.prototype.getUserProfileImage=function(e){return this.contentService.getContentUrl(e)},e}();Oi.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Oi(t.ɵɵinject(Ce),t.ɵɵinject(St))},token:Oi,providedIn:"root"}),Oi.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Oi.ctorParameters=function(){return[{type:Ce},{type:St}]};var Ri=["application/json"],Di=function(){function e(e){this.alfrescoApiService=e}return Object.defineProperty(e.prototype,"apiClient",{get:function(){return this.alfrescoApiService.getInstance().oauth2Auth},enumerable:!1,configurable:!0}),e.prototype.request=function(e){return o.from(this.apiClient.callCustomApi(e.url,e.httpMethod,e.pathParams,e.queryParams,{},{},e.bodyParam,Ri,Ri,Object))},e.prototype.get=function(e){return this.request(Object.assign(Object.assign({},e),{httpMethod:"GET"}))},e.prototype.put=function(e){return this.request(Object.assign(Object.assign({},e),{httpMethod:"PUT"}))},e.prototype.post=function(e){return this.request(Object.assign(Object.assign({},e),{httpMethod:"POST"}))},e.prototype.delete=function(e){return this.request(Object.assign(Object.assign({},e),{httpMethod:"DELETE"}))},e}();Di.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Di(t.ɵɵinject(Ce))},token:Di,providedIn:"root"}),Di.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Di.ctorParameters=function(){return[{type:Ce}]};var Pi=function(){function e(e,t,n){this.jwtHelperService=e,this.oAuth2Service=t,this.appConfigService=n}return Object.defineProperty(e.prototype,"identityHost",{get:function(){return""+this.appConfigService.get("identityHost")},enumerable:!1,configurable:!0}),e.prototype.buildUserUrl=function(){return this.identityHost+"/users"},e.prototype.getCurrentUserInfo=function(){var e=this.jwtHelperService.getValueFromLocalAccessToken(Oe.FAMILY_NAME);return{firstName:this.jwtHelperService.getValueFromLocalAccessToken(Oe.GIVEN_NAME),lastName:e,email:this.jwtHelperService.getValueFromLocalAccessToken(Oe.USER_EMAIL),username:this.jwtHelperService.getValueFromLocalAccessToken(Oe.USER_PREFERRED_USERNAME)}},e.prototype.findUsersByName=function(e){if(""===e)return o.of([]);var t=this.buildUserUrl(),n={search:e};return this.oAuth2Service.get({url:t,queryParams:n})},e.prototype.findUserByUsername=function(e){if(""===e)return o.of([]);var t=this.buildUserUrl(),n={username:e};return this.oAuth2Service.get({url:t,queryParams:n})},e.prototype.findUserByEmail=function(e){if(""===e)return o.of([]);var t=this.buildUserUrl(),n={email:e};return this.oAuth2Service.get({url:t,queryParams:n})},e.prototype.findUserById=function(e){if(""===e)return o.of([]);var t=this.buildUserUrl()+"/"+e;return this.oAuth2Service.get({url:t})},e.prototype.getClientRoles=function(e,t){var n=this.identityHost+"/users/"+e+"/role-mappings/clients/"+t+"/composite";return this.oAuth2Service.get({url:n})},e.prototype.checkUserHasClientApp=function(e,t){return this.getClientRoles(e,t).pipe(s.map((function(e){return e.length>0})))},e.prototype.checkUserHasAnyClientAppRole=function(e,t,n){return this.getClientRoles(e,t).pipe(s.map((function(e){var t=!1;return e.length>0&&n.forEach((function(n){e.find((function(e){return e.name===n}))&&(t=!0)})),t})))},e.prototype.getClientIdByApplicationName=function(e){var t=this.identityHost+"/clients",n={clientId:e};return this.oAuth2Service.get({url:t,queryParams:n}).pipe(s.map((function(e){return e&&e.length>0?e[0].id:""})))},e.prototype.checkUserHasApplicationAccess=function(e,t){var n=this;return this.getClientIdByApplicationName(t).pipe(s.switchMap((function(t){return n.checkUserHasClientApp(e,t)})))},e.prototype.checkUserHasAnyApplicationRole=function(e,t,n){var i=this;return this.getClientIdByApplicationName(t).pipe(s.switchMap((function(t){return i.checkUserHasAnyClientAppRole(e,t,n)})))},e.prototype.getUsers=function(){var e=this.buildUserUrl();return this.oAuth2Service.get({url:e})},e.prototype.getUserRoles=function(e){var t=this.identityHost+"/users/"+e+"/role-mappings/realm/composite";return this.oAuth2Service.get({url:t})},e.prototype.getUsersByRolesWithCurrentUser=function(e){return oe(this,void 0,void 0,(function(){var t,n,i;return re(this,(function(a){switch(a.label){case 0:return t=[],e&&e.length>0?[4,this.getUsers().toPromise()]:[3,5];case 1:n=a.sent(),i=0,a.label=2;case 2:return i<n.length?[4,this.userHasAnyRole(n[i].id,e)]:[3,5];case 3:a.sent()&&t.push(n[i]),a.label=4;case 4:return i++,[3,2];case 5:return[2,t]}}))}))},e.prototype.getUsersByRolesWithoutCurrentUser=function(e){return oe(this,void 0,void 0,(function(){var t,n,i,a;return re(this,(function(o){switch(o.label){case 0:return t=[],e&&e.length>0?(n=this.getCurrentUserInfo(),[4,this.getUsers().toPromise()]):[3,5];case 1:i=(i=o.sent()).filter((function(e){return e.username!==n.username})),a=0,o.label=2;case 2:return a<i.length?[4,this.userHasAnyRole(i[a].id,e)]:[3,5];case 3:o.sent()&&t.push(i[a]),o.label=4;case 4:return a++,[3,2];case 5:return[2,t]}}))}))},e.prototype.userHasAnyRole=function(e,t){return oe(this,void 0,void 0,(function(){var n;return re(this,(function(i){switch(i.label){case 0:return[4,this.getUserRoles(e).toPromise()];case 1:return n=i.sent(),[2,t.some((function(e){return n.filter((function(t){return t.name.toLocaleLowerCase()===e.toLocaleLowerCase()})).length>0}))]}}))}))},e.prototype.checkUserHasRole=function(e,t){return this.getUserRoles(e).pipe(s.map((function(e){var n=!1;return e&&e.length>0&&t.forEach((function(t){e.find((function(e){var n=e.name;return t===n}))&&(n=!0)})),n})))},e.prototype.queryUsers=function(e){var t=this,n=this.buildUserUrl(),i={first:e.first,max:e.max};return this.getTotalUsersCount().pipe(s.switchMap((function(a){return t.oAuth2Service.get({url:n,queryParams:i}).pipe(s.map((function(t){return{entries:t,pagination:{skipCount:e.first,maxItems:e.max,count:a,hasMoreItems:!1,totalItems:a}}})))})))},e.prototype.getTotalUsersCount=function(){var e=this.buildUserUrl()+"/count";return this.oAuth2Service.get({url:e})},e.prototype.createUser=function(e){var t=this.buildUserUrl(),n=JSON.stringify(e);return this.oAuth2Service.post({url:t,bodyParam:n})},e.prototype.updateUser=function(e,t){var n=this.buildUserUrl()+"/"+e,i=JSON.stringify(t);return this.oAuth2Service.put({url:n,bodyParam:i})},e.prototype.deleteUser=function(e){var t=this.buildUserUrl()+"/"+e;return this.oAuth2Service.delete({url:t})},e.prototype.changePassword=function(e,t){var n=this.buildUserUrl()+"/"+e+"/reset-password",i=JSON.stringify(t);return this.oAuth2Service.put({url:n,bodyParam:i})},e.prototype.getInvolvedGroups=function(e){var t=this.buildUserUrl()+"/"+e+"/groups/",n={id:e};return this.oAuth2Service.get({url:t,pathParams:n})},e.prototype.joinGroup=function(e){var t=this.buildUserUrl()+"/"+e.userId+"/groups/"+e.groupId,n=JSON.stringify(e);return this.oAuth2Service.put({url:t,bodyParam:n})},e.prototype.leaveGroup=function(e,t){var n=this.buildUserUrl()+"/"+e+"/groups/"+t;return this.oAuth2Service.delete({url:n})},e.prototype.getAvailableRoles=function(e){var t=this.buildUserUrl()+"/"+e+"/role-mappings/realm/available";return this.oAuth2Service.get({url:t})},e.prototype.getAssignedRoles=function(e){var t=this.buildUserUrl()+"/"+e+"/role-mappings/realm",n={id:e};return this.oAuth2Service.get({url:t,pathParams:n})},e.prototype.getEffectiveRoles=function(e){var t=this.buildUserUrl()+"/"+e+"/role-mappings/realm/composite",n={id:e};return this.oAuth2Service.get({url:t,pathParams:n})},e.prototype.assignRoles=function(e,t){var n=this.buildUserUrl()+"/"+e+"/role-mappings/realm",i=JSON.stringify(t);return this.oAuth2Service.post({url:n,bodyParam:i})},e.prototype.removeRoles=function(e,t){var n=this.buildUserUrl()+"/"+e+"/role-mappings/realm",i=JSON.stringify(t);return this.oAuth2Service.delete({url:n,bodyParam:i})},e}();Pi.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Pi(t.ɵɵinject(Oe),t.ɵɵinject(Di),t.ɵɵinject(Ie))},token:Pi,providedIn:"root"}),Pi.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Pi.ctorParameters=function(){return[{type:Oe},{type:Di},{type:Ie}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var _i=function(){function e(e,t,n,i){this.ecmUserService=e,this.bpmUserService=t,this.identityUserService=n,this.authService=i,this.ecmBackgroundImage="./assets/images/ecm-background.png",this.bpmBackgroundImage="./assets/images/bpm-background.png",this.menuPositionX="after",this.menuPositionY="below",this.showName=!0,this.namePosition="right",this.destroy$=new o.Subject}return e.prototype.ngOnInit=function(){this.getUserInfo()},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.prototype.getUserInfo=function(){this.authService.isOauth()?(this.loadIdentityUserInfo(),this.mode="SSO",this.authService.isEcmLoggedIn()&&this.loadEcmUserInfo()):this.isAllLoggedIn()?(this.loadEcmUserInfo(),this.loadBpmUserInfo(),this.mode="ALL"):this.isEcmLoggedIn()?(this.loadEcmUserInfo(),this.mode="CONTENT"):this.isBpmLoggedIn()&&(this.loadBpmUserInfo(),this.mode="PROCESS")},e.prototype.onKeyPress=function(e){this.closeUserModal(e)},e.prototype.closeUserModal=function(e){27===e.keyCode&&this.trigger.closeMenu()},Object.defineProperty(e.prototype,"isLoggedIn",{get:function(){return!!this.authService.isKerberosEnabled()||this.authService.isLoggedIn()},enumerable:!1,configurable:!0}),e.prototype.loadEcmUserInfo=function(){this.ecmUser$=this.ecmUserService.getCurrentUserInfo()},e.prototype.loadBpmUserInfo=function(){this.bpmUser$=this.bpmUserService.getCurrentUserInfo()},e.prototype.loadIdentityUserInfo=function(){this.identityUser$=o.of(this.identityUserService.getCurrentUserInfo())},e.prototype.isAllLoggedIn=function(){return this.authService.isEcmLoggedIn()&&this.authService.isBpmLoggedIn()||this.authService.isALLProvider()&&this.authService.isKerberosEnabled()},e.prototype.isBpmLoggedIn=function(){return this.authService.isBpmLoggedIn()||this.authService.isECMProvider()&&this.authService.isKerberosEnabled()},e.prototype.isEcmLoggedIn=function(){return this.authService.isEcmLoggedIn()||this.authService.isECMProvider()&&this.authService.isKerberosEnabled()},e.prototype.stopClosing=function(e){e.stopPropagation()},e.prototype.getEcmAvatar=function(e){return this.ecmUserService.getUserProfileImage(e)},e.prototype.getBpmUserImage=function(){return this.bpmUserService.getCurrentUserProfileImage()},Object.defineProperty(e.prototype,"showOnRight",{get:function(){return"right"===this.namePosition},enumerable:!1,configurable:!0}),e}();_i.decorators=[{type:t.Component,args:[{selector:"adf-userinfo",template:'<div id="userinfo_container" [class.adf-userinfo-name-right]="showOnRight" (keyup)="onKeyPress($event)"\n     class="adf-userinfo-container" *ngIf="isLoggedIn">\n\n    <ng-container *ngIf="showName">\n        <span *ngIf="identityUser$ | async as identityUser; else showBpmAndEcmUserFullNames"\n              id="adf-userinfo-identity-name-display"\n              class="adf-userinfo-name">{{identityUser | fullName}}</span>\n        <ng-template #showBpmAndEcmUserFullNames>\n            <span *ngIf="ecmUser$ | async as ecmUser; else showBpmUserFullName" id="adf-userinfo-ecm-name-display"\n                  class="adf-userinfo-name">{{ecmUser | fullName}}</span>\n            <ng-template #showBpmUserFullName>\n                <span *ngIf="bpmUser$ | async as bpmUser" id="adf-userinfo-bpm-name-display"\n                      class="adf-userinfo-name">{{bpmUser | fullName}}</span>\n            </ng-template>\n        </ng-template>\n    </ng-container>\n\n    <button mat-button [matMenuTriggerFor]="menu" class="adf-userinfo-menu_button"\n            data-automation-id="adf-user-profile">\n        <div class="adf-userinfo-button-profile" id="user-profile">\n            <div *ngIf="identityUser$ | async as identityUser; else showBpmAndEcmUserImage" id="identity-user-image">\n                <div *ngIf="(ecmUser$ | async)?.avatarId as avatarId; else initialTemplate">\n                    <div class="adf-userinfo-profile-container">\n                        <img id="logged-user-img" [src]="getEcmAvatar(avatarId)" alt="user-info-profile-button"\n                             class="adf-userinfo-profile-image"/>\n                    </div>\n                </div>\n                <ng-template #initialTemplate>\n                    <div [innerHTML]="identityUser | usernameInitials:\'adf-userinfo-pic\'"></div>\n                </ng-template>\n            </div>\n            <ng-template #showBpmAndEcmUserImage>\n                <div *ngIf="ecmUser$ | async as ecmUser; else showBpmUserImage" id="ecm-user-image">\n                    <div *ngIf="ecmUser.avatarId; else initialTemplate" class="adf-userinfo-profile-container">\n                        <img id="logged-user-img" [src]="getEcmAvatar(ecmUser.avatarId)" alt="user-info-profile-button"\n                             class="adf-userinfo-profile-image"/>\n                    </div>\n                    <ng-template #initialTemplate>\n                        <div [outerHTML]="ecmUser | usernameInitials:\'adf-userinfo-pic\'"></div>\n                    </ng-template>\n                </div>\n                <ng-template #showBpmUserImage>\n                    <div *ngIf="bpmUser$ | async as bpmUser" id="bpm-user-image">\n                        <div *ngIf="bpmUser.pictureId; else initialTemplate" class="adf-userinfo-profile-container">\n                            <img id="logged-user-img" [src]="getBpmUserImage()" alt="user-info-profile-button"\n                                 class="adf-userinfo-profile-image"/>\n                        </div>\n                        <ng-template #initialTemplate>\n                            <div [outerHTML]="bpmUser | usernameInitials:\'adf-userinfo-pic\'"></div>\n                        </ng-template>\n                    </div>\n                </ng-template>\n            </ng-template>\n        </div>\n    </button>\n    <mat-menu #menu="matMenu" id="user-profile-lists" [xPosition]="menuPositionX" [yPosition]="menuPositionY"\n              [overlapTrigger]="false" class="adf-userinfo-menu">\n        <mat-tab-group id="tab-group-env" (click)="stopClosing($event)" selectedIndex="0"\n                       class="adf-userinfo-tab" [class.adf-hide-tab]="!(bpmUser$ | async) || !(ecmUser$ | async)">\n            <mat-tab id="ecm-panel" label="{{ \'USER_PROFILE.TAB.CS\' | translate }}"\n                     *ngIf="mode===\'CONTENT\' || mode===\'ALL\'">\n                <mat-card class="adf-userinfo-card" *ngIf="ecmUser$ | async as ecmUser">\n                    <mat-card-header class="adf-userinfo-card-header"\n                                     [style.background-image]="\'url(\' + ecmBackgroundImage + \')\'">\n                        <div *ngIf="ecmUser.avatarId; else initialTemplate"\n                             class="adf-userinfo-profile-container adf-hide-small">\n                            <img class="adf-userinfo-profile-picture" id="ecm-user-detail-image"\n                                 alt="ecm-profile-image" [src]="getEcmAvatar(ecmUser.avatarId)"/>\n                        </div>\n                        <ng-template #initialTemplate>\n                            <div\n                                [outerHTML]="ecmUser | usernameInitials:\'adf-userinfo-profile-initials adf-hide-small\'"></div>\n                        </ng-template>\n\n                        <div class="adf-userinfo-title" id="ecm-username">{{ecmUser | fullName}}</div>\n                    </mat-card-header>\n                    <mat-card-content>\n                        <div class="adf-userinfo-supporting-text">\n                            <div class="adf-userinfo-detail">\n                                <span id="ecm-full-name"\n                                      class="adf-userinfo__detail-title">{{ecmUser | fullName}}</span>\n                                <span class="adf-userinfo__detail-profile" id="ecm-email"> {{ecmUser.email}} </span>\n                            </div>\n                            <div class="adf-userinfo-detail">\n                                    <span class="adf-userinfo__secondary-info" id="ecm-job-title-label">\n                                        {{ \'USER_PROFILE.LABELS.ECM.JOB_TITLE\' | translate }}\n                                        <span id="ecm-job-title"\n                                              class="adf-userinfo__detail-profile"> {{ ecmUser.jobTitle ? ecmUser.jobTitle : \'N/A\' }} </span>\n                                    </span>\n                            </div>\n                        </div>\n                    </mat-card-content>\n                </mat-card>\n            </mat-tab>\n            <mat-tab id="bpm-panel" label="{{ \'USER_PROFILE.TAB.PS\' | translate }}"\n                     *ngIf="mode===\'PROCESS\' || mode===\'ALL\'">\n                <mat-card class="adf-userinfo-card" *ngIf="bpmUser$ | async as bpmUser">\n                    <mat-card-header class="adf-userinfo-card-header"\n                                     [style.background-image]="\'url(\' + bpmBackgroundImage + \')\'">\n                        <img *ngIf="bpmUser.pictureId; else initialTemplate"\n                             class="adf-userinfo-profile-picture adf-hide-small" id="bpm-user-detail-image"\n                             alt="bpm-profile-image" [src]="getBpmUserImage()"/>\n                        <ng-template #initialTemplate>\n                            <div\n                                [outerHTML]="bpmUser | usernameInitials:\'adf-userinfo-profile-initials adf-hide-small\'"></div>\n                        </ng-template>\n                        <div class="adf-userinfo-title" id="bpm-username">{{bpmUser | fullName}}</div>\n                    </mat-card-header>\n                    <mat-card-content>\n                        <div class="adf-userinfo-supporting-text">\n                            <div class="adf-userinfo-detail">\n                                <span id="bpm-full-name"\n                                      class="adf-userinfo__detail-title">{{ bpmUser | fullName }}</span>\n                                <span class="adf-userinfo__detail-profile" id="bpm-email"> {{bpmUser.email}} </span>\n                            </div>\n                            <div class="adf-userinfo-detail">\n                                <span id="bpm-tenant" class="adf-userinfo__secondary-info">\n                                    {{ \'USER_PROFILE.LABELS.BPM.TENANT\' | translate }}\n                                    <span\n                                        class="adf-userinfo__detail-profile">{{ bpmUser.tenantName ? bpmUser.tenantName : \'\' }}</span>\n                                </span>\n                            </div>\n                        </div>\n                    </mat-card-content>\n                </mat-card>\n            </mat-tab>\n            <mat-tab id="identity-panel" *ngIf="mode===\'SSO\'">\n                <mat-card class="adf-userinfo-card" *ngIf="identityUser$ | async as identityUser">\n                    <mat-card-header class="adf-userinfo-card-header"\n                                     [style.background-image]="\'url(\' + bpmBackgroundImage + \')\'">\n                        <div *ngIf="ecmUser$ | async as ecmUser">\n                            <div *ngIf="ecmUser.avatarId; else initialTemplate"\n                                 class="adf-userinfo-profile-container adf-hide-small">\n                                <img class="adf-userinfo-profile-picture" id="ecm-user-detail-image"\n                                     alt="ecm-profile-image" [src]="getEcmAvatar(ecmUser.avatarId)"/>\n                            </div>\n                        </div>\n                        <ng-template #initialTemplate>\n                            <div\n                                [outerHTML]="identityUser | usernameInitials:\'adf-userinfo-profile-initials adf-hide-small\'"></div>\n                        </ng-template>\n                        <div class="adf-userinfo-title" id="identity-username">{{identityUser | fullName}}</div>\n                    </mat-card-header>\n                    <mat-card-content>\n                        <div class="adf-userinfo-supporting-text">\n                            <div class="adf-userinfo-detail">\n                                <span id="identity-full-name"\n                                      class="adf-userinfo__detail-title">{{identityUser | fullName}}</span>\n                                <span class="adf-userinfo__detail-profile"\n                                      id="identity-email"> {{identityUser.email}} </span>\n                            </div>\n                        </div>\n                    </mat-card-content>\n                </mat-card>\n            </mat-tab>\n        </mat-tab-group>\n    </mat-menu>\n</div>\n',encapsulation:t.ViewEncapsulation.None,styles:[".adf-userinfo-container{align-items:center;display:flex;padding:0 5px}.adf-userinfo-name-right{flex-direction:row-reverse}.adf-userinfo-name{padding:0 5px}@media screen and (max-width:959px){.adf-userinfo-name{display:none}}.adf-userinfo-pic{border-radius:100px;display:inline-block;font-size:18px;font-weight:bolder;line-height:40px;text-transform:uppercase}.adf-userinfo-pic,.adf-userinfo-profile-image{background:var(--adf-user-info-color);height:40px;text-align:center;vertical-align:middle;width:40px}.adf-userinfo-profile-image{border-radius:90%;cursor:pointer;margin-left:0;margin-right:0}.adf-userinfo-profile-container{display:inline-block}.adf-userinfo-menu_button.mat-button{border-radius:90%;height:40px;margin-right:0;min-width:40px;padding:0}.adf-userinfo-tab .mat-tab-header{align-self:center;min-width:250px;width:100%}.adf-userinfo-tab .mat-tab-label{flex:auto;font-size:14px;font-weight:500;line-height:48px;text-align:center;text-transform:uppercase}.adf-userinfo-card-header{align-items:center;box-sizing:border-box;display:flex;height:100px;justify-content:stretch;line-height:normal}.adf-userinfo-card.mat-card{padding:0}.adf-userinfo-supporting-text{column-count:2;display:flex;font-size:14px;font-weight:400;justify-content:space-between;letter-spacing:0;line-height:18px;overflow:hidden;padding:32px}@media screen and (max-width:599px){.adf-userinfo-supporting-text{padding:10px}}.adf-userinfo-title{font-size:21px}.adf-userinfo__detail-profile{align-items:flex-start;display:block;font-size:14px;font-weight:400;letter-spacing:0;line-height:18px;margin:0;padding:0}.adf-userinfo__detail-title{align-items:flex-start;font-size:16px;font-weight:400;letter-spacing:.04em;line-height:20px;text-overflow:ellipsis}.adf-userinfo__secondary-info{align-items:flex-end;font-size:14px;font-weight:400;letter-spacing:0;line-height:18px}.adf-userinfo-profile-initials,.adf-userinfo-profile-picture{background:var(--adf-user-info-color);background-size:cover;border-radius:50%;height:80px;margin-left:0;margin-right:8px;width:80px}.adf-userinfo-profile-initials{display:flex;font-size:35px;font-weight:400;justify-content:space-around;letter-spacing:0;line-height:78px;overflow:hidden;text-transform:uppercase}.adf-userinfo-button-profile{border:0;display:inline-block;vertical-align:middle}.adf-userinfo-detail{text-align:left}.adf-hide-tab .mat-tab-label-active{display:none!important}@media only screen and (min-device-width:480px){.mat-menu-panel.adf-userinfo-menu{max-height:450px;min-width:450px;overflow:auto;padding:0}}.mat-menu-panel.adf-userinfo-menu .mat-menu-content{padding:0}"]}]}],_i.ctorParameters=function(){return[{type:Oi},{type:Ai},{type:Pi},{type:De}]},_i.propDecorators={trigger:[{type:t.ViewChild,args:[S.MatMenuTrigger]}],ecmBackgroundImage:[{type:t.Input}],bpmBackgroundImage:[{type:t.Input}],menuPositionX:[{type:t.Input}],menuPositionY:[{type:t.Input}],showName:[{type:t.Input}],namePosition:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Li=function(){};Li.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,u.TranslateModule,yt],declarations:[_i],exports:[_i]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Fi=function(){function n(e,n,i,a){this.formBuilder=e,this.storageService=n,this.alfrescoApiService=i,this.appConfig=a,this.HOST_REGEX="^(http|https)://.*[^/]$",this.providers=["BPM","ECM","ALL"],this.showSelectProviders=!0,this.error=new t.EventEmitter,this.cancel=new t.EventEmitter,this.success=new t.EventEmitter}return n.prototype.ngOnInit=function(){var t=this;1===this.providers.length&&(this.showSelectProviders=!1);var n=this.appConfig.get(e.AppConfigValues.PROVIDERS),i=this.appConfig.get(e.AppConfigValues.AUTHTYPE,"BASIC");this.form=this.formBuilder.group({providersControl:[n,G.Validators.required],authType:i}),this.addFormGroups(),"OAUTH"===i&&(this.addOAuthFormGroup(),this.addIdentityHostFormControl()),this.form.get("authType").valueChanges.subscribe((function(e){"BASIC"===e?(t.form.removeControl("oauthConfig"),t.form.removeControl("identityHost")):(t.addOAuthFormGroup(),t.addIdentityHostFormControl())})),this.providersControl.valueChanges.subscribe((function(){t.removeFormGroups(),t.addFormGroups()}))},n.prototype.removeFormGroups=function(){this.form.removeControl("bpmHost"),this.form.removeControl("ecmHost")},n.prototype.addFormGroups=function(){this.addBPMFormControl(),this.addECMFormControl()},n.prototype.addOAuthFormGroup=function(){var e=this.createOAuthFormGroup();this.form.addControl("oauthConfig",e)},n.prototype.addBPMFormControl=function(){if((this.isBPM()||this.isALL()||this.isOAUTH())&&!this.bpmHost){var e=this.createBPMFormControl();this.form.addControl("bpmHost",e)}},n.prototype.addIdentityHostFormControl=function(){var e=this.createIdentityFormControl();this.form.addControl("identityHost",e)},n.prototype.addECMFormControl=function(){if((this.isECM()||this.isALL())&&!this.ecmHost){var e=this.createECMFormControl();this.form.addControl("ecmHost",e)}},n.prototype.createOAuthFormGroup=function(){var t=this.appConfig.get(e.AppConfigValues.OAUTHCONFIG,{});return this.formBuilder.group({host:[t.host,[G.Validators.required,G.Validators.pattern(this.HOST_REGEX)]],clientId:[t.clientId,G.Validators.required],redirectUri:[t.redirectUri,G.Validators.required],redirectUriLogout:[t.redirectUriLogout],scope:[t.scope,G.Validators.required],secret:t.secret,silentLogin:t.silentLogin,implicitFlow:t.implicitFlow,publicUrls:[t.publicUrls]})},n.prototype.createBPMFormControl=function(){return new G.FormControl(this.appConfig.get(e.AppConfigValues.BPMHOST),[G.Validators.required,G.Validators.pattern(this.HOST_REGEX)])},n.prototype.createIdentityFormControl=function(){return new G.FormControl(this.appConfig.get(e.AppConfigValues.IDENTITY_HOST),[G.Validators.required,G.Validators.pattern(this.HOST_REGEX)])},n.prototype.createECMFormControl=function(){return new G.FormControl(this.appConfig.get(e.AppConfigValues.ECMHOST),[G.Validators.required,G.Validators.pattern(this.HOST_REGEX)])},n.prototype.onCancel=function(){this.cancel.emit(!0)},n.prototype.onSubmit=function(t){this.storageService.setItem(e.AppConfigValues.PROVIDERS,t.providersControl),this.isBPM()?this.saveBPMValues(t):this.isECM()?this.saveECMValues(t):this.isALL()&&(this.saveECMValues(t),this.saveBPMValues(t)),this.isOAUTH()&&this.saveOAuthValues(t),this.storageService.setItem(e.AppConfigValues.AUTHTYPE,t.authType),this.alfrescoApiService.reset(),this.alfrescoApiService.getInstance().invalidateSession(),this.success.emit(!0)},n.prototype.keyDownFunction=function(e){e.keyCode===z.ENTER&&this.form.valid&&this.onSubmit(this.form.value)},n.prototype.saveOAuthValues=function(t){t.oauthConfig.publicUrls&&"string"==typeof t.oauthConfig.publicUrls&&(t.oauthConfig.publicUrls=t.oauthConfig.publicUrls.split(",")),this.storageService.setItem(e.AppConfigValues.OAUTHCONFIG,JSON.stringify(t.oauthConfig)),this.storageService.setItem(e.AppConfigValues.IDENTITY_HOST,t.identityHost)},n.prototype.saveBPMValues=function(t){this.storageService.setItem(e.AppConfigValues.BPMHOST,t.bpmHost)},n.prototype.saveECMValues=function(t){this.storageService.setItem(e.AppConfigValues.ECMHOST,t.ecmHost)},n.prototype.isBPM=function(){return"BPM"===this.providersControl.value},n.prototype.isECM=function(){return"ECM"===this.providersControl.value},n.prototype.isALL=function(){return"ALL"===this.providersControl.value},n.prototype.isOAUTH=function(){return"OAUTH"===this.form.get("authType").value},Object.defineProperty(n.prototype,"providersControl",{get:function(){return this.form.get("providersControl")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bpmHost",{get:function(){return this.form.get("bpmHost")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ecmHost",{get:function(){return this.form.get("ecmHost")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"host",{get:function(){return this.oauthConfig.get("host")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"identityHost",{get:function(){return this.form.get("identityHost")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clientId",{get:function(){return this.oauthConfig.get("clientId")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"scope",{get:function(){return this.oauthConfig.get("scope")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"secretId",{get:function(){return this.oauthConfig.get("secretId")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"implicitFlow",{get:function(){return this.oauthConfig.get("implicitFlow")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"silentLogin",{get:function(){return this.oauthConfig.get("silentLogin")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"redirectUri",{get:function(){return this.oauthConfig.get("redirectUri")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"publicUrls",{get:function(){return this.oauthConfig.get("publicUrls")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"redirectUriLogout",{get:function(){return this.oauthConfig.get("redirectUriLogout")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"oauthConfig",{get:function(){return this.form.get("oauthConfig")},enumerable:!1,configurable:!0}),n}();Fi.decorators=[{type:t.Component,args:[{selector:"adf-host-settings",template:'<div class="adf-setting-container">\n    <mat-toolbar color="primary" class="adf-setting-toolbar">\n        <h3>{{\'CORE.HOST_SETTINGS.TITLE\' | translate}}</h3>\n    </mat-toolbar>\n    <mat-card class="adf-setting-card">\n        <form id="host-form" [formGroup]="form" (submit)="onSubmit(form.value)" (keydown)="keyDownFunction($event)">\n\n            <mat-form-field *ngIf="showSelectProviders">\n                <mat-select  id="adf-provider-selector" placeholder="Provider" [formControl]="providersControl">\n                    <mat-option *ngFor="let provider of providers" [value]="provider">\n                        {{ provider }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n\n            <div class="adf-authentication-type">\n                <div> {{\'CORE.HOST_SETTINGS.TYPE-AUTH\' | translate }} : </div>\n                <mat-radio-group formControlName="authType" >\n                <mat-radio-button value="BASIC">{{\'CORE.HOST_SETTINGS.BASIC\' | translate }}\n                </mat-radio-button>\n                <mat-radio-button value="OAUTH">{{\'CORE.HOST_SETTINGS.SSO\' | translate }}\n                </mat-radio-button>\n            </mat-radio-group>\n            </div>\n\n            <ng-container *ngIf="isALL() || isECM()">\n                <mat-card-content>\n                    <mat-form-field class="adf-full-width">\n                        <mat-label>{{\'CORE.HOST_SETTINGS.CS-HOST\' | translate }}</mat-label>\n                        <input matInput [formControl]="ecmHost" data-automation-id="ecmHost" type="text"\n                               id="ecmHost" placeholder="http(s)://host|ip:port(/path)">\n                        <mat-error *ngIf="ecmHost.hasError(\'pattern\')">\n                            {{ \'CORE.HOST_SETTINGS.NOT_VALID\'| translate }}\n                        </mat-error>\n                        <mat-error *ngIf="ecmHost.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n                    <p>\n                </mat-card-content>\n            </ng-container>\n\n            <ng-container *ngIf="isALL() || isBPM()">\n                <mat-card-content>\n                    <mat-form-field class="adf-full-width">\n                        <mat-label>{{\'CORE.HOST_SETTINGS.BP-HOST\' | translate }}</mat-label>\n                        <input matInput [formControl]="bpmHost" data-automation-id="bpmHost" type="text"\n                               id="bpmHost" placeholder="http(s)://host|ip:port(/path)">\n                        <mat-error *ngIf="bpmHost.hasError(\'pattern\')">\n                            {{ \'CORE.HOST_SETTINGS.NOT_VALID\'| translate }}\n                        </mat-error>\n                        <mat-error *ngIf="bpmHost.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n                </mat-card-content>\n            </ng-container>\n\n            <ng-container *ngIf="isOAUTH()">\n                <mat-card-content>\n                    <mat-form-field class="adf-full-width">\n                        <mat-label>Identity Host</mat-label>\n                        <input matInput name="identityHost" id="identityHost" formControlName="identityHost"\n                                placeholder="http(s)://host|ip:port(/path)">\n                        <mat-error *ngIf="identityHost.hasError(\'pattern\')">\n                            {{ \'CORE.HOST_SETTINGS.NOT_VALID\'| translate }}\n                        </mat-error>\n                        <mat-error *ngIf="identityHost.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n                </mat-card-content>\n            </ng-container>\n\n            <ng-container *ngIf="isOAUTH()">\n                <div formGroupName="oauthConfig">\n                    <mat-form-field class="adf-full-width">\n                        <mat-label>Auth Host</mat-label>\n                        <input matInput name="host" id="oauthHost" formControlName="host"\n                               placeholder="http(s)://host|ip:port(/path)">\n                        <mat-error *ngIf="host.hasError(\'pattern\')">\n                            {{ \'CORE.HOST_SETTINGS.NOT_VALID\'| translate }}\n                        </mat-error>\n                        <mat-error *ngIf="host.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n                    <mat-form-field class="adf-full-width">\n                        <mat-label>{{ \'CORE.HOST_SETTINGS.CLIENT\'| translate }}</mat-label>\n                        <input matInput name="clientId" id="clientId" formControlName="clientId"\n                               placeholder="Client Id">\n                        <mat-error *ngIf="clientId.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n\n                    <mat-form-field class="adf-full-width">\n                        <mat-label>{{ \'CORE.HOST_SETTINGS.SCOPE\'| translate }}</mat-label>\n                        <input matInput name="{{ \'CORE.HOST_SETTINGS.SCOPE\'| translate }}"\n                               formControlName="scope" placeholder="Scope Id">\n                        <mat-error *ngIf="scope.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n\n                    <label for="silentLogin">{{ \'CORE.HOST_SETTINGS.SILENT\'| translate }}</label>\n                    <mat-slide-toggle class="adf-full-width" name="silentLogin" [color]="\'primary\'"\n                                      formControlName="silentLogin">\n                    </mat-slide-toggle>\n\n                    <label for="implicitFlow">{{ \'CORE.HOST_SETTINGS.IMPLICIT-FLOW\'| translate }}</label>\n                    <mat-slide-toggle class="adf-full-width" name="implicitFlow" [color]="\'primary\'"\n                                      formControlName="implicitFlow">\n                    </mat-slide-toggle>\n\n\n                    <mat-form-field class="adf-full-width">\n                        <mat-label>{{ \'CORE.HOST_SETTINGS.REDIRECT\'| translate }}</mat-label>\n                        <input matInput placeholder="{{ \'CORE.HOST_SETTINGS.REDIRECT\'| translate }}"\n                               name="redirectUri" formControlName="redirectUri">\n                        <mat-error *ngIf="redirectUri.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n\n                    <mat-form-field class="adf-full-width">\n                        <mat-label>{{ \'CORE.HOST_SETTINGS.REDIRECT_LOGOUT\'| translate }}</mat-label>\n                        <input id="logout-url" matInput placeholder="{{ \'CORE.HOST_SETTINGS.REDIRECT_LOGOUT\'| translate }}"\n                               name="redirectUriLogout" formControlName="redirectUriLogout">\n                    </mat-form-field>\n\n                    <mat-form-field class="adf-full-width">\n                        <mat-label>{{ \'CORE.HOST_SETTINGS.PUBLIC_URLS\'| translate }}</mat-label>\n                        <input id="public-url" matInput placeholder="{{ \'CORE.HOST_SETTINGS.PUBLIC_URLS\'| translate }}"\n                               name="publicUrls" formControlName="publicUrls">\n                    </mat-form-field>\n\n                </div>\n            </ng-container>\n            <mat-card-actions class="adf-actions">\n                <button mat-button (click)="onCancel()" color="primary">\n                    {{\'CORE.HOST_SETTINGS.BACK\' | translate }}\n                </button>\n                <button type="submit" id="host-button" class="adf-login-button" mat-raised-button\n                        color="primary" data-automation-id="host-button"\n                        [disabled]="!form.valid">\n                    {{\'CORE.HOST_SETTINGS.APPLY\' | translate }}\n                </button>\n            </mat-card-actions>\n        </form>\n    </mat-card>\n</div>\n',host:{class:"adf-host-settings"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-host-settings{align-items:center;display:flex;min-height:100%}.adf-host-settings .adf-authentication-type{margin-bottom:20px;margin-top:10px}.adf-host-settings .adf-setting-container{border-collapse:collapse;border-spacing:0;display:table;margin:0 auto;width:800px}.adf-host-settings .adf-setting-card-padding{display:table-cell;margin:0;vertical-align:middle;width:50%}.adf-host-settings .adf-settings-link-icon{margin-right:10px;position:relative;top:6px}.adf-host-settings .adf-settings-actions{display:flex;justify-content:flex-end}.adf-host-settings .adf-full-width{width:100%}"]}]}],Fi.ctorParameters=function(){return[{type:G.FormBuilder},{type:Ee},{type:Ce},{type:Ie}]},Fi.propDecorators={providers:[{type:t.Input}],error:[{type:t.Output}],cancel:[{type:t.Output}],success:[{type:t.Output}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ki=function(){};ki.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,u.TranslateModule,G.FormsModule,G.ReactiveFormsModule],declarations:[Fi],exports:[Fi]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Vi=function(){function n(e,n,i,a,r){this.elementRef=e,this.renderer=n,this.cdr=i,this.userPreferencesService=a,this.translate=r,this._isEmpty=!0,this._hasItems=!1,this.change=new t.EventEmitter,this.changePageNumber=new t.EventEmitter,this.changePageSize=new t.EventEmitter,this.nextPage=new t.EventEmitter,this.prevPage=new t.EventEmitter,this.onDestroy$=new o.Subject}return Object.defineProperty(n.prototype,"pagination",{get:function(){return this._pagination},set:function(e){e=e||n.DEFAULT_PAGINATION,this._pagination=e,this._hasItems=e&&e.count>0,this._isEmpty=!this.hasItems,this._isEmpty?this.renderer.addClass(this.elementRef.nativeElement,"adf-pagination__empty"):this.renderer.removeClass(this.elementRef.nativeElement,"adf-pagination__empty"),this.cdr.detectChanges()},enumerable:!1,configurable:!0}),n.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(e.UserPreferenceValues.PaginationSize).pipe(s.takeUntil(this.onDestroy$)).subscribe((function(e){t.pagination=Object.assign(Object.assign(Object.assign({},n.DEFAULT_PAGINATION),t.pagination),{maxItems:e})})),this.supportedPageSizes||(this.supportedPageSizes=this.userPreferencesService.supportedPageSizes),this.target&&this.target.pagination.pipe(s.takeUntil(this.onDestroy$)).subscribe((function(e){0!==e.count||t.isFirstPage||t.goPrevious(),t.pagination=Object.assign({},e)})),this.pagination||(this.pagination=Object.assign({},n.DEFAULT_PAGINATION))},Object.defineProperty(n.prototype,"lastPage",{get:function(){var e=this.pagination,t=e.maxItems,n=e.totalItems;return n&&t?Math.ceil(n/t):1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"current",{get:function(){var e=this.pagination,t=e.maxItems,n=e.skipCount;return n&&t?Math.floor(n/t)+1:1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLastPage",{get:function(){return!(!this.pagination.totalItems&&this.pagination.hasMoreItems)&&this.current===this.lastPage},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isFirstPage",{get:function(){return 1===this.current},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"next",{get:function(){return this.isLastPage?this.current:this.current+1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"previous",{get:function(){return this.isFirstPage?1:this.current-1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasItems",{get:function(){return this._hasItems},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this._isEmpty},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"range",{get:function(){var e=this.pagination,t=e.skipCount,n=e.maxItems,i=e.totalItems,a=0;return(i||0!==i)&&(a=t+1),[a,this.isLastPage?i:t+n]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pages",{get:function(){return Array(this.lastPage).fill("n").map((function(e,t){return t+1}))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"itemRangeText",{get:function(){var e=this.range.join("-"),t=this.translate.instant("CORE.PAGINATION.ITEMS_RANGE",{range:e,total:this.pagination.totalItems});return this.pagination.totalItems||(t=t.substr(0,t.indexOf(e)+e.length)),t},enumerable:!1,configurable:!0}),n.prototype.goNext=function(){if(this.hasItems){var e=this.pagination.maxItems,t=(this.next-1)*e;this.pagination=Object.assign(Object.assign({},this.pagination),{skipCount:t}),this.handlePaginationEvent("NEXT_PAGE")}},n.prototype.goPrevious=function(){if(this.hasItems){var e=this.pagination.maxItems,t=(this.previous-1)*e;this.pagination=Object.assign(Object.assign({},this.pagination),{skipCount:t}),this.handlePaginationEvent("PREV_PAGE")}},n.prototype.onChangePageNumber=function(e){if(this.hasItems){var t=(e-1)*this.pagination.maxItems;this.pagination=Object.assign(Object.assign({},this.pagination),{skipCount:t}),this.handlePaginationEvent("CHANGE_PAGE_NUMBER")}},n.prototype.onChangePageSize=function(e){this.pagination=Object.assign(Object.assign({},this.pagination),{skipCount:0,maxItems:e}),this.userPreferencesService.paginationSize=e,this.handlePaginationEvent("CHANGE_PAGE_SIZE")},n.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},n.prototype.handlePaginationEvent=function(e){var t=Object.assign({},this.pagination);"NEXT_PAGE"===e&&this.nextPage.emit(t),"PREV_PAGE"===e&&this.prevPage.emit(t),"CHANGE_PAGE_NUMBER"===e&&this.changePageNumber.emit(t),"CHANGE_PAGE_SIZE"===e&&this.changePageSize.emit(t),this.change.emit(t),this.target&&this.target.updatePagination(t)},n}();Vi.DEFAULT_PAGINATION={skipCount:0,maxItems:25,totalItems:0,count:0,hasMoreItems:!1},Vi.decorators=[{type:t.Component,args:[{selector:"adf-pagination",host:{class:"adf-pagination"},template:'<ng-container *ngIf="hasItems">\n    <div class="adf-pagination__block adf-pagination__range-block">\n        <span class="adf-pagination__range">\n            {{ itemRangeText }}\n        </span>\n    </div>\n\n    <div class="adf-pagination__block adf-pagination__perpage-block">\n        <span>\n            {{ \'CORE.PAGINATION.ITEMS_PER_PAGE\' | translate }}\n        </span>\n\n        <span class="adf-pagination__max-items">\n            {{ pagination.maxItems }}\n        </span>\n\n        <button\n            mat-icon-button\n            [attr.aria-label]="\'CORE.PAGINATION.ARIA.ITEMS_PER_PAGE\' | translate"\n            [matMenuTriggerFor]="pageSizeMenu">\n            <mat-icon>arrow_drop_down</mat-icon>\n        </button>\n\n        <mat-menu #pageSizeMenu="matMenu" class="adf-pagination__page-selector">\n            <button\n                mat-menu-item\n                *ngFor="let pageSize of supportedPageSizes"\n                (click)="onChangePageSize(pageSize)">\n                {{ pageSize }}\n            </button>\n        </mat-menu>\n    </div>\n\n    <div class="adf-pagination__block adf-pagination__actualinfo-block">\n        <span class="adf-pagination__current-page">\n            {{ \'CORE.PAGINATION.CURRENT_PAGE\' | translate: { number: current } }}\n        </span>\n\n        <button\n            mat-icon-button\n            data-automation-id="page-selector"\n            [attr.aria-label]="\'CORE.PAGINATION.ARIA.CURRENT_PAGE\' | translate"\n            [matMenuTriggerFor]="pagesMenu"\n            *ngIf="pages.length > 1">\n            <mat-icon>arrow_drop_down</mat-icon>\n        </button>\n\n        <div *ngIf="pagination.totalItems">\n            <span class="adf-pagination__total-pages">\n                {{ \'CORE.PAGINATION.TOTAL_PAGES\' | translate: { total: pages.length } }}\n            </span>\n        </div>\n\n        <mat-menu #pagesMenu="matMenu" class="adf-pagination__page-selector">\n            <button\n                mat-menu-item\n                *ngFor="let pageNumber of pages"\n                (click)="onChangePageNumber(pageNumber)">\n                {{ pageNumber }}\n            </button>\n        </mat-menu>\n    </div>\n\n    <div class="adf-pagination__block adf-pagination__controls-block">\n        <button\n            class="adf-pagination__previous-button"\n            mat-icon-button\n            [attr.aria-label]="\'CORE.PAGINATION.ARIA.PREVIOUS_PAGE\' | translate"\n            [disabled]="isFirstPage"\n            (click)="goPrevious()">\n            <mat-icon>keyboard_arrow_left</mat-icon>\n        </button>\n\n        <button\n            class="adf-pagination__next-button"\n            mat-icon-button\n            [attr.aria-label]="\'CORE.PAGINATION.ARIA.NEXT_PAGE\' | translate"\n            [disabled]="isLastPage"\n            (click)="goNext()">\n            <mat-icon>keyboard_arrow_right</mat-icon>\n        </button>\n    </div>\n</ng-container>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,styles:[".adf-pagination{border-top:none;color:var(--theme-text-fg-color);display:flex;height:48px;line-height:20px}.adf-pagination__block{align-items:center;border-right:none;display:flex;padding:0 8px}.adf-pagination__block:first-child{flex:1 1 auto;padding-left:24px}.adf-pagination__block:last-child{border-right-width:0}@media (max-width:599.9px){.adf-pagination{flex-wrap:wrap;justify-content:space-between;padding:0 16px}.adf-pagination__perpage-block,.adf-pagination__range-block{display:none}.adf-pagination__actualinfo-block{border-right:none}.adf-pagination__controls-block{padding-right:0}}.adf-pagination__max-items{margin-left:10px}.adf-pagination__current-page,.adf-pagination__max-items{margin-right:5px}.adf-pagination__current-page,.adf-pagination__current-page+button,.adf-pagination__max-items,.adf-pagination__max-items+button{color:var(--theme-text-fg-color)}.adf-pagination__current-page+button,.adf-pagination__max-items+button{margin-left:-10px}.adf-pagination__next-button,.adf-pagination__previous-button{margin:0 5px}.adf-pagination__page-selector{max-height:250px!important}.adf-pagination.adf-pagination__empty{border-top:none;height:48px}.adf-pagination button[mat-icon-button]{height:32px;line-height:32px;width:32px}"]}]}],Vi.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:t.ChangeDetectorRef},{type:Je},{type:u.TranslateService}]},Vi.propDecorators={target:[{type:t.Input}],supportedPageSizes:[{type:t.Input}],pagination:[{type:t.Input}],change:[{type:t.Output}],changePageNumber:[{type:t.Output}],changePageSize:[{type:t.Output}],nextPage:[{type:t.Output}],prevPage:[{type:t.Output}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ni=function(){function n(e,i){this.cdr=e,this.userPreferencesService=i,this.onDestroy$=new o.Subject,this.isLoading=!1,this.loadMore=new t.EventEmitter,this.pagination=n.DEFAULT_PAGINATION,this.requestPaginationModel={skipCount:0,merge:!0}}return Object.defineProperty(n.prototype,"target",{get:function(){return this._target},set:function(e){var t=this;e&&(this._target=e,e.pagination.pipe(s.takeUntil(this.onDestroy$)).subscribe((function(e){t.isLoading=!1,t.pagination=e,t.pagination.hasMoreItems||(t.pagination.hasMoreItems=!1),t.cdr.detectChanges()})))},enumerable:!1,configurable:!0}),n.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(e.UserPreferenceValues.PaginationSize).pipe(s.takeUntil(this.onDestroy$)).subscribe((function(e){t.pageSize=t.pageSize||e,t.requestPaginationModel.maxItems=t.pageSize}))},n.prototype.onLoadMore=function(){this.requestPaginationModel.skipCount=0,this.requestPaginationModel.merge=!1,this.requestPaginationModel.maxItems+=this.pageSize,this.loadMore.next(this.requestPaginationModel),this._target&&(this.isLoading=!0,this._target.updatePagination(this.requestPaginationModel))},n.prototype.reset=function(){this.pagination.skipCount=0,this.pagination.maxItems=this.pageSize,this._target&&this._target.updatePagination(this.pagination)},n.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},n}();Ni.DEFAULT_PAGINATION=new r.Pagination({skipCount:0,maxItems:25,totalItems:0}),Ni.decorators=[{type:t.Component,args:[{selector:"adf-infinite-pagination",host:{class:"infinite-adf-pagination"},template:'<div *ngIf="pagination?.hasMoreItems || isLoading" class="adf-infinite-pagination">\n\n    <button mat-button\n        *ngIf="!isLoading"\n        class="adf-infinite-pagination-load-more"\n        (click)="onLoadMore()"\n        data-automation-id="adf-infinite-pagination-button">\n            <ng-content></ng-content>\n    </button>\n\n    <mat-progress-bar *ngIf="isLoading"\n        mode="indeterminate"\n        class="adf-infinite-pagination-spinner"\n        data-automation-id="adf-infinite-pagination-spinner"></mat-progress-bar>\n</div>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,styles:[".adf-infinite-pagination{display:flex;justify-content:space-around;min-height:56px}.adf-infinite-pagination-load-more{margin-bottom:10px;margin-top:10px}"]}]}],Ni.ctorParameters=function(){return[{type:t.ChangeDetectorRef},{type:Je}]},Ni.propDecorators={target:[{type:t.Input}],pageSize:[{type:t.Input}],isLoading:[{type:t.Input,args:["loading"]}],loadMore:[{type:t.Output}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Mi=function(){};Mi.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,u.TranslateModule],declarations:[Ni,Vi],exports:[Ni,Vi]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ui,ji=function(e){this.err=e},Bi=function(){function e(e){this._defaultPrevented=!1,this._values=e}return Object.defineProperty(e.prototype,"values",{get:function(){return this._values},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this._defaultPrevented},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){this._defaultPrevented=!0},e}(),zi=function(e,t,n){this.token=e,this.username=t,this.password=n};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(e){e[e.Landing=0]="Landing",e[e.Checking=1]="Checking",e[e.Welcome=2]="Welcome"}(Ui||(Ui={}));var $i=function(){function n(e,n,i,a,r,l,s,d,p,u){this._fb=e,this.authService=n,this.translateService=i,this.logService=a,this.router=r,this.appConfig=l,this.userPreferences=s,this.route=d,this.sanitizer=p,this.alfrescoApiService=u,this.isPasswordShow=!1,this.showRememberMe=!0,this.showLoginActions=!0,this.needHelpLink="",this.registerLink="",this.logoImageUrl="./assets/images/alfresco-logo.svg",this.backgroundImageUrl="./assets/images/background.svg",this.copyrightText="© 2016 Alfresco Software, Inc. All Rights Reserved.",this.successRoute=null,this.success=new t.EventEmitter,this.error=new t.EventEmitter,this.executeSubmit=new t.EventEmitter,this.implicitFlow=!1,this.isError=!1,this.actualLoginStep=Ui.Landing,this.LoginSteps=Ui,this.rememberMe=!0,this.minLength=2,this.onDestroy$=new o.Subject}return n.prototype.ngOnInit=function(){var t=this;if(this.initFormError(),this.initFormFieldsDefault(),this.initFormFieldsMessages(),this.successRoute=this.appConfig.get("successRoute",this.successRoute),this.authService.isLoggedIn())this.router.navigate([this.successRoute]);else{if(this.authService.isOauth()){var n=this.appConfig.get(e.AppConfigValues.OAUTHCONFIG,null);n&&n.silentLogin?this.redirectToImplicitLogin():n&&n.implicitFlow&&(this.implicitFlow=!0)}this.route.queryParams.subscribe((function(n){var i=n.redirectUrl,a=t.appConfig.get(e.AppConfigValues.PROVIDERS);t.authService.setRedirect({provider:a,url:i})}))}this.fieldsValidation&&(this.form=this._fb.group(this.fieldsValidation)),this.form.valueChanges.pipe(s.takeUntil(this.onDestroy$)).subscribe((function(e){return t.onValueChanged(e)}))},n.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},n.prototype.submit=function(){this.onSubmit(this.form.value)},n.prototype.redirectToImplicitLogin=function(){this.alfrescoApiService.getInstance().oauth2Auth.implicitLogin()},n.prototype.onSubmit=function(e){this.disableError();var t=new Bi({controls:{username:this.form.controls.username}});this.executeSubmit.emit(t),t.defaultPrevented||this.performLogin(e)},n.prototype.implicitLogin=function(){this.authService.isLoggedIn()&&this.router.navigate([this.successRoute]),this.authService.ssoImplicitLogin()},n.prototype.onValueChanged=function(e){for(var t in this.disableError(),this.formError){if(t)if(this.formError[t]="",this.form.controls[t].errors&&""!==e[t]||this.form.controls[t].dirty&&!this.form.controls[t].valid)for(var n in this.form.controls[t].errors)if(n){var i=this._message[t][n];if(i&&i.value){var a=this.translateService.instant(i.value,i.params);this.formError[t]+=a}}}},n.prototype.performLogin=function(e){var t=this;this.actualLoginStep=Ui.Checking,this.authService.login(e.username,e.password,this.rememberMe).subscribe((function(n){var i=t.authService.getRedirect();t.actualLoginStep=Ui.Welcome,t.userPreferences.setStoragePrefix(e.username),e.password=null,t.success.emit(new zi(n,e.username,null)),i?(t.authService.setRedirect(null),t.router.navigateByUrl(i)):t.successRoute&&t.router.navigate([t.successRoute])}),(function(e){t.actualLoginStep=Ui.Landing,t.displayErrorMessage(e),t.isError=!0,t.error.emit(new ji(e))}),(function(){return t.logService.info("Login done")}))},n.prototype.displayErrorMessage=function(e){e.error&&e.error.crossDomain&&-1!==e.error.message.indexOf("Access-Control-Allow-Origin")?this.errorMsg=e.error.message:403===e.status&&-1!==e.message.indexOf("Invalid CSRF-token")?this.errorMsg="LOGIN.MESSAGES.LOGIN-ERROR-CSRF":403===e.status&&-1!==e.message.indexOf("The system is currently in read-only mode")?this.errorMsg="LOGIN.MESSAGES.LOGIN-ECM-LICENSE":this.errorMsg="LOGIN.MESSAGES.LOGIN-ERROR-CREDENTIALS"},n.prototype.addCustomFormError=function(e,t){this.formError[e]+=t},n.prototype.addCustomValidationError=function(e,t,n,i){this._message[e][t]={value:n,params:i}},n.prototype.toggleShowPassword=function(e){e.stopPropagation(),this.isPasswordShow=!this.isPasswordShow},n.prototype.isErrorStyle=function(e){return!e.valid&&e.dirty&&!e.pristine},n.prototype.trimUsername=function(e){e.target.value=e.target.value.trim()},n.prototype.getBackgroundUrlImageUrl=function(){return this.sanitizer.bypassSecurityTrustStyle("url("+this.backgroundImageUrl+")")},n.prototype.initFormError=function(){this.formError={username:"",password:""}},n.prototype.initFormFieldsMessages=function(){this._message={username:{required:{value:"LOGIN.MESSAGES.USERNAME-REQUIRED"},minlength:{value:"LOGIN.MESSAGES.USERNAME-MIN",params:{minLength:this.minLength}}},password:{required:{value:"LOGIN.MESSAGES.PASSWORD-REQUIRED"}}}},n.prototype.initFormFieldsDefault=function(){this.form=this._fb.group({username:["",G.Validators.compose([G.Validators.required,G.Validators.minLength(this.minLength)])],password:["",G.Validators.required]})},n.prototype.disableError=function(){this.isError=!1,this.initFormError()},n}();$i.decorators=[{type:t.Component,args:[{selector:"adf-login",template:'<div class="adf-login-content" [style.background-image]="getBackgroundUrlImageUrl()">\n    <div class="adf-ie11FixerParent">\n        <div class="adf-ie11FixerChild">\n\n            <mat-card class="adf-login-card-wide">\n                <form id="adf-login-form" [formGroup]="form" (submit)="onSubmit(form.value)" autocomplete="off">\n                    <mat-card-header>\n                        <mat-card-title>\n                            <div class="adf-alfresco-logo">\n                                \x3c!--HEADER TEMPLATE--\x3e\n                                <ng-template *ngIf="headerTemplate"\n                                             ngFor [ngForOf]="[data]"\n                                             [ngForTemplate]="headerTemplate">\n                                </ng-template>\n                                <img *ngIf="!headerTemplate" id="adf-login-img-logo" class="adf-img-logo" [src]="logoImageUrl"\n                                     alt="{{\'LOGIN.LOGO\' | translate }}">\n                            </div>\n                        </mat-card-title>\n                    </mat-card-header>\n\n                    <mat-card-content class="adf-login-controls">\n\n                        \x3c!--ERRORS AREA--\x3e\n                        <div class="adf-error-container">\n                            <div *ngIf="isError" id="login-error" data-automation-id="login-error"\n                                 class="adf-error  adf-error-message">\n                                <mat-icon class="adf-error-icon">warning</mat-icon>\n                                <span class="adf-login-error-message">{{errorMsg | translate }}</span>\n                            </div>\n                        </div>\n\n                        <div *ngIf="!implicitFlow">\n\n                            \x3c!--USERNAME FIELD--\x3e\n                            <div class="adf-login__field"\n                                 [ngClass]="{\'adf-is-invalid\': isErrorStyle(form.controls.username)}">\n                                <mat-form-field class="adf-full-width" floatPlaceholder="never" color="primary">\n                                    <input matInput placeholder="{{\'LOGIN.LABEL.USERNAME\' | translate }}"\n                                           type="text"\n                                           class="adf-full-width"\n                                           formControlName="username"\n                                           autocapitalize="none"\n                                           id="username"\n                                           data-automation-id="username"\n                                           (blur)="trimUsername($event)">\n                                </mat-form-field>\n\n                                <span class="adf-login-validation" for="username" *ngIf="formError[\'username\']">\n                                <span id="username-error" class="adf-login-error" data-automation-id="username-error">{{formError[\'username\'] | translate }}</span>\n                            </span>\n                            </div>\n\n                            \x3c!--PASSWORD FIELD--\x3e\n                            <div class="adf-login__field">\n                                <mat-form-field class="adf-full-width" floatPlaceholder="never" color="primary">\n                                    <input matInput placeholder="{{\'LOGIN.LABEL.PASSWORD\' | translate }}"\n                                           [type]="isPasswordShow ? \'text\' : \'password\'"\n                                           formControlName="password"\n                                           id="password"\n                                           data-automation-id="password">\n                                        <button\n                                            matSuffix\n                                            mat-icon-button\n                                            type="button"\n                                            [attr.aria-label]="(isPasswordShow ?\n                                                    \'LOGIN.ARIA-LABEL.HIDE-PASSWORD\':\n                                                    \'LOGIN.ARIA-LABEL.SHOW-PASSWORD\'\n                                                ) | translate"\n                                            (click)="toggleShowPassword($event)"\n                                            (keyup.enter)="toggleShowPassword($event)"\n                                            [attr.data-automation-id]="isPasswordShow ? \'hide_password\':\'show_password\'">\n                                           <mat-icon class="adf-login-password-icon">\n                                               {{ isPasswordShow ? \'visibility\':\'visibility_off\' }}\n                                            </mat-icon>\n                                       </button>\n                                </mat-form-field>\n                                <span class="adf-login-validation" for="password" *ngIf="formError[\'password\']">\n                                <span id="password-required" class="adf-login-error"\n                                      data-automation-id="password-required">{{formError[\'password\'] | translate }}</span>\n                            </span>\n                            </div>\n\n                            \x3c!--CUSTOM CONTENT--\x3e\n                            <ng-content></ng-content>\n\n                            <br>\n                            <button type="submit" id="login-button"\n                                    class="adf-login-button"\n                                    mat-raised-button color="accent"\n                                    [class.adf-isChecking]="actualLoginStep === LoginSteps.Checking"\n                                    [class.adf-isWelcome]="actualLoginStep === LoginSteps.Welcome"\n                                    data-automation-id="login-button" [disabled]="!form.valid"\n                                    [attr.aria-label]="\'LOGIN.BUTTON.LOGIN\' | translate">\n\n                                <span *ngIf="actualLoginStep === LoginSteps.Landing" class="adf-login-button-label">{{ \'LOGIN.BUTTON.LOGIN\' | translate }}</span>\n\n                                <div *ngIf="actualLoginStep === LoginSteps.Checking"\n                                     class="adf-interactive-login-label">\n                                    <span\n                                        class="adf-login-button-label">{{ \'LOGIN.BUTTON.CHECKING\' | translate }}</span>\n                                    <div class="adf-login-spinner-container">\n                                        <mat-spinner id="checking-spinner" class="adf-login-checking-spinner"\n                                                     [diameter]="25"></mat-spinner>\n                                    </div>\n                                </div>\n\n\n                                <div *ngIf="actualLoginStep === LoginSteps.Welcome" class="adf-interactive-login-label">\n                                    <span class="adf-login-button-label">{{ \'LOGIN.BUTTON.WELCOME\' | translate }}</span>\n                                    <mat-icon class="adf-welcome-icon">done</mat-icon>\n                                </div>\n\n                            </button>\n                            <div *ngIf="showRememberMe" class="adf-login__remember-me">\n                                <mat-checkbox id="adf-login-remember" color="primary" class="adf-login-remember-me"\n                                              [checked]="rememberMe"\n                                              (change)="rememberMe = !rememberMe">{{ \'LOGIN.LABEL.REMEMBER\' | translate }}\n                                </mat-checkbox>\n                            </div>\n                        </div>\n\n                        <div *ngIf="implicitFlow">\n                            <button type="button" (click)="implicitLogin()" id="login-button-sso"\n                                    [attr.aria-label]="\'LOGIN.BUTTON.SSO\' | translate"\n                                    class="adf-login-button"\n                                    mat-raised-button color="primary"\n                                    data-automation-id="login-button-sso">\n                                <span  class="adf-login-button-label">{{ \'LOGIN.BUTTON.SSO\' | translate }}</span>\n                            </button>\n                        </div>\n\n                    </mat-card-content>\n\n                    <mat-card-actions *ngIf="footerTemplate || showLoginActions">\n\n                        <div class="adf-login-action-container">\n                            \x3c!--FOOTER TEMPLATE--\x3e\n                            <ng-template *ngIf="footerTemplate"\n                                         ngFor [ngForOf]="[data]"\n                                         [ngForTemplate]="footerTemplate">\n                            </ng-template>\n                            <div class="adf-login-action" *ngIf="!footerTemplate && showLoginActions">\n                                <div id="adf-login-action-left" class="adf-login-action-left">\n                                    <a href="{{needHelpLink}}">{{\'LOGIN.ACTION.HELP\' | translate }}</a>\n                                </div>\n                                <div id="adf-login-action-right" class="adf-login-action-right">\n                                    <a href="{{registerLink}}">{{\'LOGIN.ACTION.REGISTER\' | translate }}</a>\n                                </div>\n                            </div>\n                        </div>\n                    </mat-card-actions>\n\n                </form>\n            </mat-card>\n\n            <div class="adf-copyright" data-automation-id="login-copyright">\n                {{ copyrightText }}\n            </div>\n\n        </div>\n    </div>\n</div>\n',encapsulation:t.ViewEncapsulation.None,host:{class:"adf-login"},styles:[".adf-login{display:flex;flex:1;flex-direction:column;height:100%;min-height:0;overflow:hidden}.adf-login-content{background-position:50%;background-size:cover;display:flex;flex-direction:column;justify-content:center;min-height:100%;min-width:320px}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.adf-login-content{display:table;height:100%;width:100%}}.adf-login-content .adf-ie11FixerParent{margin-top:16px;min-width:320px}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.adf-login-content .adf-ie11FixerParent{display:table-cell;padding-top:16px;vertical-align:middle;width:100%}}.adf-login-content .adf-ie11FixerChild{align-items:center;display:flex;flex-direction:column;justify-content:center;width:100%}.adf-login-content .adf-show{display:block!important}.adf-login-content .adf-hide{display:none!important}.adf-login-content .adf-icon-inline{display:block;left:82%;overflow:hidden;position:absolute;top:31%;width:30px}.adf-login-content .adf-login-card-wide{background-color:var(--theme-dialog-bg-color);border-radius:8px;box-shadow:0 2px 2px 0 rgba(0,0,0,.24),0 0 2px 0 rgba(0,0,0,.12);box-sizing:border-box;min-width:320px;padding:21px 64px 34px;width:450px}@media (max-width:482px){.adf-login-content .adf-login-card-wide{width:calc(100% - 32px)}}.adf-login-content .adf-error-container{height:45px}.adf-login-content .adf-error-message{box-orient:horizontal;color:var(--theme-warn-color);display:flex;flex-direction:row;font-size:13px;justify-content:flex-start;margin-bottom:4px;padding:0}.adf-login-content .adf-error-message .adf-error-icon{margin-right:10px}.adf-login-content .mat-card-header-text{margin:0 auto}.adf-login-content .adf-img-logo{display:block;margin-left:auto;margin-right:auto}.adf-login-content .adf-alfresco-logo{padding:24px 16px}.adf-login-content .adf-alfresco-logo img{max-height:58px}.adf-login-content .adf-login-button{box-shadow:none;height:36px;line-height:38px;width:100%}.adf-login-content .adf-login-button-label{color:var(--theme-accent-color-default-contrast)}.adf-login-content .adf-login-button.adf-isChecking{background-color:#e0f7fa}.adf-login-content .adf-login-button.adf-isChecking .adf-login-button-label{color:var(--theme-primary-color)}.adf-login-content .adf-login-button.adf-isWelcome{background-color:var(--theme-primary-color);color:var(--theme-primary-color-default-contrast)}.adf-login-content .adf-login-button.adf-isWelcome .adf-welcome-icon{margin:5px 0 0 10px}.adf-login-content .adf-interactive-login-label{box-orient:horizontal;box-pack:center;display:flex;flex-direction:row;justify-content:center}.adf-login-content .adf-login-spinner-container{margin-left:15px;margin-top:5px}.adf-login-content .adf-login-checking-spinner>svg>circle{stroke-width:16%!important}.adf-login-content .adf-login-controls{overflow:visible;padding:0 0 26px;width:100%}.adf-login-content .adf-login-action{box-orient:horizontal;box-pack:space-between;display:flex;flex-direction:row;justify-content:space-between;margin-top:20px}.adf-login-content .adf-login-action-left a,.adf-login-content .adf-login-action-right a{text-decoration:none}.adf-login-content .adf-is-active{background-color:transparent;color:var(--theme-warn-color);font-size:12px;font-weight:400;line-height:1.33}.adf-login-content .adf-copyright{font-size:12px;min-width:320px;opacity:.54;padding:16px 0;text-align:center}.adf-login-content .mat-form-field .adf-login-password-icon.mat-icon{color:var(--theme-text-fg-color)}.adf-login-content .adf-login__field .mat-form-field-wrapper{font-size:16px;margin:1em 0 0}.adf-login-content .adf-login__field input:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px var(--theme-dialog-bg-color) inset;-webkit-text-fill-color:var(--theme-text-fg-color)!important}.adf-login-content .adf-login-validation{background-color:transparent;color:var(--theme-warn-color);font-size:12px}.adf-login-content .adf-login-error{color:var(--theme-warn-color);display:block;font-size:12px;margin-top:-12px;position:absolute}.adf-login-content .adf-full-width{width:100%}.adf-login-content .adf-login__remember-me{padding-top:22px}.adf-login-content .adf-login__remember-me .mat-checkbox-label{opacity:.87}.adf-login-content .adf-login__field{display:block;margin-left:auto;margin-right:auto;padding-bottom:18px}.adf-login-content .adf-login-remember-me{color:var(--theme-text-fg-color)!important}.adf-login-content .adf-login-action-container{border-top:1px solid rgba(0,0,0,.1);margin-top:23px}"]}]}],$i.ctorParameters=function(){return[{type:G.FormBuilder},{type:De},{type:Ze},{type:Ae},{type:M.Router},{type:Ie},{type:Je},{type:M.ActivatedRoute},{type:H.DomSanitizer},{type:Ce}]},$i.propDecorators={showRememberMe:[{type:t.Input}],showLoginActions:[{type:t.Input}],needHelpLink:[{type:t.Input}],registerLink:[{type:t.Input}],logoImageUrl:[{type:t.Input}],backgroundImageUrl:[{type:t.Input}],copyrightText:[{type:t.Input}],fieldsValidation:[{type:t.Input}],successRoute:[{type:t.Input}],success:[{type:t.Output}],error:[{type:t.Output}],executeSubmit:[{type:t.Output}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Hi=function(){function e(e){this.alfrescoLoginComponent=e}return e.prototype.ngAfterContentInit=function(){this.alfrescoLoginComponent.headerTemplate=this.template},e}();Hi.decorators=[{type:t.Directive,args:[{selector:"adf-login-header, login-header"}]}],Hi.ctorParameters=function(){return[{type:$i}]},Hi.propDecorators={template:[{type:t.ContentChild,args:[t.TemplateRef]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var qi=function(){function e(e){this.alfrescoLoginComponent=e}return e.prototype.ngAfterContentInit=function(){this.alfrescoLoginComponent.footerTemplate=this.template},e}();qi.decorators=[{type:t.Directive,args:[{selector:"adf-login-footer, login-footer"}]}],qi.ctorParameters=function(){return[{type:$i}]},qi.propDecorators={template:[{type:t.ContentChild,args:[t.TemplateRef]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Yi=function(){function e(e){this.data=e,this.buttonActionName="",this.buttonActionName=e.actionName?"LOGIN.DIALOG."+e.actionName.toUpperCase():"LOGIN.DIALOG.CHOOSE"}return e.prototype.close=function(){this.data.logged.complete()},e.prototype.submitForm=function(){this.loginPanel.submitForm()},e.prototype.onLoginSuccess=function(e){this.data.logged.next(e),this.close()},e.prototype.isFormValid=function(){return!!this.loginPanel&&this.loginPanel.isValid()},e}();Yi.decorators=[{type:t.Component,args:[{selector:"adf-login-dialog",template:'<header\n    mat-dialog-title\n    data-automation-id="login-dialog-title">{{data?.title}}\n</header>\n\n<mat-dialog-content class="adf-login-dialog-content">\n    <adf-login-dialog-panel #adfLoginPanel\n                            (success)="onLoginSuccess($event)">\n    </adf-login-dialog-panel>\n</mat-dialog-content>\n\n<mat-dialog-actions align="end">\n    <button\n        mat-button\n        (click)="close()"\n        data-automation-id="login-dialog-actions-cancel">{{ \'LOGIN.DIALOG.CANCEL\' | translate }}\n    </button>\n\n    <button mat-button\n        class="choose-action"\n        data-automation-id="login-dialog-actions-perform"\n        [disabled]="!isFormValid()"\n        (click)="submitForm()">{{ buttonActionName | translate}}\n    </button>\n</mat-dialog-actions>\n',encapsulation:t.ViewEncapsulation.None,styles:[".adf-login-dialog-content adf-login .adf-login-content .adf-login-card-wide{box-shadow:none;padding:0}"]}]}],Yi.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[b.MAT_DIALOG_DATA]}]}]},Yi.propDecorators={loginPanel:[{type:t.ViewChild,args:["adfLoginPanel",{static:!0}]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Gi=function(){function e(){this.success=new t.EventEmitter}return e.prototype.submitForm=function(){this.login.submit()},e.prototype.onLoginSuccess=function(e){this.success.emit(e)},e.prototype.isValid=function(){return!(!this.login||!this.login.form)&&this.login.form.valid},e}();Gi.decorators=[{type:t.Component,args:[{selector:"adf-login-dialog-panel",template:'<div>\n    <adf-login #adfLogin\n               class="adf-panel-login-dialog-component"\n               [showRememberMe]="false"\n               [showLoginActions]="false"\n               [backgroundImageUrl]="\'\'"\n               (success)="onLoginSuccess($event)">\n        <adf-login-header><ng-template></ng-template></adf-login-header>\n        <adf-login-footer><ng-template></ng-template></adf-login-footer>\n    </adf-login>\n</div>\n',encapsulation:t.ViewEncapsulation.None,styles:[".adf-panel-login-dialog-component .adf-login-content .adf-copyright,.adf-panel-login-dialog-component .adf-login-content .adf-login-button,.adf-panel-login-dialog-component .adf-login-content .adf-login__remember-me,.adf-panel-login-dialog-component .adf-login-content .mat-card-actions{display:none}"]}]}],Gi.propDecorators={success:[{type:t.Output}],login:[{type:t.ViewChild,args:["adfLogin",{static:!0}]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Wi=function(){};Wi.decorators=[{type:t.NgModule,args:[{imports:[M.RouterModule,Be,G.FormsModule,G.ReactiveFormsModule,p.CommonModule,u.TranslateModule],declarations:[$i,qi,Hi,Yi,Gi],exports:[$i,qi,Hi,Yi,Gi]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Xi=function(){function t(t,n){this.userPreferencesService=n,this.languages=new o.BehaviorSubject([{key:"de",label:"Deutsch"},{key:"en",label:"English"},{key:"es",label:"Español"},{key:"fr",label:"Français"},{key:"it",label:"Italiano"},{key:"ja",label:"日本語"},{key:"nb",label:"Bokmål"},{key:"nl",label:"Nederlands"},{key:"pt-BR",label:"Português (Brasil)"},{key:"ru",label:"Русский"},{key:"zh-CN",label:"中文简体"},{key:"cs",label:"Čeština"},{key:"da",label:"Dansk"},{key:"fi",label:"Suomi"},{key:"pl",label:"Polski"},{key:"sv",label:"Svenska"},{key:"ar",label:"العربية",direction:"rtl"}]),this.languages$=this.languages.asObservable();var i=t.get(e.AppConfigValues.APP_CONFIG_LANGUAGES_KEY);this.setLanguages(i)}return t.prototype.changeLanguage=function(e){this.userPreferencesService.locale=e.key,this.userPreferencesService.set("textOrientation",e.direction||"ltr")},t.prototype.setLanguages=function(e){e&&e.length>0&&this.languages.next(e)},t}();Xi.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Xi(t.ɵɵinject(Ie),t.ɵɵinject(Je))},token:Xi,providedIn:"root"}),Xi.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Xi.ctorParameters=function(){return[{type:Ie},{type:Je}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ki=function(){function e(e){this.languageService=e,this.languages$=e.languages$}return e.prototype.changeLanguage=function(e){this.languageService.changeLanguage(e)},e}();Ki.decorators=[{type:t.Component,args:[{selector:"adf-language-menu",template:'\n        <button\n            mat-menu-item\n            *ngFor="let language of languages$ | async"\n            (click)="changeLanguage(language)">{{language.label}}</button>\n    '}]}],Ki.ctorParameters=function(){return[{type:Xi}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ji=function(){};Ji.decorators=[{type:t.Component,args:[{selector:"adf-picker-button",template:'\n        <button mat-menu-item [matMenuTriggerFor]="langMenu">\n            <mat-icon>language</mat-icon>\n            {{ \'ADF.LANGUAGE\' | translate }}\n        </button>\n        <mat-menu #langMenu="matMenu">\n            <adf-language-menu></adf-language-menu>\n        </mat-menu>\n    '}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Qi=function(){};Qi.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,u.TranslateModule],declarations:[Ki,Ji],exports:[Ki,Ji]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Zi=function(){this.showHeader=!0};Zi.decorators=[{type:t.Component,args:[{selector:"adf-info-drawer-layout",template:'<div *ngIf="showHeader" class="adf-info-drawer-layout-header">\n    <div class="adf-info-drawer-layout-header-title">\n        <ng-content select="[info-drawer-title]"></ng-content>\n    </div>\n    <div class="adf-info-drawer-layout-header-buttons">\n        <ng-content select="[info-drawer-buttons]"></ng-content>\n    </div>\n</div>\n<div class="adf-info-drawer-layout-content">\n    <ng-content select="[info-drawer-content]"></ng-content>\n</div>\n',encapsulation:t.ViewEncapsulation.None,host:{class:"adf-info-drawer-layout"},styles:[".adf-info-drawer{overflow:hidden}.adf-info-drawer,.adf-info-drawer-layout{display:flex;flex:1;flex-direction:column;height:100%;min-height:0}.adf-info-drawer-layout{background-color:var(--theme-background-color);box-shadow:0 2px 4px 0 rgba(0,0,0,.27);overflow:hidden;overflow:auto;width:100%}.adf-info-drawer-layout .mat-tab-label{color:var(--theme-accent-color);font-weight:700;opacity:1;text-align:left;text-transform:uppercase}.adf-info-drawer-layout .mat-tab-label-active{color:var(--theme-primary-color)}.adf-info-drawer-layout-header{display:flex;justify-content:space-between;margin-bottom:40px;padding:13px 0 0 23px}.adf-info-drawer-layout-header-buttons{padding-right:18px}.adf-info-drawer-layout-header-buttons mat-icon{cursor:pointer}.adf-info-drawer-layout-header-title{color:var(--theme-text-color);font-size:20px;height:32px;letter-spacing:-.5px;line-height:1.6;text-align:left;width:197px}.adf-info-drawer-layout-header-title>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.adf-info-drawer-layout-content{padding:10px}.adf-info-drawer-layout-content>*{display:block;margin-bottom:20px}.adf-info-drawer-layout-content>:last-child{margin-bottom:0}.adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content .adf-manage-versions-empty,.adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content .adf-manage-versions-no-permission{color:var(--theme-text-color);display:flex;flex-direction:column;margin:0;padding:24px;text-align:center}.adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content .adf-manage-versions-empty-icon,.adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content .adf-manage-versions-no-permission-icon{display:block;font-size:48px;height:48px;margin:0 auto 24px;width:48px}"]}]}],Zi.propDecorators={showHeader:[{type:t.Input}]};var ea=function(){};ea.decorators=[{type:t.Directive,args:[{selector:"[adf-info-drawer-title], [info-drawer-title]"}]}];var ta=function(){};ta.decorators=[{type:t.Directive,args:[{selector:"[adf-info-drawer-buttons], [info-drawer-buttons]"}]}];var na=function(){};na.decorators=[{type:t.Directive,args:[{selector:"[adf-info-drawer-content], [info-drawer-content]"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ia=function(){this.label="",this.icon=null};ia.decorators=[{type:t.Component,args:[{selector:"adf-info-drawer-tab",template:"<ng-template><ng-content></ng-content></ng-template>",encapsulation:t.ViewEncapsulation.None}]}],ia.propDecorators={label:[{type:t.Input}],icon:[{type:t.Input}],content:[{type:t.ViewChild,args:[t.TemplateRef,{static:!0}]}]};var aa=function(){function e(){this.title=null,this.selectedIndex=0,this.showHeader=!0,this.currentTab=new t.EventEmitter}return e.prototype.onKeyDown=function(e){e.cancelBubble=!0},e.prototype.onKeyUp=function(e){e.cancelBubble=!0},e.prototype.showTabLayout=function(){return this.contentBlocks.length>0},e.prototype.onTabChange=function(e){this.currentTab.emit(e.index)},e}();aa.decorators=[{type:t.Component,args:[{selector:"adf-info-drawer",template:'<adf-info-drawer-layout [showHeader]="showHeader">\n    <div role="heading" aria-level="1" *ngIf="title" info-drawer-title>{{ title | translate }}</div>\n    <ng-content *ngIf="!title" info-drawer-title select="[info-drawer-title]"></ng-content>\n\n    <ng-content info-drawer-buttons select="[info-drawer-buttons]"></ng-content>\n\n    <ng-container info-drawer-content *ngIf="showTabLayout(); then tabLayout else singleLayout"></ng-container>\n\n    <ng-template #tabLayout>\n        <mat-tab-group [(selectedIndex)]="selectedIndex" class="adf-info-drawer-tabs" (selectedTabChange)="onTabChange($event)">\n            <mat-tab *ngFor="let contentBlock of contentBlocks"\n                [label]="contentBlock.label | translate"\n                class="adf-info-drawer-tab">\n\n                <ng-template mat-tab-label>\n                    <mat-icon *ngIf="contentBlock.icon">{{ contentBlock.icon }}</mat-icon>\n                    <span *ngIf="contentBlock.label">{{ contentBlock.label | translate }}</span>\n                </ng-template>\n\n                <ng-container *ngTemplateOutlet="contentBlock.content"></ng-container>\n            </mat-tab>\n        </mat-tab-group>\n    </ng-template>\n\n    <ng-template #singleLayout>\n        <ng-content select="[info-drawer-content]"></ng-content>\n    </ng-template>\n</adf-info-drawer-layout>\n',encapsulation:t.ViewEncapsulation.None,host:{class:"adf-info-drawer"},styles:[".adf-info-drawer{display:block}.adf-info-drawer .mat-tab-label{min-width:0}.adf-info-drawer .adf-info-drawer-layout-content{padding:0}.adf-info-drawer .adf-info-drawer-layout-content>:not(.adf-info-drawer-tabs){padding:10px}.adf-info-drawer .adf-info-drawer-layout-content>:not(.adf-info-drawer-tabs)>*{display:block;margin-bottom:20px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content>*{display:block;margin-bottom:20px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content>:last-child{margin-bottom:0}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-label{flex-grow:1}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-label .mat-icon+span{padding-left:5px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-ink-bar{height:4px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body{padding:10px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content{overflow:initial}"]}]}],aa.propDecorators={title:[{type:t.Input}],selectedIndex:[{type:t.Input}],showHeader:[{type:t.Input}],currentTab:[{type:t.Output}],contentBlocks:[{type:t.ContentChildren,args:[ia]}],onKeyDown:[{type:t.HostListener,args:["keydown",["$event"]]}],onKeyUp:[{type:t.HostListener,args:["keyup",["$event"]]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var oa=function(){};oa.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,u.TranslateModule],declarations:[Zi,ia,aa,ea,ta,na],exports:[Zi,ia,aa,ea,ta,na]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ra=function(){function e(e,t,n){this.appConfigService=e,this.presetKey=t,this.presetsModel=n,this.layoutPresets={}}return e.prototype.createDatatableSchema=function(){this.loadLayoutPresets(),this.columns&&0!==this.columns.length||(this.columns=this.mergeJsonAndHtmlSchema())},e.prototype.loadLayoutPresets=function(){var e=this.appConfigService.get(this.presetKey,null);this.layoutPresets=e?Object.assign({},this.presetsModel,e):this.presetsModel},e.prototype.mergeJsonAndHtmlSchema=function(){var e=this.getSchemaFromConfig(this.presetColumn).concat(this.getSchemaFromHtml(this.columnList));return 0===e.length&&(e=this.getDefaultLayoutPreset()),e},e.prototype.getSchemaFromHtml=function(e){var t=[];return e&&e.columns&&e.columns.length>0&&(t=e.columns.map((function(e){return e}))),t},e.prototype.getSchemaFromConfig=function(e){return e?this.layoutPresets[e].map((function(e){return new ve(e)})):[]},e.prototype.getDefaultLayoutPreset=function(){return this.layoutPresets.default.map((function(e){return new ve(e)}))},e.prototype.setPresetKey=function(e){this.presetKey=e},e.prototype.setPresetsModel=function(e){this.presetsModel=e},e}();
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function la(e,t){return e.split(".").reverse().reduce((function(e,t){var n;return(n={})[t]=e,n}),t)}ra.decorators=[{type:t.Directive}],ra.ctorParameters=function(){return[{type:Ie},{type:String},{type:void 0}]},ra.propDecorators={columnList:[{type:t.ContentChild,args:[Wt]}],presetColumn:[{type:t.Input}]};var sa=function(){function e(){this.itemUpdated$=new o.Subject,this.itemClicked$=new o.Subject,this.updateItem$=new o.Subject,this.updatedAspect$=new o.Subject}return e.prototype.update=function(e,t){this.itemUpdated$.next({target:e,changed:la(e.key,t)})},e.prototype.clicked=function(e){this.itemClicked$.next({target:e})},e.prototype.updateElement=function(e){this.updateItem$.next(e)},e.prototype.updateNodeAspect=function(e){this.updatedAspect$.next(e)},e}();sa.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new sa},token:sa,providedIn:"root"}),sa.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var da=function(){function e(e){var t=this;this.cardViewUpdateService=e,this.destroy$=new o.Subject,this.cardViewUpdateService.updateItem$.pipe(s.takeUntil(this.destroy$)).subscribe((function(e){t.property.key===e.key&&(t.property.value=e.value)}))}return e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e}();da.decorators=[{type:t.Directive}],da.ctorParameters=function(){return[{type:sa}]},da.propDecorators={property:[{type:t.Input}]};var pa=", ",ua="clickableTemplate",ca="chipsTemplate",fa="emptyTemplate",ma="defaultTemplate",ha=function(e){function t(t,n,i,a){var r=e.call(this,t)||this;return r.clipboardService=n,r.translateService=i,r.cd=a,r.editable=!1,r.displayEmpty=!0,r.copyToClipboardAction=!0,r.useChipsForMultiValueProperty=!0,r.multiValueSeparator=pa,r.textInput=new G.FormControl,r.onDestroy$=new o.Subject,r}return ae(t,e),t.prototype.ngOnChanges=function(e){var t=this;e.property&&e.property.firstChange&&this.textInput.valueChanges.pipe(s.filter((function(e){return e!==t.editedValue&&null!==e})),s.debounceTime(50),s.takeUntil(this.onDestroy$)).subscribe((function(e){t.editedValue=e,t.update()})),this.resetValue(),this.setTemplateType(),e.editable&&(this.isEditable?this.textInput.enable():this.textInput.disable())},t.prototype.setTemplateType=function(){this.showProperty||this.isEditable?this.isClickable?this.templateType=ua:this.isChipViewEnabled?this.templateType=ca:this.templateType=ma:this.templateType=fa},t.prototype.resetValue=function(){this.isChipViewEnabled?this.editedValue=this.property.value?Array.from(this.property.value):[]:(this.editedValue=this.property.displayValue,this.textInput.setValue(this.editedValue)),this.resetErrorMessages()},t.prototype.resetErrorMessages=function(){this.errors=[]},t.prototype.update=function(){this.property.isValid(this.editedValue)?(this.property.value=this.prepareValueForUpload(this.property,this.editedValue),this.cardViewUpdateService.update(Object.assign({},this.property),this.property.value),this.resetErrorMessages()):this.errors=this.property.getValidationErrors(this.editedValue)},t.prototype.prepareValueForUpload=function(e,t){return e.multivalued&&"string"==typeof t?t.split(this.multiValueSeparator.trim()).map((function(e){return e.trim()})):t},t.prototype.removeValueFromList=function(e){Array.isArray(this.editedValue)&&(this.editedValue.splice(e,1),this.update(),this.cd.detectChanges())},t.prototype.addValueToList=function(e){var t=e.input,n=e.value.trim()||"";"string"!=typeof this.editedValue&&(n&&(this.editedValue.push(n),this.update()),t&&(t.value=""))},t.prototype.clicked=function(){"function"==typeof this.property.clickCallBack?this.property.clickCallBack():this.cardViewUpdateService.clicked(this.property)},t.prototype.clearValue=function(){this.editedValue="",this.textInput.setValue(""),this.update()},t.prototype.copyToClipboard=function(e){if(this.copyToClipboard){var t=this.translateService.instant("CORE.METADATA.ACCESSIBILITY.COPY_TO_CLIPBOARD_MESSAGE");this.clipboardService.copyContentToClipboard(e,t)}},t.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},Object.defineProperty(t.prototype,"showProperty",{get:function(){return this.displayEmpty||!this.property.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showClickableIcon",{get:function(){return this.hasIcon&&this.editable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEditable",{get:function(){return this.editable&&this.property.editable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isClickable",{get:function(){return this.property.clickable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasIcon",{get:function(){return!!this.property.icon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasErrors",{get:function(){var e,t;return null!==(t=!!(null===(e=this.errors)||void 0===e?void 0:e.length))&&void 0!==t&&t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isChipViewEnabled",{get:function(){return this.property.multivalued&&this.useChipsForMultiValueProperty},enumerable:!1,configurable:!0}),t}(da);ha.decorators=[{type:t.Component,args:[{selector:"adf-card-view-textitem",template:'<div [ngSwitch]="templateType">\n    <div class="adf-property-label"\n         [attr.data-automation-id]="\'card-textitem-label-\' + property.key"\n         *ngIf="showProperty || isEditable">\n        {{ property.label | translate }}\n    </div>\n\n    <div *ngSwitchDefault>\n        <mat-form-field class="adf-property-field adf-card-textitem-field"\n                        [ngClass]="{ \'adf-property-read-only\': !isEditable }"\n                        [floatLabel]="\'never\'">\n            <input matInput\n                   *ngIf="!property.multiline"\n                   class="adf-property-value"\n                   [placeholder]="property.default"\n                   [formControl]="textInput"\n                   (dblclick)="copyToClipboard(property.displayValue)"\n                   matTooltipShowDelay="1000"\n                   [matTooltip]="\'CORE.METADATA.ACTIONS.COPY_TO_CLIPBOARD\' | translate"\n                   [matTooltipDisabled]="isEditable"\n                   [attr.data-automation-id]="\'card-textitem-value-\' + property.key">\n            <textarea matInput\n                      *ngIf="property.multiline"\n                      [matTextareaAutosize]="true"\n                      [matAutosizeMaxRows]="1"\n                      [matAutosizeMaxRows]="5"\n                      class="adf-property-value"\n                      [placeholder]="property.default"\n                      [formControl]="textInput"\n                      [attr.data-automation-id]="\'card-textitem-value-\' + property.key"></textarea>\n            <button mat-button\n                    matSuffix\n                    class="adf-property-clear-value"\n                    *ngIf="isEditable"\n                    mat-icon-button\n                    aria-label="Clear"\n                    (click)="clearValue()">\n                <mat-icon>cancel</mat-icon>\n            </button>\n            <mat-icon matSuffix\n                      *ngIf="isEditable"\n                      [attr.title]="\'CORE.METADATA.ACTIONS.EDIT\' | translate"\n                      class="adf-textitem-edit-icon">mode_edit</mat-icon>\n\n        </mat-form-field>\n    </div>\n\n    <mat-error [attr.data-automation-id]="\'card-textitem-error-\' + property.key"\n               class="adf-textitem-editable-error"\n               *ngIf="isEditable && hasErrors">\n        <ul>\n            <li *ngFor="let error of errors">{{ error.message | translate: error }}</li>\n        </ul>\n    </mat-error>\n\n    <div *ngSwitchCase="\'chipsTemplate\'"\n         class="adf-property-field adf-textitem-chip-list-container">\n        <mat-chip-list #chipList\n                       class="adf-textitem-chip-list">\n            <mat-chip *ngFor="let propertyValue of editedValue; let idx = index"\n                      [removable]="isEditable"\n                      (removed)="removeValueFromList(idx)">\n                {{ propertyValue }}\n                <mat-icon *ngIf="isEditable"\n                          matChipRemove>cancel</mat-icon>\n            </mat-chip>\n        </mat-chip-list>\n\n        <mat-form-field *ngIf="isEditable"\n                        class="adf-property-field adf-textitem-chip-list-input"\n                        [ngClass]="{ \'adf-property-read-only\': !isEditable }"\n                        [floatLabel]="\'never\'">\n            <input matInput\n                   class="adf-property-value"\n                   [placeholder]="editedValue ? \'\' : property.default | translate"\n                   [matChipInputFor]="chipList"\n                   [matChipInputAddOnBlur]="true"\n                   (matChipInputTokenEnd)="addValueToList($event)"\n                   [attr.data-automation-id]="\'card-textitem-editchipinput-\' + property.key">\n            <mat-icon matSuffix\n                      class="adf-textitem-edit-icon">mode_edit</mat-icon>\n        </mat-form-field>\n    </div>\n\n    <div *ngSwitchCase="\'clickableTemplate\'"\n         role="button"\n         class="adf-textitem-clickable"\n         [ngClass]="{ \'adf-property-read-only\': !isEditable }"\n         [attr.data-automation-id]="\'card-textitem-toggle-\' + property.key"\n         (click)="clicked()"\n         fxLayout="row"\n         fxLayoutAlign="space-between center">\n        <mat-form-field class="adf-property-field adf-card-textitem-field"\n                        [floatLabel]="\'never\'">\n            <input matInput\n                   [type]=property.inputType\n                   class="adf-property-value"\n                   [ngClass]="{ \'adf-textitem-clickable-value\': !isEditable }"\n                   [placeholder]="property.default"\n                   [(ngModel)]="editedValue"\n                   (blur)="update()"\n                   (keydown.enter)="update()"\n                   [disabled]="!isEditable"\n                   [attr.data-automation-id]="\'card-textitem-value-\' + property.key">\n            <button mat-icon-button\n                    matSuffix\n                    fxFlex="0 0 auto"\n                    *ngIf="showClickableIcon"\n                    class="adf-textitem-action"\n                    [attr.title]="\'CORE.METADATA.ACTIONS.EDIT\' | translate"\n                    [attr.data-automation-id]="\'card-textitem-clickable-icon-\' + property.key">\n                <mat-icon class="adf-textitem-icon">{{ property?.icon }}</mat-icon>\n            </button>\n        </mat-form-field>\n\n    </div>\n\n    <div *ngSwitchCase="\'emptyTemplate\'">\n        <span class="adf-textitem-default-value">{{ property.default | translate }}</span>\n    </div>\n</div>\n',encapsulation:t.ViewEncapsulation.None,styles:[".adf-textitem-edit-icon.mat-icon{color:var(--adf-card-view-text-color);font-size:16px;height:16px;width:16px}.adf-textitem-action.mat-icon-button{color:var(--adf-card-view-text-color);height:20px;line-height:20px;width:20px}.adf-textitem-action:focus,.adf-textitem-action:hover{color:var(--theme-text-fg-color)}.adf-update-icon{padding-left:13px}.adf-textitem-readonly{cursor:pointer!important}.adf-textitem-readonly:focus .adf-textitem-action,.adf-textitem-readonly:hover .adf-textitem-action{color:var(--theme-text-fg-color)}.adf-textitem-chip-list-container{margin-bottom:25px!important;margin-top:6px}.adf-textitem-chip-list-container .mat-form-field-label{margin-top:6px}.adf-textitem-clickable{cursor:pointer!important;padding-top:3px}.adf-textitem-clickable .adf-textitem-edit-icon.mat-icon{line-height:16px}.adf-textitem-clickable:hover .adf-textitem-action{color:var(--theme-text-fg-color)}.adf-textitem-clickable-value{color:var(--theme-primary-color)!important;cursor:pointer!important}.adf-textitem-editable-controls{align-items:center;display:flex}.adf-textitem-editable-controls mat-icon:not(.adf-button-disabled):hover{color:var(--theme-text-fg-color);cursor:pointer!important}.adf-textitem-editable-controls mat-form-field{width:100%}.adf-textitem-editable-controls input:focus,.adf-textitem-editable-controls textarea:focus{border:1px solid var(--theme-accent-color-a200)}.adf-textitem-editable-error{font-size:12px;padding-top:4px}.adf-textitem-editable-error ul{list-style-type:none;margin:0;padding:0}.adf-textitem-editable-error ul li{margin:0;padding:0}.adf-textitem-default-value{color:var(--theme-text-color)}.adf-textitem-editable .mat-form-field-wrapper{margin:0;padding-bottom:0}.adf-textitem-editable .mat-form-field-underline{display:none}.adf-textitem-editable .mat-form-field-infix{border-top:none;padding:0}.adf-textitem-editable .mat-form-field-label-wrapper{padding-top:2em;position:static}.adf-textitem-editable .mat-form-field-label{top:4px}.adf-textitem-editable .mat-input-element{font-family:inherit;padding-top:6px;position:relative}.adf-textitem-editable .mat-input-element:focus{left:-6px;padding:5px;top:0}.adf-textitem-editable input.mat-input-element{margin-bottom:2px}.adf-textitem-editable input.mat-input-element:focus{margin-bottom:-8px}.adf-textitem-scroll{display:block;overflow-x:auto;white-space:nowrap}.adf-textitem-scroll::-webkit-scrollbar{height:5px}.adf-textitem-scroll:hover::-webkit-scrollbar-thumb{background-color:var(--adf-card-view-text-color);border-radius:2px;display:block}.adf-textitem-multiline{display:block}.adf-property-field .adf-property-clear-value{display:none}.adf-property-field.adf-card-textitem-field:hover .adf-textitem-edit-icon{display:none}.adf-property-field.adf-card-textitem-field:hover .adf-property-clear-value{color:var(--adf-card-view-text-color);display:inline}.adf-property-field.adf-card-textitem-field:hover .adf-property-clear-value:hover{color:var(--theme-text-fg-color)}"]}]}],ha.ctorParameters=function(){return[{type:sa},{type:Mn},{type:Ze},{type:t.ChangeDetectorRef}]},ha.propDecorators={editable:[{type:t.Input}],displayEmpty:[{type:t.Input}],copyToClipboardAction:[{type:t.Input}],useChipsForMultiValueProperty:[{type:t.Input}],multiValueSeparator:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ga=function(){this.displayEmpty=!0,this.displayNoneOption=!0,this.displayClearAction=!0,this.copyToClipboardAction=!0,this.useChipsForMultiValueProperty=!0,this.multiValueSeparator=pa};ga.decorators=[{type:t.Component,args:[{selector:"adf-card-view",template:'<div class="adf-property-list">\n    <div *ngFor="let property of properties">\n        <div [attr.data-automation-id]="\'header-\'+property.key" class="adf-property">\n            <adf-card-view-item-dispatcher\n                [property]="property"\n                [editable]="editable"\n                [displayEmpty]="displayEmpty"\n                [displayNoneOption]="property[\'displayNoneOption\'] !== undefined ? property[\'displayNoneOption\'] : displayNoneOption"\n                [displayClearAction]="displayClearAction"\n                [copyToClipboardAction]="copyToClipboardAction"\n                [useChipsForMultiValueProperty]="useChipsForMultiValueProperty"\n                [multiValueSeparator]="multiValueSeparator">\n            </adf-card-view-item-dispatcher>\n        </div>\n    </div>\n</div>\n',encapsulation:t.ViewEncapsulation.None,styles:[".adf-property-list .adf-property{margin-bottom:20px}.adf-property-list .adf-property .adf-property-value-padding-top{margin-top:6px}.adf-property-list .adf-property .adf-property-field{margin-bottom:-25px;width:100%}.adf-property-list .adf-property .adf-property-field .mat-form-field-infix{border-top-width:0}.adf-property-list .adf-property .adf-property-field .mat-form-field-label{margin-top:6px}.adf-property-list .adf-property .adf-property-field .adf-property-read-only .mat-form-field-underline,.adf-property-list .adf-property .adf-property-read-only .mat-form-field-underline{display:none}.adf-property-list .adf-property .adf-property-label{color:var(--theme-text-color);font-size:12px;word-wrap:break-word}.adf-property-list .adf-property .adf-property-value,.adf-property-list .adf-property .mat-form-field-label{color:var(--theme-text-bold-color);font-size:14px}"]}]}],ga.propDecorators={properties:[{type:t.Input}],editable:[{type:t.Input}],displayEmpty:[{type:t.Input}],displayNoneOption:[{type:t.Input}],displayClearAction:[{type:t.Input}],copyToClipboardAction:[{type:t.Input}],useChipsForMultiValueProperty:[{type:t.Input}],multiValueSeparator:[{type:t.Input}]};var ya=function(e){function t(t){return e.call(this,t)||this}return ae(t,e),t.prototype.isEditable=function(){return this.editable&&this.property.editable},t.prototype.changed=function(e){this.cardViewUpdateService.update(Object.assign({},this.property),e.checked),this.property.value=e.checked},t}(da);ya.decorators=[{type:t.Component,args:[{selector:"adf-card-view-boolitem",template:'<ng-container *ngIf="!property.isEmpty() || isEditable()">\n    <div class="adf-property-value">\n        <mat-checkbox [attr.data-automation-id]="\'card-boolean-\' + property.key"\n                      [attr.title]="\'CORE.METADATA.ACTIONS.TOGGLE\' | translate"\n                      [checked]="property.displayValue"\n                      [disabled]="!isEditable()"\n                      color="primary"\n                      (change)="changed($event)">\n            <div [attr.data-automation-id]="\'card-boolean-label-\' + property.key"\n                 class="adf-property-label">{{ property.label | translate }}</div>\n        </mat-checkbox>\n    </div>\n</ng-container>\n'}]}],ya.ctorParameters=function(){return[{type:sa}]},ya.propDecorators={editable:[{type:t.Input}]};var va=ue,ba=X.MAT_MOMENT_DATETIME_FORMATS,wa=function(t){function n(e,n,i,a,r,l){var s=t.call(this,e)||this;return s.dateAdapter=n,s.userPreferencesService=i,s.appConfig=a,s.clipboardService=r,s.translateService=l,s.editable=!1,s.displayEmpty=!0,s.displayClearAction=!0,s.onDestroy$=new o.Subject,s.dateFormat=s.appConfig.get("dateValues.defaultDateFormat"),s}return ae(n,t),n.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(e.UserPreferenceValues.Locale).pipe(s.takeUntil(this.onDestroy$)).subscribe((function(e){t.dateAdapter.setLocale(e),t.property.locale=e})),this.dateAdapter.overrideDisplayFormat="MMM DD",this.property.value?this.valueDate=a(this.property.value,this.dateFormat):this.property.multivalued&&!this.property.value&&(this.property.value=[])},n.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},n.prototype.showProperty=function(){return this.displayEmpty||!this.property.isEmpty()},n.prototype.showClearAction=function(){return this.displayClearAction&&(!this.property.isEmpty()||!!this.property.default)},n.prototype.isEditable=function(){return this.editable&&this.property.editable},n.prototype.showDatePicker=function(){this.datepicker.open()},n.prototype.onDateChanged=function(e){if(e){var t=a(e.value,this.dateFormat,!0);t.isValid()&&(this.valueDate=t,this.property.value=t.toDate(),this.update())}},n.prototype.onDateClear=function(){this.valueDate=null,this.cardViewUpdateService.update(Object.assign({},this.property),null),this.property.value=null,this.property.default=null},n.prototype.copyToClipboard=function(e){var t=this.translateService.instant("CORE.METADATA.ACCESSIBILITY.COPY_TO_CLIPBOARD_MESSAGE");this.clipboardService.copyContentToClipboard(e,t)},n.prototype.addDateToList=function(e){if(e){var t=a(e.value,this.dateFormat,!0);t.isValid()&&(this.property.value.push(t.toDate()),this.update())}},n.prototype.removeValueFromList=function(e){this.property.value.splice(e,1),this.update()},n.prototype.update=function(){this.cardViewUpdateService.update(Object.assign({},this.property),this.property.value)},n}(da);wa.decorators=[{type:t.Component,args:[{providers:[{provide:n.DateAdapter,useClass:me},{provide:n.MAT_DATE_FORMATS,useValue:va},{provide:c.DatetimeAdapter,useClass:X.MomentDatetimeAdapter},{provide:c.MAT_DATETIME_FORMATS,useValue:ba}],selector:"adf-card-view-dateitem",template:'<div class="adf-property-label"\n     [attr.data-automation-id]="\'card-dateitem-label-\' + property.key"\n     *ngIf="showProperty() || isEditable()">\n    {{ property.label | translate }}\n</div>\n\n<div class="adf-property-value adf-property-value-padding-top">\n    <span *ngIf="!isEditable() && !property.multivalued"\n          [attr.data-automation-id]="\'card-\' + property.type + \'-value-\' + property.key">\n        <span *ngIf="showProperty()"\n              [attr.data-automation-id]="\'card-dateitem-\' + property.key"\n              (dblclick)="copyToClipboard(property.displayValue)"\n              matTooltipShowDelay="1000"\n              [matTooltip]="\'CORE.METADATA.ACTIONS.COPY_TO_CLIPBOARD\' | translate">{{ property.displayValue}}</span>\n    </span>\n    <div *ngIf="isEditable() && !property.multivalued"\n         class="adf-dateitem-editable">\n        <div class="adf-dateitem-editable-controls">\n            <span class="adf-datepicker-toggle"\n                  [attr.data-automation-id]="\'datepicker-label-toggle-\' + property.key"\n                  (click)="showDatePicker()">\n                <span *ngIf="showProperty(); else elseEmptyValueBlock"\n                      [attr.data-automation-id]="\'card-\' + property.type + \'-value-\' + property.key">\n                    {{ property.displayValue }}</span>\n            </span>\n\n            <mat-icon *ngIf="showClearAction()"\n                      class="adf-date-reset-icon"\n                      (click)="onDateClear()"\n                      [attr.title]="\'CORE.METADATA.ACTIONS.CLEAR\' | translate"\n                      [attr.data-automation-id]="\'datepicker-date-clear-\' + property.key">\n                clear\n            </mat-icon>\n\n            <mat-datetimepicker-toggle [attr.tabindex]="-1"\n                                       [attr.title]="\'CORE.METADATA.ACTIONS.EDIT\' | translate"\n                                       [attr.data-automation-id]="\'datepickertoggle-\' + property.key"\n                                       [for]="datetimePicker">\n            </mat-datetimepicker-toggle>\n        </div>\n\n        <input class="adf-invisible-date-input"\n               [attr.tabIndex]="-1"\n               [matDatetimepicker]="datetimePicker"\n               [value]="valueDate"\n               (dateChange)="onDateChanged($event)">\n\n        <mat-datetimepicker #datetimePicker\n                            [type]="$any(property).type"\n                            [timeInterval]="5"\n                            [attr.data-automation-id]="\'datepicker-\' + property.key"\n                            [startAt]="valueDate">\n        </mat-datetimepicker>\n    </div>\n    <ng-template #elseEmptyValueBlock>\n        {{ property.default | translate }}\n    </ng-template>\n\n    <div *ngIf="property.multivalued"\n         class="adf-property-field adf-dateitem-chip-list-container adf-dateitem-editable">\n        <mat-chip-list #chipList\n                       class="adf-textitem-chip-list">\n            <mat-chip *ngFor="let propertyValue of property.displayValue; let idx = index"\n                      [removable]="isEditable()"\n                      (removed)="removeValueFromList(idx)">\n                {{ propertyValue }}\n                <mat-icon *ngIf="isEditable()"\n                          matChipRemove>cancel</mat-icon>\n            </mat-chip>\n        </mat-chip-list>\n\n        <mat-form-field *ngIf="isEditable()"\n                        class="adf-property-field adf-dateitem-editable-controls"\n                        [floatLabel]="\'never\'"\n                        (click)="showDatePicker()">\n            <input matInput\n                   class="adf-invisible-date-input"\n                   [attr.tabIndex]="-1"\n                   [matDatetimepicker]="datetimePicker"\n                   (dateChange)="addDateToList($event)">\n            <mat-datetimepicker-toggle [attr.tabindex]="-1"\n                                       matSuffix\n                                       [attr.title]="\'CORE.METADATA.ACTIONS.EDIT\' | translate"\n                                       [attr.data-automation-id]="\'datepickertoggle-\' + property.key"\n                                       [for]="datetimePicker">\n            </mat-datetimepicker-toggle>\n\n            <mat-datetimepicker #datetimePicker\n                                [type]="$any(property).type"\n                                [timeInterval]="5"\n                                [attr.data-automation-id]="\'datepicker-\' + property.key"\n                                [startAt]="valueDate">\n            </mat-datetimepicker>\n        </mat-form-field>\n    </div>\n</div>\n',encapsulation:t.ViewEncapsulation.None,styles:[".adf-invisible-date-input{border:none;float:right;height:2px;margin:0;opacity:0;overflow:hidden;padding:0;width:0}.adf-dateitem-chip-list-container.adf-property-field{border-bottom:0;cursor:pointer;margin-bottom:-7px!important}.adf-dateitem-chip-list-container.adf-property-field .adf-dateitem-editable-controls{margin-top:15px}.adf-dateitem-chip-list-container.adf-property-field .mat-datetimepicker-toggle{position:absolute;right:0;top:-20px}.adf-dateitem-editable{border-bottom:1px solid var(--adf-card-view-datetime-border-color);cursor:pointer;padding-bottom:6px}.adf-dateitem-editable-controls{align-items:center;display:flex;justify-content:space-between}.adf-dateitem-editable-controls button.mat-icon-button{height:20px;line-height:20px;width:20px}.adf-dateitem-editable-controls mat-icon{height:16px;opacity:.5;width:16px}.adf-dateitem-editable-controls:hover mat-icon{opacity:1}.adf-dateitem-editable-controls .adf-datepicker-toggle{flex:1 0 auto}.adf-dateitem-editable-controls mat-icon.adf-date-reset-icon{font-size:16px;height:16px;line-height:10px;opacity:.3;padding-left:8px;position:relative;top:4px;width:16px}.adf-dateitem-editable-controls:hover mat-icon.adf-date-reset-icon{opacity:1}"]}]}],wa.ctorParameters=function(){return[{type:sa},{type:n.DateAdapter},{type:Je},{type:Ie},{type:Mn},{type:Ze}]},wa.propDecorators={property:[{type:t.Input}],editable:[{type:t.Input}],displayEmpty:[{type:t.Input}],displayClearAction:[{type:t.Input}],datepicker:[{type:t.ViewChild,args:["datetimePicker"]}]};var Ia=function(e){function t(t){var n=e.call(this,t)||this;return n.displayEmpty=!0,n}return ae(t,e),t.prototype.showProperty=function(){return this.displayEmpty||!this.property.isEmpty()},t.prototype.isClickable=function(){return this.property.clickable},t.prototype.clicked=function(){this.cardViewUpdateService.clicked(this.property)},t}(da);Ia.decorators=[{type:t.Component,args:[{selector:"adf-card-view-mapitem",template:'<div [attr.data-automation-id]="\'card-mapitem-label-\' + property.key"\n     class="adf-property-label"\n     *ngIf="showProperty()">{{ property.label | translate }}</div>\n<div class="adf-property-value adf-map-item-padding">\n    <div>\n        <span *ngIf="!isClickable(); else clickableTemplate"\n              [attr.data-automation-id]="\'card-mapitem-value-\' + property.key">\n            <span *ngIf="showProperty();">{{ property.displayValue }}</span>\n        </span>\n    </div>\n    <ng-template #clickableTemplate>\n        <span class="adf-mapitem-clickable-value"\n              (click)="clicked()"\n              [attr.data-automation-id]="\'card-mapitem-value-\' + property.key">\n            <span *ngIf="showProperty(); else emptyValueTemplate">{{ property.displayValue }}</span>\n        </span>\n    </ng-template>\n    <ng-template #emptyValueTemplate>\n        {{ property.default | translate }}\n    </ng-template>\n</div>\n',styles:[".adf-mapitem-clickable-value{cursor:pointer!important}.adf-map-item-padding{padding-top:6px}"]}]}],Ia.ctorParameters=function(){return[{type:sa}]},Ia.propDecorators={property:[{type:t.Input}],displayEmpty:[{type:t.Input}]};var Ea=function(e){function t(t,n){var i=e.call(this,t)||this;return i.appConfig=n,i.editable=!1,i.displayNoneOption=!0,i.displayEmpty=!0,i.filter$=new o.BehaviorSubject(""),i.showInputFilter=!1,i.onDestroy$=new o.Subject,i.list$=null,i}return ae(t,e),t.prototype.ngOnChanges=function(){this.value=this.property.value},t.prototype.ngOnInit=function(){var e=this;this.getOptions().pipe(s.takeUntil(this.onDestroy$)).subscribe((function(t){e.showInputFilter=t.length>e.optionsLimit})),this.list$=this.getList()},t.prototype.onFilterInputChange=function(e){this.filter$.next(e.toString())},t.prototype.isEditable=function(){return this.editable&&this.property.editable},t.prototype.getOptions=function(){return this.options$||this.property.options$},t.prototype.getList=function(){return o.combineLatest([this.getOptions(),this.filter$]).pipe(s.map((function(e){var t=se(e,2),n=t[0],i=t[1];return n.filter((function(e){return!i||e.label.toLowerCase().includes(i.toLowerCase())}))})),s.takeUntil(this.onDestroy$))},t.prototype.onChange=function(e){var t=void 0!==e.value?e.value:null;this.cardViewUpdateService.update(Object.assign({},this.property),t),this.property.value=t},t.prototype.showNoneOption=function(){return this.displayNoneOption},Object.defineProperty(t.prototype,"showProperty",{get:function(){return this.displayEmpty||!this.property.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.ngOnDestroy=function(){this.onDestroy$.next(),this.onDestroy$.complete()},Object.defineProperty(t.prototype,"optionsLimit",{get:function(){return this.appConfig.get("content-metadata.selectFilterLimit",t.HIDE_FILTER_LIMIT)},enumerable:!1,configurable:!0}),t}(da);Ea.HIDE_FILTER_LIMIT=5,Ea.decorators=[{type:t.Component,args:[{selector:"adf-card-view-selectitem",template:'<ng-container *ngIf="!property.isEmpty() || isEditable()">\n    <div [attr.data-automation-id]="\'card-select-label-\' + property.key"\n        class="adf-property-label">{{ property.label | translate }}</div>\n    <div class="adf-property-field">\n        <div *ngIf="!isEditable()"\n            class="adf-select-item-padding adf-property-value"\n            [attr.data-automation-id]="\'select-readonly-value-\' + property.key"\n            data-automation-class="read-only-value">{{ (property.displayValue | async) | translate }}</div>\n        <div *ngIf="isEditable()">\n            <mat-form-field class="adf-select-item-padding-editable adf-property-value">\n                <mat-select [(value)]="value"\n                            panelClass="adf-select-filter"\n                            (selectionChange)="onChange($event)"\n                            data-automation-class="select-box">\n\n                    <adf-select-filter-input *ngIf="showInputFilter" (change)="onFilterInputChange($event)"></adf-select-filter-input>\n\n                    <mat-option *ngIf="showNoneOption()">{{ \'CORE.CARDVIEW.NONE\' | translate }}</mat-option>\n                    <mat-option *ngFor="let option of list$ | async"\n                                [value]="option.key">\n                        {{ option.label | translate }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n        </div>\n    </div>\n</ng-container>\n',styles:[".mat-form-field-type-mat-select{width:100%}.adf-select-item-padding{padding-bottom:20px;padding-top:6px}.adf-select-item-padding-editable{padding-bottom:6px;padding-top:6px}"]}]}],Ea.ctorParameters=function(){return[{type:sa},{type:Ie}]},Ea.propDecorators={editable:[{type:t.Input}],options$:[{type:t.Input}],displayNoneOption:[{type:t.Input}],displayEmpty:[{type:t.Input}]};var Ca=function(e){function t(t){var n=e.call(this,t)||this;return n.editable=!1,n}return ae(t,e),t.prototype.ngOnChanges=function(){this.values=this.property.value||[],this.matTableValues=new L.MatTableDataSource(this.values)},t.prototype.isEditable=function(){return this.editable&&this.property.editable},t.prototype.add=function(){this.values.push({name:"",value:""})},t.prototype.remove=function(e){this.values.splice(e,1),this.save(!0)},t.prototype.onBlur=function(e){e.length&&this.save()},t.prototype.save=function(e){var t=this.values.filter((function(e){return e.name.length&&e.value.length}));(e||t.length)&&(this.cardViewUpdateService.update(Object.assign({},this.property),t),this.property.value=t)},t}(da);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function xa(e){return function(){return e}}Ca.decorators=[{type:t.Component,args:[{selector:"adf-card-view-boolitem",template:'<div [attr.data-automation-id]="\'card-key-value-pairs-label-\' + property.key"\n     class="adf-property-label">{{ property.label | translate }}</div>\n<div class="adf-property-field">\n\n    <div *ngIf="!isEditable()"\n         class="adf-card-view__key-value-pairs__read-only adf-property-value">\n        <mat-table #table\n                   [dataSource]="matTableValues"\n                   class="mat-elevation-z8">\n            <ng-container matColumnDef="name">\n                <mat-header-cell *matHeaderCellDef>{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.NAME\' | translate }}\n                </mat-header-cell>\n                <mat-cell *matCellDef="let item">{{item.name}}</mat-cell>\n            </ng-container>\n            <ng-container matColumnDef="value">\n                <mat-header-cell *matHeaderCellDef>{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.VALUE\' | translate }}\n                </mat-header-cell>\n                <mat-cell *matCellDef="let item">{{item.value}}</mat-cell>\n            </ng-container>\n\n            <mat-header-row *matHeaderRowDef="[\'name\', \'value\']"></mat-header-row>\n            <mat-row *matRowDef="let row; columns: [\'name\', \'value\'];"></mat-row>\n        </mat-table>\n    </div>\n\n\n    <div class="adf-card-view__key-value-pairs adf-property-value"\n         *ngIf="isEditable() && values && values.length">\n        <div class="adf-card-view__key-value-pairs__row">\n            <div class="adf-card-view__key-value-pairs__col">{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.NAME\' | translate }}</div>\n            <div class="adf-card-view__key-value-pairs__col">{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.VALUE\' | translate }}</div>\n        </div>\n\n        <div class="adf-card-view__key-value-pairs__row"\n             *ngFor="let item of values; let i = index">\n            <div class="adf-card-view__key-value-pairs__col">\n                <mat-form-field>\n                    <input matInput\n                           placeholder="{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.NAME\' | translate }}"\n                           (blur)="onBlur(item.value)"\n                           [attr.data-automation-id]="\'card-\'+ property.key +\'-name-input-\' + i"\n                           [(ngModel)]="values[i].name">\n                </mat-form-field>\n            </div>\n            <div class="adf-card-view__key-value-pairs__col">\n                <mat-form-field>\n                    <input matInput\n                           placeholder="{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.VALUE\' | translate }}"\n                           (blur)="onBlur(item.value)"\n                           [attr.data-automation-id]="\'card-\'+ property.key +\'-value-input-\' + i"\n                           [(ngModel)]="values[i].value">\n                    <button matSuffix\n                            mat-icon-button\n                            (click)="remove(i)"\n                            class="adf-card-view__key-value-pairs__remove-btn">\n                        <mat-icon>close</mat-icon>\n                    </button>\n                </mat-form-field>\n            </div>\n        </div>\n    </div>\n    <div *ngIf="isEditable()"\n         class="adf-property-value adf-card-view__key-value-pairs__add-btn-container">\n        <button (click)="add()"\n                mat-button\n                class="adf-card-view__key-value-pairs__add-btn"\n                [attr.data-automation-id]="\'card-key-value-pairs-button-\' + property.key">\n            {{ \'CORE.CARDVIEW.KEYVALUEPAIRS.ADD\' | translate }}\n            <mat-icon>add</mat-icon>\n        </button>\n    </div>\n</div>\n',encapsulation:t.ViewEncapsulation.None,styles:[".adf-card-view__key-value-pairs__row{display:flex;justify-content:center}.adf-card-view__key-value-pairs__col{width:50%}.adf-card-view__key-value-pairs__col .mat-form-field{font-size:14px;width:100%}.adf-card-view__key-value-pairs__col .mat-form-field-appearance-legacy .mat-form-field-label{color:var(--adf-card-view-label-color)!important}.adf-card-view__key-value-pairs__add-btn-container{display:flex;justify-content:center}.adf-card-view__key-value-pairs__add-btn.mat-button{margin-bottom:20px}.adf-card-view__key-value-pairs__read-only{padding-bottom:20px}.adf-card-view__key-value-pairs__read-only .mat-table{box-shadow:none}.adf-card-view__key-value-pairs__read-only .mat-header-row,.adf-card-view__key-value-pairs__read-only .mat-row{padding:0}"]}]}],Ca.ctorParameters=function(){return[{type:sa}]},Ca.propDecorators={editable:[{type:t.Input}]};var Sa=function(){function e(){}return e.fromType=function(e){return xa(e)},e}(),Ta=function(){function e(){this.defaultValue=void 0,this.types={}}return e.prototype.getComponentTypeResolver=function(e,t){return void 0===t&&(t=this.defaultValue),e&&this.types[e]||Sa.fromType(t)},e.prototype.setComponentTypeResolver=function(e,t,n){if(void 0===n&&(n=!0),!e)throw new Error("type is null or not defined");if(!t)throw new Error("resolver is null or not defined");if(this.types[e]&&!n)throw new Error("already mapped, use override option if you intend replacing existing mapping.");this.types[e]=t},e.prototype.register=function(e,t){var n,i;if(void 0===t&&(t=!1),e)try{for(var a=le(Object.keys(e)),o=a.next();!o.done;o=a.next()){var r=o.value;this.setComponentTypeResolver(r,e[r],t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.resolveComponentType=function(e,t){return void 0===t&&(t=this.defaultValue),e?this.getComponentTypeResolver(e.type,t)(e):t},e}(),Aa=function(e){function t(t){return e.call(this,t)||this}return ae(t,e),t.prototype.clicked=function(){this.isClickable()&&this.cardViewUpdateService.clicked(this.property)},t.prototype.showClickableIcon=function(){return this.hasIcon()&&this.isClickable()},t.prototype.hasIcon=function(){return!!this.property.icon},t.prototype.displayCount=function(){return this.property.noOfItemsToDisplay?this.property.noOfItemsToDisplay:0},t.prototype.isClickable=function(){return!!this.property.clickable},t}(da);Aa.decorators=[{type:t.Component,args:[{selector:"adf-card-view-arrayitem",template:'<div [attr.data-automation-id]="\'card-array-label-\' + property.key" class="adf-property-label">{{ property.label | translate }}</div>\n<div class="adf-property-value adf-card-view-array-item-container" (click)="clicked()">\n    <ng-container *ngIf="(property.displayValue | async) as items; else elseEmptyValueBlock">\n        <mat-chip-list *ngIf="items.length > 0; else elseEmptyValueBlock" data-automation-id="card-arrayitem-chip-list-container">\n            <ng-container *ngIf="displayCount() > 0; else withOutDisplayCount" >\n                <mat-chip\n                    *ngFor="let item of items.slice(0, displayCount())"\n                    (click)="clicked()"\n                    [attr.data-automation-id]="\'card-arrayitem-chip-\' + item.value">\n                    <mat-icon *ngIf="item?.icon" class="adf-array-item-icon">{{item.icon}}</mat-icon>\n                    <span>{{item?.value}}</span>\n                </mat-chip>\n                <mat-chip\n                    *ngIf="items.length > displayCount()"\n                    data-automation-id="card-arrayitem-more-chip"\n                    [matMenuTriggerFor]="menu">\n                    <span>{{items.length - displayCount()}} {{\'CORE.CARDVIEW.MORE\' | translate}}</span>\n                </mat-chip>\n            </ng-container>\n            <ng-template #withOutDisplayCount>\n                <mat-chip\n                    *ngFor="let item of items"\n                    (click)="clicked()"\n                    [attr.data-automation-id]="\'card-arrayitem-chip-\' + item.value">\n                    <mat-icon *ngIf="item?.icon" class="adf-array-item-icon">{{item.icon}}</mat-icon>\n                    <span>{{item?.value}}</span>\n                </mat-chip>\n            </ng-template>\n        </mat-chip-list>\n        <mat-menu #menu="matMenu">\n            <mat-card class="adf-array-item-more-chip-container">\n                <mat-card-content>\n                    <mat-chip-list>\n                        <mat-chip (click)="clicked()"\n                            *ngFor="let item of items.slice(displayCount(), items.length)"\n                            [attr.data-automation-id]="\'card-arrayitem-chip-\' + item.value">\n                        <mat-icon *ngIf="item?.icon" class="adf-array-item-icon">{{item.icon}}</mat-icon>\n                        <span>{{item?.value}}</span>\n                        </mat-chip>\n                    </mat-chip-list>\n                </mat-card-content>\n            </mat-card>\n        </mat-menu>\n    </ng-container>\n    <ng-template #elseEmptyValueBlock>\n        <span class="adf-card-array-item-default" data-automation-id="card-arrayitem-default">{{ property?.default | translate }}</span>\n    </ng-template>\n    <button mat-icon-button *ngIf="showClickableIcon()"\n        class="adf-array-item-action"\n        [attr.aria-label]="\'CORE.METADATA.ACTIONS.EDIT\' | translate"\n        [attr.title]="\'CORE.METADATA.ACTIONS.EDIT\' | translate"\n        [attr.data-automation-id]="\'card-array-item-clickable-icon-\' + property.key">\n        <mat-icon class="adf-array-item-icon">{{property.icon}}</mat-icon>\n    </button>\n</div>\n',encapsulation:t.ViewEncapsulation.None,styles:[".adf-array-item-icon{font-size:16px;padding-top:8px}.adf-array-item-action{color:var(--adf-card-view-text-color)}.adf-array-item-action:focus,.adf-array-item-action:hover{color:var(--theme-text-fg-color)}.adf-card-array-item-default{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.adf-array-item-more-chip-container.mat-card{box-shadow:none;max-height:300px;overflow-y:auto}.adf-array-item-more-chip-container .mat-chip{cursor:pointer}.adf-property-value .mat-chip-list{cursor:pointer;padding-top:6px;width:100%}.adf-property-value .mat-chip{cursor:pointer}.adf-card-view-array-item-container{align-items:center;box-sizing:border-box;display:flex;flex-direction:row;place-content:center space-between}"]}]}],Aa.ctorParameters=function(){return[{type:sa}]};var Oa=function(e){function t(){var t=e.apply(this,de(arguments))||this;return t.defaultValue=ha,t.types={text:Sa.fromType(ha),select:Sa.fromType(Ea),int:Sa.fromType(ha),float:Sa.fromType(ha),date:Sa.fromType(wa),datetime:Sa.fromType(wa),bool:Sa.fromType(ya),map:Sa.fromType(Ia),keyvaluepairs:Sa.fromType(Ca),array:Sa.fromType(Aa)},t}return ae(t,e),t}(Ta);Oa.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Oa},token:Oa,providedIn:"root"}),Oa.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ra=function(e){this.viewContainerRef=e};Ra.decorators=[{type:t.Directive,args:[{selector:"[adf-card-view-content-proxy]"}]}],Ra.ctorParameters=function(){return[{type:t.ViewContainerRef}]};var Da=function(){function e(e,t){var n=this;this.cardItemTypeService=e,this.resolver=t,this.displayEmpty=!0,this.displayNoneOption=!0,this.displayClearAction=!0,this.copyToClipboardAction=!0,this.useChipsForMultiValueProperty=!0,this.multiValueSeparator=pa,this.loaded=!1,this.componentReference=null;["ngOnInit","ngDoCheck","ngAfterContentInit","ngAfterContentChecked","ngAfterViewInit","ngAfterViewChecked","ngOnDestroy"].forEach((function(e){n[e]=n.proxy.bind(n,e)}))}return e.prototype.ngOnChanges=function(e){var t=this;this.loaded||(this.loadComponent(),this.loaded=!0),Object.keys(e).map((function(t){return[t,e[t]]})).forEach((function(e){var n=se(e,2),i=n[0],a=n[1];t.componentReference.instance[i]=a.currentValue})),this.proxy("ngOnChanges",e)},e.prototype.loadComponent=function(){var e=this.cardItemTypeService.resolveComponentType(this.property),t=this.resolver.resolveComponentFactory(e);this.componentReference=this.content.viewContainerRef.createComponent(t),this.componentReference.instance.editable=this.editable,this.componentReference.instance.property=this.property,this.componentReference.instance.displayEmpty=this.displayEmpty,this.componentReference.instance.displayNoneOption=this.displayNoneOption,this.componentReference.instance.displayClearAction=this.displayClearAction,this.componentReference.instance.copyToClipboardAction=this.copyToClipboardAction,this.componentReference.instance.useChipsForMultiValueProperty=this.useChipsForMultiValueProperty,this.componentReference.instance.multiValueSeparator=this.multiValueSeparator},e.prototype.proxy=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.componentReference.instance[e]&&this.componentReference.instance[e].apply(this.componentReference.instance,t)},e}();Da.decorators=[{type:t.Component,args:[{selector:"adf-card-view-item-dispatcher",template:"<ng-template adf-card-view-content-proxy></ng-template>"}]}],Da.ctorParameters=function(){return[{type:Oa},{type:t.ComponentFactoryResolver}]},Da.propDecorators={property:[{type:t.Input}],editable:[{type:t.Input}],displayEmpty:[{type:t.Input}],displayNoneOption:[{type:t.Input}],displayClearAction:[{type:t.Input}],copyToClipboardAction:[{type:t.Input}],useChipsForMultiValueProperty:[{type:t.Input}],multiValueSeparator:[{type:t.Input}],content:[{type:t.ViewChild,args:[Ra,{static:!0}]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Pa=function(){function e(e){this.matSelect=e,this.change=new t.EventEmitter,this.term="",this.onDestroy$=new o.Subject}return e.prototype.onModelChange=function(e){this.change.next(e)},e.prototype.ngOnInit=function(){var e=this;this.change.pipe(s.takeUntil(this.onDestroy$)).subscribe((function(t){return e.term=t})),this.matSelect.openedChange.pipe(s.takeUntil(this.onDestroy$)).subscribe((function(t){t?e.selectFilterInput.nativeElement.focus():e.change.next("")}))},e.prototype.reset=function(e){e&&e.stopPropagation(),this.change.next(""),this.selectFilterInput.nativeElement.focus()},e.prototype.handleKeydown=function(e){this.term&&(e.keyCode===z.ESCAPE&&(event.stopPropagation(),this.change.next("")),"INPUT"===e.target.tagName&&e.keyCode===z.TAB&&event.stopPropagation())},e.prototype.ngOnDestroy=function(){this.onDestroy$.next(),this.onDestroy$.complete()},e}();Pa.decorators=[{type:t.Component,args:[{selector:"adf-select-filter-input",template:'\n<div class="adf-select-filter-input-container">\n    <mat-form-field>\n        <input matInput\n            autocomplete="off"\n            (keydown)="handleKeydown($event)"\n            [placeholder]="\'SELECT_FILTER.INPUT.PLACEHOLDER\' | translate"\n            #selectFilterInput\n            [ngModel]="term"\n            (ngModelChange)="onModelChange($event)"\n            [attr.aria-label]="\'SELECT_FILTER.INPUT.ARIA_LABEL\' | translate"\n            (change)="$event.stopPropagation()"\n        />\n\n        <button mat-button\n            matSuffix\n            mat-icon-button\n            [attr.aria-label]="\'SELECT_FILTER.BUTTON.ARIA_LABEL\' | translate"\n            *ngIf="term"\n            (keydown.enter)="reset($event)"\n            (click)="reset()">\n            <mat-icon>close</mat-icon>\n        </button>\n    </mat-form-field>\n</div>\n',host:{class:"adf-select-filter-input"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-select-filter-input{display:flex;height:4em}.adf-select-filter-input .adf-select-filter-input-container{background:var(--theme-card-bg-color);color:var(--theme-text-bold-color);display:flex;font-size:14px;height:4em;line-height:3em;padding:5px 16px 0;position:absolute;top:0;width:100%;z-index:100}.adf-select-filter-input .mat-form-field{width:100%}.mat-select-panel.adf-select-filter{max-height:calc(256px + 4em);overflow-x:hidden!important;transform:none!important}"]}]}],Pa.ctorParameters=function(){return[{type:R.MatSelect,decorators:[{type:t.Inject,args:[R.MatSelect]}]}]},Pa.propDecorators={selectFilterInput:[{type:t.ViewChild,args:["selectFilterInput",{read:t.ElementRef,static:!1}]}],change:[{type:t.Output}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var _a=function(){function e(){this.message="CORE.CARDVIEW.VALIDATORS.INT_VALIDATION_ERROR"}return e.prototype.isValid=function(e){return Array.isArray(e)?e.every(this.isIntegerNumber):""===e||!isNaN(e)&&this.isIntegerNumber(e)},e.prototype.isIntegerNumber=function(e){var t=Number(e);return(0|t)===t},e}(),La=function(){function e(){this.message="CORE.CARDVIEW.VALIDATORS.FLOAT_VALIDATION_ERROR"}return e.prototype.isValid=function(e){return Array.isArray(e)?e.every(this.isDecimalNumber):""===e||this.isDecimalNumber(e)},e.prototype.isDecimalNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e}(),Fa=function(){function e(e,t){this.expression=e,this.flags=t,this.message="CORE.CARDVIEW.VALIDATORS.MATCH_VALIDATION_ERROR"}return e.prototype.isValid=function(e){var t=new RegExp(this.expression,this.flags);return""===e||t.test(e)},e}(),ka=function(){function e(e,t){this.minValue=e,this.maxValue=t,this.message="CORE.CARDVIEW.VALIDATORS.MINMAX_VALIDATION_ERROR",this.intValidator=new _a}return e.prototype.isValid=function(e){return this.intValidator.isValid(e)&&e>=this.minValue&&e<=this.maxValue},e}(),Va=function(){function e(e,t){this.minLength=e,this.maxLength=t,this.message="CORE.CARDVIEW.VALIDATORS.LENGTH_VALIDATION_ERROR"}return e.prototype.isValid=function(e){void 0===e&&(e="");var t=e.length;return t>=this.minLength&&t<=this.maxLength},e}(),Na=function(e){return new ka(e.minValue,e.maxValue)},Ma=function(e){return new Fa(e.expression)},Ua=function(e){return new Va(e.minLength,e.maxLength)},ja={minmax:Na,regex:Ma,length:Ua},Ba=function(){function e(e){var t,n,i,a;if(this.label=e.label||"",this.value=e.value&&e.value.displayName||e.value,this.key=e.key,this.default=e.default,this.editable=!!e.editable,this.clickable=!!e.clickable,this.icon=e.icon||"",this.hint=e.hint||"",this.validators=e.validators||[],this.data=e.data||null,this.multivalued=!!e.multivalued,null!==(a=null===(i=null==e?void 0:e.constraints)||void 0===i?void 0:i.length)&&void 0!==a&&a)try{for(var o=le(e.constraints),r=o.next();!r.done;r=o.next()){var l=r.value;"LIST"!==l.type&&this.validators.push(ja[l.type.toLowerCase()](l.parameters))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}return e.prototype.isEmpty=function(){return void 0===this.value||null===this.value||0===this.value.length},e.prototype.isValid=function(e){return!this.validators.length||this.validators.map((function(t){return t.isValid(e)})).reduce((function(e,t){return e&&t}),!0)},e.prototype.getValidationErrors=function(e){return this.validators.length?this.validators.filter((function(t){return!t.isValid(e)})).map((function(e){return e})):[]},e}(),za=function(e){function t(t){var n=e.call(this,t)||this;return n.type="bool",n.value=!1,void 0!==t.value&&(n.value=!!JSON.parse(t.value)),n}return ae(t,e),Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.isEmpty()?this.default:this.value},enumerable:!1,configurable:!0}),t}(Ba),$a=function(e){function t(t){var n=e.call(this,t)||this;return n.type="date",t.format&&(n.format=t.format),t.locale&&(n.locale=t.locale),n}return ae(t,e),Object.defineProperty(t.prototype,"displayValue",{get:function(){var e=this;return this.multivalued?this.value?this.value.map((function(t){return e.transformDate(t)})):this.default?[this.default]:[]:this.value?this.transformDate(this.value):this.default},enumerable:!1,configurable:!0}),t.prototype.transformDate=function(e){return this.localizedDatePipe=new ct,this.localizedDatePipe.transform(e,this.format,this.locale)},t}(Ba),Ha=function(e){function t(t){var n=e.call(this,t)||this;return n.type="datetime",n.format="MMM d, y, H:mm",t.format&&(n.format=t.format),n}return ae(t,e),t}($a),qa=function(e){function t(t){var n=e.call(this,t)||this;return n.type="text",n.inputType="text",n.multiline=!!t.multiline,n.pipes=t.pipes||[],n.clickCallBack=t.clickCallBack?t.clickCallBack:null,n.default&&n.isEmpty()&&(n.value=n.default),n}return ae(t,e),Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.applyPipes(this.value)},enumerable:!1,configurable:!0}),t.prototype.applyPipes=function(e){return this.pipes.length&&(e=this.pipes.reduce((function(e,t){var n=t.pipe,i=t.params,a=void 0===i?[]:i;return n.transform.apply(n,de([e],a))}),e)),e},t}(Ba),Ya=function(e){function t(t){var n=e.call(this,t)||this;return n.type="float",n.inputType="number",n.validators.push(new La),t.value&&!t.multivalued&&(n.value=parseFloat(t.value)),n}return ae(t,e),Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.applyPipes(this.value)},enumerable:!1,configurable:!0}),t}(qa),Ga=function(e){function t(t){var n=e.call(this,t)||this;return n.type="int",n.inputType="number",n.validators.push(new _a),t.value&&!t.multivalued&&(n.value=parseInt(t.value,10)),n}return ae(t,e),Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.applyPipes(this.value)},enumerable:!1,configurable:!0}),t}(qa),Wa=function(e){function t(){var t=e.apply(this,de(arguments))||this;return t.type="map",t}return ae(t,e),Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.value&&this.value.size>0?this.value.values().next().value:this.default},enumerable:!1,configurable:!0}),t}(Ba),Xa=function(e){function t(t){var n=e.call(this,t)||this;return n.type="keyvaluepairs",n}return ae(t,e),Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.value},enumerable:!1,configurable:!0}),t}(Ba),Ka=function(e){function t(t){var n=e.call(this,t)||this;return n.type="select",n.valueFetch$=null,n.displayNoneOption=void 0===t.displayNoneOption||t.displayNoneOption,n.options$=t.options$,n.valueFetch$=n.options$.pipe(s.switchMap((function(e){var t=e.find((function(e){var t;return e.key===(null===(t=n.value)||void 0===t?void 0:t.toString())}));return o.of(t?t.label:"")}))),n}return ae(t,e),Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.valueFetch$},enumerable:!1,configurable:!0}),t.prototype.setValue=function(e){this.value=e},t}(Ba),Ja=function(e){function t(t){var n=e.call(this,t)||this;return n.type="array",n.noOfItemsToDisplay=t.noOfItemsToDisplay,n}return ae(t,e),Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.value},enumerable:!1,configurable:!0}),t}(Ba),Qa=function(){};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Qa.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,G.FormsModule,G.ReactiveFormsModule,W.FlexLayoutModule,u.TranslateModule,v.MatDatepickerModule,n.MatNativeDateModule,g.MatCheckboxModule,C.MatInputModule,L.MatTableModule,E.MatIconModule,R.MatSelectModule,m.MatButtonModule,y.MatChipsModule,S.MatMenuModule,h.MatCardModule,c.MatDatetimepickerModule,c.MatNativeDatetimeModule,P.MatSlideToggleModule,V.MatTooltipModule],declarations:[ga,ya,wa,Ia,ha,Ca,Ea,Da,Ra,Aa,Pa],exports:[ga,ya,wa,Ia,ha,Ea,Ca,Aa,Pa]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Za=function(t){function n(e,n,i){var a=t.call(this,n,i)||this;return a.storage=e,a}return ae(n,t),n.prototype.get=function(n,i){return n===e.AppConfigValues.OAUTHCONFIG?JSON.parse(this.storage.getItem(n))||t.prototype.get.call(this,n,i):n===e.AppConfigValues.APPLICATION?void 0:this.storage.getItem(n)||t.prototype.get.call(this,n,i)},n}(Ie);Za.decorators=[{type:t.Injectable}],Za.ctorParameters=function(){return[{type:Ee},{type:l.HttpClient},{type:d.ExtensionService}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var eo=function(){function e(e){this.config=e}return e.prototype.transform=function(e,t){return this.config.get(e,t)},e}();eo.decorators=[{type:t.Pipe,args:[{name:"adfAppConfig"}]}],eo.ctorParameters=function(){return[{type:Ie}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var to=function(){};to.decorators=[{type:t.NgModule,args:[{imports:[l.HttpClientModule],declarations:[eo],exports:[eo]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var no=function(e){function t(t,n,i,a,o){var r=e.call(this)||this;return r.reusable=!1,r.newVersion=!1,r.formImageBase64="",r.formRepresentation={id:t,name:n,description:"",version:1,lastUpdatedBy:1,lastUpdatedByFullName:i,lastUpdated:a,stencilSetId:0,referenceId:null,formDefinition:{fields:[{name:"Label",type:"container",fieldType:"ContainerRepresentation",numberOfColumns:2,required:!1,readOnly:!1,sizeX:2,sizeY:1,row:-1,col:-1,fields:{1:r.metadataToFields(o)}}],gridsterForm:!1,javascriptEvents:[],metadata:{},outcomes:[],className:"",style:"",tabs:[],variables:[]}},r}return ae(t,e),t.prototype.metadataToFields=function(e){var t=[];return e&&e.forEach((function(e){if(e){var n={type:"text",id:e.name,name:e.name,required:!1,readOnly:!1,sizeX:1,sizeY:1,row:-1,col:-1,colspan:1,params:{existingColspan:1,maxColspan:2},layout:{colspan:1,row:-1,column:-1}};t.push(n)}})),t},t}(r.FormSaveRepresentation),io=function(){function e(){}return e.isReadOnlyType=function(t){return e.READONLY_TYPES.includes(t)},e.isContainerType=function(t){return t===e.CONTAINER||t===e.GROUP},e}();
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */io.CONTAINER="container",io.GROUP="group",io.DYNAMIC_TABLE="dynamic-table",io.TEXT="text",io.MULTILINE_TEXT="multi-line-text",io.DROPDOWN="dropdown",io.HYPERLINK="hyperlink",io.RADIO_BUTTONS="radio-buttons",io.DISPLAY_VALUE="readonly",io.READONLY_TEXT="readonly-text",io.UPLOAD="upload",io.TYPEAHEAD="typeahead",io.FUNCTIONAL_GROUP="functional-group",io.PEOPLE="people",io.BOOLEAN="boolean",io.NUMBER="integer",io.DATE="date",io.AMOUNT="amount",io.DOCUMENT="document",io.DATETIME="datetime",io.ATTACH_FOLDER="select-folder",io.FILE_VIEWER="file-viewer",io.READONLY_TYPES=[io.HYPERLINK,io.DISPLAY_VALUE,io.READONLY_TEXT,io.GROUP];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ao,oo=function(e,t){this.form=e,this.json=t,t&&(this.fieldType=t.fieldType,this.id=t.id,this.name=t.name,this.type=t.type,this.tab=t.tab,this.field=t.field)},ro=function(){function e(t){this.json=t,t?(this.operator=t.operator,this.nextCondition=new e(t.nextCondition),this.nextConditionOperator=t.nextConditionOperator,this.rightRestResponseId=t.rightRestResponseId,this.rightFormFieldId=t.rightFormFieldId,this.leftFormFieldId=t.leftFormFieldId,this.leftRestResponseId=t.leftRestResponseId):this.json={}}return Object.defineProperty(e.prototype,"leftType",{get:function(){return this.leftFormFieldId?ao.field:this.leftRestResponseId?ao.variable:this.json.leftType?this.json.leftType:null},set:function(e){this.json.leftType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftValue",{get:function(){return this.json.leftValue?this.json.leftValue:this.leftFormFieldId?this.leftFormFieldId:this.leftRestResponseId},set:function(e){this.json.leftValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightType",{get:function(){return this.json.rightType?this.json.rightType:this.json.rightValue?ao.value:this.rightRestResponseId?ao.variable:this.rightFormFieldId?ao.field:null},set:function(e){this.json.rightType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightValue",{get:function(){return this.json.rightValue?this.json.rightValue:this.rightFormFieldId?this.rightFormFieldId:this.rightRestResponseId},set:function(e){this.json.rightValue=e},enumerable:!1,configurable:!0}),e}();
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(e){e.field="field",e.variable="variable",e.value="value"}(ao||(ao={}));
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var lo=function(){function e(){this.size=12,this.fields=[],this.colspan=1,this.rowspan=1}return e.prototype.hasFields=function(){return this.fields&&this.fields.length>0},e}(),so=function(){function e(e){this.message="",this.attributes=null,this.message=e&&e.message?e.message:"",this.attributes=new Map}return e.prototype.isActive=function(){return!!this.message},e.prototype.getAttributesAsJsonObj=function(){var e={};if(this.attributes.size>0){var t=Object.create(null);this.attributes.forEach((function(e,n){t[n]=e})),e=JSON.stringify(t)}return e},e}(),po=function(){function e(){this.supportedTypes=[io.TEXT,io.MULTILINE_TEXT,io.NUMBER,io.BOOLEAN,io.TYPEAHEAD,io.DROPDOWN,io.PEOPLE,io.FUNCTIONAL_GROUP,io.RADIO_BUTTONS,io.UPLOAD,io.AMOUNT,io.DYNAMIC_TABLE,io.DATE,io.DATETIME,io.ATTACH_FOLDER]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&e.required},e.prototype.validate=function(e){if(this.isSupported(e)&&e.isVisible){if(e.type===io.DROPDOWN){if(e.hasMultipleValues)return Array.isArray(e.value)&&!!e.value.length;if(e.hasEmptyValue&&e.emptyOption&&e.value===e.emptyOption.id)return!1}if(e.type===io.RADIO_BUTTONS)return!!e.options.find((function(t){return t.id===e.value}));if(e.type===io.UPLOAD)return e.value&&e.value.length>0;if(e.type===io.DYNAMIC_TABLE)return e.value&&e.value instanceof Array&&e.value.length>0;if(e.type===io.BOOLEAN)return!!e.value;if(null===e.value||void 0===e.value||""===e.value)return!1}return!0},e}(),uo=function(){function e(){this.supportedTypes=[io.NUMBER,io.AMOUNT]}return e.isNumber=function(e){return null!=e&&""!==e&&!isNaN(+e)},e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1},e.prototype.validate=function(e){if(this.isSupported(e)&&e.isVisible){if(null===e.value||void 0===e.value||""===e.value)return!0;var t=""+e.value,n=new RegExp(/^-?\d+$/);return e.enableFractions&&(n=new RegExp(/^-?[0-9]+(\.[0-9]{1,2})?$/)),t.match(n)?!0:(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_NUMBER",!1)}return!0},e}(),co=function(){function e(){this.supportedTypes=[io.DATE]}return e.isValidDate=function(e,t){return void 0===t&&(t="D-M-YYYY"),!!e&&a(e,t,!0).isValid()},e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1},e.prototype.validate=function(t){return!(this.isSupported(t)&&t.value&&t.isVisible)||(!!e.isValidDate(t.value,t.dateDisplayFormat)||(t.validationSummary.message=t.dateDisplayFormat,!1))},e}(),fo=function(){function e(){this.supportedTypes=[io.DATETIME]}return e.isValidDate=function(e,t){return void 0===t&&(t="YYYY-MM-DD HH:mm"),!!e&&a(e,t,!0).isValid()},e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1},e.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible)||(!!co.isValidDate(e.value,e.dateDisplayFormat)||(e.validationSummary.message=e.dateDisplayFormat,!1))},e}(),mo=function(){function e(){this.DATE_FORMAT_CLOUD="YYYY-MM-DD",this.DATE_FORMAT="DD-MM-YYYY",this.supportedTypes=[io.DATE]}return e.prototype.validate=function(e){var t=!0;if(this.isSupported(e)&&e.value&&e.isVisible){var n=e.dateDisplayFormat;co.isValidDate(e.value,n)?t=this.checkDate(e,n):(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_DATE",t=!1)}return t},e.prototype.extractDateFormat=function(e){return 4===e.split("-")[0].length?this.DATE_FORMAT_CLOUD:this.DATE_FORMAT},e}(),ho=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.checkDate=function(e,t){var n,i=!0;n="string"==typeof e.value?a(e.value.split("T")[0],t):e.value;var o=this.extractDateFormat(e.minValue),r=a(e.minValue,o);return n.isBefore(r)&&(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_LESS_THAN",e.validationSummary.attributes.set("minValue",r.format(e.dateDisplayFormat).toLocaleUpperCase()),i=!1),i},t.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&!!e.minValue},t}(mo),go=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.checkDate=function(e,t){var n,i=!0;n="string"==typeof e.value?a(e.value.split("T")[0],t):e.value;var o=this.extractDateFormat(e.maxValue),r=a(e.maxValue,o);return n.isAfter(r)&&(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_GREATER_THAN",e.validationSummary.attributes.set("maxValue",r.format(e.dateDisplayFormat).toLocaleUpperCase()),i=!1),i},t.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&!!e.maxValue},t}(mo),yo=function(){function e(){this.supportedTypes=[io.DATETIME],this.MIN_DATETIME_FORMAT="YYYY-MM-DD hh:mm AZ"}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&!!e.minValue},e.prototype.validate=function(e){var t=!0;if(this.isSupported(e)&&e.value&&e.isVisible){var n=e.dateDisplayFormat;co.isValidDate(e.value,n)?t=this.checkDateTime(e,n):(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_DATE",t=!1)}return t},e.prototype.checkDateTime=function(e,t){var n,i=!0;n="string"==typeof e.value?a(e.value,t):e.value;var o=a(e.minValue,this.MIN_DATETIME_FORMAT);return n.isBefore(o)&&(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_LESS_THAN",e.validationSummary.attributes.set("minValue",o.format(e.dateDisplayFormat).replace(":","-")),i=!1),i},e}(),vo=function(){function e(){this.supportedTypes=[io.DATETIME],this.MAX_DATETIME_FORMAT="YYYY-MM-DD hh:mm AZ"}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&!!e.maxValue},e.prototype.validate=function(e){var t=!0;if(this.isSupported(e)&&e.value&&e.isVisible){var n=e.dateDisplayFormat;co.isValidDate(e.value,n)?t=this.checkDateTime(e,n):(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_DATE",t=!1)}return t},e.prototype.checkDateTime=function(e,t){var n,i=!0;n="string"==typeof e.value?a(e.value,t):e.value;var o=a(e.maxValue,this.MAX_DATETIME_FORMAT);return n.isAfter(o)&&(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_GREATER_THAN",e.validationSummary.attributes.set("maxValue",o.format(e.dateDisplayFormat).replace(":","-")),i=!1),i},e}(),bo=function(){function e(){this.supportedTypes=[io.TEXT,io.MULTILINE_TEXT]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&e.minLength>0},e.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible)||(e.value.length>=e.minLength||(e.validationSummary.message="FORM.FIELD.VALIDATOR.AT_LEAST_LONG",e.validationSummary.attributes.set("minLength",e.minLength.toLocaleString()),!1))},e}(),wo=function(){function e(){this.supportedTypes=[io.TEXT,io.MULTILINE_TEXT]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&e.maxLength>0},e.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible)||(e.value.length<=e.maxLength||(e.validationSummary.message="FORM.FIELD.VALIDATOR.NO_LONGER_THAN",e.validationSummary.attributes.set("maxLength",e.maxLength.toLocaleString()),!1))},e}(),Io=function(){function e(){this.supportedTypes=[io.NUMBER,io.AMOUNT]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&uo.isNumber(e.minValue)},e.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible)||(+e.value>=+e.minValue||(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_LESS_THAN",e.validationSummary.attributes.set("minValue",e.minValue.toLocaleString()),!1))},e}(),Eo=function(){function e(){this.supportedTypes=[io.NUMBER,io.AMOUNT]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&uo.isNumber(e.maxValue)},e.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible)||(+e.value<=+e.maxValue||(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_GREATER_THAN",e.validationSummary.attributes.set("maxValue",e.maxValue.toLocaleString()),!1))},e}(),Co=function(){function e(){this.supportedTypes=[io.TEXT,io.MULTILINE_TEXT]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&!!e.regexPattern},e.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible)||(!!(e.value.length>0&&e.value.match(new RegExp("^"+e.regexPattern+"$")))||(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_VALUE",!1))},e}(),xo=function(){function e(){this.supportedTypes=[io.TYPEAHEAD]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1},e.prototype.hasValidNameOrValidId=function(e){return this.hasValidName(e)||this.hasValidId(e)},e.prototype.hasValidName=function(e){return!!e.options.find((function(t){return t.name&&t.name.toLocaleLowerCase()===e.value.toLocaleLowerCase()}))},e.prototype.hasValidId=function(e){return!!e.options.find((function(t){return t.id===e.value}))},e.prototype.hasStringValue=function(e){return e.value&&"string"==typeof e.value},e.prototype.hasOptions=function(e){return e.options&&e.options.length>0},e.prototype.validate=function(e){return!(this.isSupported(e)&&e.isVisible&&this.hasStringValue(e)&&this.hasOptions(e)&&!this.hasValidNameOrValidId(e))||(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_VALUE",!1)},e}(),So=[new po,new uo,new bo,new wo,new Io,new Eo,new Co,new co,new fo,new ho,new go,new xo,new yo,new vo],To=function(e){function t(t,n){var i,a=this;if((a=e.call(this,t,n)||this)._readOnly=!1,a._isValid=!0,a._required=!1,a.defaultDateFormat="D-M-YYYY",a.defaultDateTimeFormat="D-M-YYYY hh:mm A",a.rowspan=1,a.colspan=1,a.placeholder=null,a.tooltip=null,a.minLength=0,a.maxLength=0,a.options=[],a.params={},a.isVisible=!0,a.visibilityCondition=null,a.enableFractions=!1,a.currency=null,a.dateDisplayFormat=a.defaultDateFormat,a.selectionType=null,a.numberOfColumns=1,a.fields=[],a.columns=[],n){if(a.fieldType=n.fieldType,a.id=n.id,a.name=n.name,a.type=n.type,a.roles=n.roles,a._required=n.required,a._readOnly=n.readOnly||"readonly"===n.type,a.overrideId=n.overrideId,a.tab=n.tab,a.restUrl=n.restUrl,a.restResponsePath=n.restResponsePath,a.restIdProperty=n.restIdProperty,a.restLabelProperty=n.restLabelProperty,a.colspan=n.colspan,a.rowspan=n.rowspan,a.minLength=n.minLength||0,a.maxLength=n.maxLength||0,a.minValue=n.minValue,a.maxValue=n.maxValue,a.regexPattern=n.regexPattern,a.options=n.options||[],a.hasEmptyValue=n.hasEmptyValue,a.className=n.className,a.optionType=n.optionType,a.params=n.params||{},a.hyperlinkUrl=n.hyperlinkUrl,a.displayText=n.displayText,a.visibilityCondition=n.visibilityCondition?new ro(n.visibilityCondition):void 0,a.enableFractions=n.enableFractions,a.currency=n.currency,a.dateDisplayFormat=n.dateDisplayFormat||a.getDefaultDateFormat(n),a._value=a.parseValue(n),a.validationSummary=new so,a.tooltip=n.tooltip,a.selectionType=n.selectionType,a.rule=n.rule,n.placeholder&&""!==n.placeholder&&"null"!==n.placeholder&&(a.placeholder=n.placeholder),io.isReadOnlyType(a.type)&&a.params&&a.params.field){var o=!1;if(t.processVariables){var r=a.getProcessVariableValue(a.params.field,t);r&&(o=!0,a.value=r)}if(!o&&a.params.responseVariable){var l=t.getFormVariableValue(a.params.field.name);l&&(o=!0,a.value=l)}}io.isContainerType(a.type)&&a.containerFactory(n,t)}var s=Array.isArray(a.options)?a.options.find((function(e){return"empty"===e.id})):void 0;return void 0===a.hasEmptyValue&&(a.hasEmptyValue=null!==(i=null==n?void 0:n.hasEmptyValue)&&void 0!==i?i:!!s),a.options&&a.options.length>0&&a.hasEmptyValue&&(a.emptyOption=s),a.updateForm(),a}return ae(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.updateForm()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return!(!this.form||!this.form.readOnly)||this._readOnly},set:function(e){this._readOnly=e,this.updateForm()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(e){this._required=e,this.updateForm()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return this._isValid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasMultipleValues",{get:function(){return"multiple"===this.selectionType},enumerable:!1,configurable:!0}),t.prototype.markAsInvalid=function(){this._isValid=!1},t.prototype.validate=function(){var e,t;if(this.validationSummary=new so,!this.readOnly){var n=this.form.fieldValidators||[];try{for(var i=le(n),a=i.next();!a.done;a=i.next()){if(!a.value.validate(this))return this._isValid=!1,this._isValid}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}}return this._isValid=!0,this._isValid},t.prototype.getDefaultDateFormat=function(e){var t=e.type;return io.isReadOnlyType(e.type)&&e.params&&e.params.field&&(t=e.params.field.type),t===io.DATETIME?this.defaultDateTimeFormat:this.defaultDateFormat},t.prototype.isTypeaheadFieldType=function(e){return"typeahead"===e},t.prototype.getFieldNameWithLabel=function(e){return e+"_LABEL"},t.prototype.getProcessVariableValue=function(e,t){var n=e.name;return this.isTypeaheadFieldType(e.type)&&(n=this.getFieldNameWithLabel(e.id)),t.getProcessVariableValue(n)},t.prototype.containerFactory=function(e,n){var i=this;if(this.numberOfColumns=e.numberOfColumns||1,this.fields=e.fields,this.rowspan=1,this.colspan=1,e.fields)for(var a in e.fields)if(e.fields.hasOwnProperty(a)){var o=new lo,r=(e.fields[a]||[]).map((function(e){return new t(n,e)}));o.fields=r,o.rowspan=e.fields[a].length,o.fields.forEach((function(e){i.colspan=e.colspan>i.colspan?e.colspan:i.colspan})),this.rowspan=this.rowspan<o.rowspan?o.rowspan:this.rowspan,this.columns.push(o)}},t.prototype.parseValue=function(e){var t=e.hasOwnProperty("value")&&void 0!==e.value?e.value:null;if(e.type===io.DROPDOWN){if(e.options)if((e.options||[]).length>0)if(e.hasEmptyValue){var n=e.options[0];""!==t&&t!==n.id&&t!==n.name||(t=n.id)}else(null==t?void 0:t.id)&&(null==t?void 0:t.name)&&(t=t.id);this.hasMultipleValues&&(t=Array.isArray(e.value)?e.value:[])}if(e.type===io.RADIO_BUTTONS){var i=this.options.filter((function(e){return e.id===t||e.name===t||t&&(e.id===t.id||e.name===t.name)}));i.length>0&&(t=i[0].id)}if((this.isDateField(e)||this.isDateTimeField(e))&&t){var o=void 0;(o=uo.isNumber(t)?a(t):this.isDateTimeField(e)?a(t,"YYYY-MM-DD hh:mm A"):a(t.split("T")[0],"YYYY-M-D"))&&o.isValid()&&(t=o.format(this.dateDisplayFormat))}return this.isCheckboxField(e)&&(t="true"===e.value||!0===e.value),t},t.prototype.updateForm=function(){var e=this;if(this.form){switch(this.type){case io.DROPDOWN:if(Array.isArray(this.value)){this.form.values[this.id]=this.value;break}if("string"==typeof this.value){if("empty"===this.value||""===this.value){this.form.values[this.id]={};break}var t=this.options.filter((function(t){return t.id===e.value}));t.length>0&&this.setFormFieldValueOption(t[0])}break;case io.RADIO_BUTTONS:var n=this.options.filter((function(t){return t.id===e.value}));n.length>0&&this.setFormFieldValueOption(n[0]);break;case io.UPLOAD:this.form.hasUpload=!0,this.value&&this.value.length>0?this.form.values[this.id]=Array.isArray(this.value)?this.value.map((function(e){return e.id})).join(","):[this.value]:this.form.values[this.id]=null;break;case io.TYPEAHEAD:var i=this.options.filter((function(t){return t.id===e.value||t.name===e.value}));i.length>0?this.form.values[this.id]=i[0]:this.options.length>0&&(this.form.values[this.id]=null);break;case io.DATE:"string"==typeof this.value&&"today"===this.value&&(this.value=a(new Date).format(this.dateDisplayFormat));var o=a(this.value,this.dateDisplayFormat,!0);o&&o.isValid()?this.form.values[this.id]=o.format("YYYY-MM-DD")+"T00:00:00.000Z":(this.form.values[this.id]=null,this._value=this.value);break;case io.DATETIME:"string"==typeof this.value&&"now"===this.value&&(this.value=a(new Date).format(this.dateDisplayFormat));var r=a(this.value,this.dateDisplayFormat,!0).utc();r&&r.isValid()?this.form.values[this.id]=r.format("YYYY-MM-DDTHH:mm:ss")+".000Z":(this.form.values[this.id]=null,this._value=this.value);break;case io.NUMBER:case io.AMOUNT:this.form.values[this.id]=this.enableFractions?parseFloat(this.value):parseInt(this.value,10);break;case io.BOOLEAN:this.form.values[this.id]=null!==this.value&&void 0!==this.value&&this.value;break;case io.PEOPLE:case io.FUNCTIONAL_GROUP:this.form.values[this.id]=this.value?this.value:null;break;default:io.isReadOnlyType(this.type)||this.isInvalidFieldType(this.type)||(this.form.values[this.id]=this.value)}this.form.onFormFieldChanged(this)}},t.prototype.isInvalidFieldType=function(e){return"container"===e},t.prototype.getOptionName=function(){var e=this,t=this.options.find((function(t){return t.id===e.value}));return t?t.name:null},t.prototype.hasOptions=function(){return this.options&&this.options.length>0},t.prototype.isDateField=function(e){return e.params&&e.params.field&&e.params.field.type===io.DATE||e.type===io.DATE},t.prototype.isDateTimeField=function(e){return e.params&&e.params.field&&e.params.field.type===io.DATETIME||e.type===io.DATETIME},t.prototype.isCheckboxField=function(e){return e.params&&e.params.field&&e.params.field.type===io.BOOLEAN||e.type===io.BOOLEAN},t.prototype.setFormFieldValueOption=function(e){if("rest"===this.optionType&&this.restUrl){var t={},n=this.restIdProperty||"id",i=this.restLabelProperty||"name";t[n]=e.id,t[i]=e.name,this.form.values[this.id]=t}else this.form.values[this.id]=e},t}(oo),Ao=function(){function e(e){this.isDefaultPrevented=!1,this.form=e}return Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this.isDefaultPrevented},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){this.isDefaultPrevented=!0},e}(),Oo=function(e){function t(t,n){var i=e.call(this,t)||this;return i.field=n,i}return ae(t,e),t}(Ao),Ro=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.isValid=!0,i}return ae(t,e),t}(Oo),Do=function(e){function t(t){var n=e.call(this,t)||this;return n.isValid=!0,n.errorsField=[],n}return ae(t,e),t}(Ao),Po=function(e){function t(t){var n=e.call(this,t.form,t.json)||this;return t&&(n.field=t),n}return ae(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.field.isVisible},enumerable:!1,configurable:!0}),t}(oo),_o=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.isVisible=!0,i.fields=[],n&&(i.title=n.title,i.visibilityCondition=new ro(n.visibilityCondition)),i}return ae(t,e),t.prototype.hasContent=function(){return this.fields&&this.fields.length>0},t}(oo),Lo=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.isSystem=!1,i.isSelected=!1,i.isVisible=!0,n&&(i.isSystem=!!n.isSystem,i.isSelected=!(!t||n.name!==t.selectedOutcome),i.visibilityCondition=new ro(n.visibilityCondition)),i}return ae(t,e),t}(oo);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Lo.SAVE_ACTION="SAVE",Lo.COMPLETE_ACTION="COMPLETE",Lo.START_PROCESS_ACTION="START PROCESS";var Fo=function(){function e(t,n,i,a,o){var r=this;if(void 0===i&&(i=!1),this.formService=a,this.taskName=e.UNSET_TASK_NAME,this.values={},this.tabs=[],this.fields=[],this.outcomes=[],this.fieldValidators=de(So),this.customFieldTemplates={},this.readOnly=!1,this.isValid=!0,this.processVariables=[],this.variables=[],this.readOnly=i,this.json=t,t){this.id=t.id,this.name=t.name,this.taskId=t.taskId,this.taskName=t.taskName||t.name||e.UNSET_TASK_NAME,this.processDefinitionId=t.processDefinitionId,this.customFieldTemplates=t.customFieldTemplates||{},this.selectedOutcome=t.selectedOutcome,this.className=t.className||"",this.variables=t.variables||[],this.processVariables=t.processVariables||[],this.enableFixedSpace=!!o;var l={};this.tabs=(t.tabs||[]).map((function(e){var t=new _o(r,e);return l[t.id]=t,t})),this.fields=this.parseRootFields(t),n&&this.loadData(n);for(var s=0;s<this.fields.length;s++){var d=this.fields[s];if(d.tab){var p=l[d.tab];p&&p.fields.push(d)}}this.parseOutcomes()}this.validateForm()}return e.prototype.onFormFieldChanged=function(e){this.validateField(e),this.formService&&this.formService.formFieldValueChanged.next(new Oo(this,e))},e.prototype.validateForm=function(){for(var e=new Do(this),t=[],n=this.getFormFields(),i=0;i<n.length;i++)n[i].validate()||t.push(n[i]);this.isValid=t.length<=0,this.formService&&(e.isValid=this.isValid,e.errorsField=t,this.formService.validateForm.next(e))},e.prototype.validateField=function(e){if(e){var t=new Ro(this,e);this.formService&&this.formService.validateFormField.next(t),t.isValid?t.defaultPrevented||(e.validate()||this.markAsInvalid(),this.validateForm()):this.markAsInvalid()}},e.prototype.parseRootFields=function(e){var t,n,i=[];e.fields?i=e.fields:e.formDefinition&&e.formDefinition.fields&&(i=e.formDefinition.fields);var a=[];try{for(var o=le(i),r=o.next();!r.done;r=o.next()){var l=r.value;if(l.type===io.DISPLAY_VALUE){if(l.params)l.params.field.type===io.DYNAMIC_TABLE&&a.push(new Po(new To(this,l)))}else a.push(new Po(new To(this,l)))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a},e.prototype.loadData=function(e){var t,n;try{for(var i=le(this.getFormFields()),a=i.next();!a.done;a=i.next()){var o=a.value,r="variables."+o.name;(this.isDefined(e[r])||this.isDefined(e[o.id]))&&(o.json.value=e[r]||e[o.id],o.value=o.parseValue(o.json))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.isDefined=function(e){return null!=e},e.prototype.getFormVariable=function(e){if(e)return this.variables.find((function(t){return t.name===e||t.id===e}))},e.prototype.getFormVariableValue=function(e){var t=this.getFormVariable(e);if(t&&t.hasOwnProperty("value"))return this.parseValue(t.type,t.value)},e.prototype.getProcessVariableValue=function(e){if(this.processVariables){var t=["variables."+e,e],n=this.processVariables.find((function(e){return t.includes(e.name)}));if(n)return this.parseValue(n.type,n.value)}},e.prototype.parseValue=function(e,t){if(e&&t)switch(e){case"date":return t?t+"T00:00:00.000Z":void 0;case"boolean":return"string"==typeof t?JSON.parse(t):t;default:return t}return t},e.prototype.hasTabs=function(){return this.tabs&&this.tabs.length>0},e.prototype.hasFields=function(){return this.fields&&this.fields.length>0},e.prototype.hasOutcomes=function(){return this.outcomes&&this.outcomes.length>0},e.prototype.getFieldById=function(e){return this.getFormFields().find((function(t){return t.id===e}))},e.prototype.getFormFields=function(){for(var e=[],t=0;t<this.fields.length;t++){var n=this.fields[t];if(n instanceof Po){var i=n;e.push(i.field),i.field.columns.forEach((function(t){e.push.apply(e,de(t.fields))}))}}return e},e.prototype.markAsInvalid=function(){this.isValid=!1},e.prototype.parseOutcomes=function(){var t=this;if(this.json.fields){var n=new Lo(this,{id:e.SAVE_OUTCOME,name:"SAVE",isSystem:!0}),i=new Lo(this,{id:e.COMPLETE_OUTCOME,name:"COMPLETE",isSystem:!0}),a=new Lo(this,{id:e.START_PROCESS_OUTCOME,name:"START PROCESS",isSystem:!0}),o=(this.json.outcomes||[]).map((function(e){return new Lo(t,e)}));this.outcomes=[n].concat(o.length>0?o:[i,a])}},e.prototype.addValuesNotPresent=function(e){var t=this;this.getFormFields().forEach((function(n){!e[n.id]||t.values[n.id]&&!t.isValidDropDown(n.id)||(t.values[n.id]=e[n.id],n.json.value=t.values[n.id],n.value=n.parseValue(n.json))}))},e.prototype.isValidDropDown=function(e){var t=this.getFieldById(e);return t.type===io.DROPDOWN&&(t.hasMultipleValues?Array.isArray(this.values[e]):"string"==typeof this.values[e]?"empty"===this.values[e]:0===Object.keys(this.values[e]).length)},e.prototype.setNodeIdValueForViewersLinkedToUploadWidget=function(e){var t=this;this.getFormFields().filter((function(t){return e.uploadWidgetId===t.params.uploadWidget})).forEach((function(n){t.values[n.id]=e.id,n.json.value=t.values[n.id],n.value=n.parseValue(n.json)}))},e}();Fo.UNSET_TASK_NAME="Nameless task",Fo.SAVE_OUTCOME="$save",Fo.COMPLETE_OUTCOME="$complete",Fo.START_PROCESS_OUTCOME="$startProcess";
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ko=function(){function e(e){this._defaultPrevented=!1,this._outcome=e}return Object.defineProperty(e.prototype,"outcome",{get:function(){return this._outcome},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this._defaultPrevented},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){this._defaultPrevented=!0},e}(),Vo=function(){function e(e){this.contentAvailable=e&&e.contentAvailable,this.created=e&&e.created,this.createdBy=e&&e.createdBy||{},this.id=e&&e.id,this.link=e&&e.link,this.mimeType=e&&e.mimeType,this.name=e&&e.name,this.previewStatus=e&&e.previewStatus,this.relatedContent=e&&e.relatedContent,this.simpleType=e&&e.simpleType,this.thumbnailStatus=e&&e.thumbnailStatus,this.nodeId=e&&e.nodeId}return e.prototype.hasPreviewStatus=function(){return"supported"===this.previewStatus},e.prototype.isTypeImage=function(){return"image"===this.simpleType},e.prototype.isTypePdf=function(){return"pdf"===this.simpleType},e.prototype.isTypeDoc=function(){return"word"===this.simpleType||"content"===this.simpleType},e.prototype.isThumbnailReady=function(){return"created"===this.thumbnailStatus},e.prototype.isThumbnailSupported=function(){return this.isTypeImage()||(this.isTypePdf()||this.isTypeDoc())&&this.isThumbnailReady()},e}(),No=function(e){function t(t,n){var i=e.call(this,t)||this;return i.uploadWidgetId=n,i}return ae(t,e),t}(Vo),Mo=function(){function e(e,t){this.apiService=e,this.logService=t}return Object.defineProperty(e.prototype,"customModelApi",{get:function(){var e;return this._customModelApi=null!==(e=this._customModelApi)&&void 0!==e?e:new r.CustomModelApi(this.apiService.getInstance()),this._customModelApi},enumerable:!1,configurable:!0}),e.prototype.createEcmTypeForActivitiForm=function(e,t){var n=this;return new o.Observable((function(i){n.searchActivitiEcmModel().subscribe((function(a){a?n.saveFomType(e,t).subscribe((function(e){i.next(e),i.complete()})):n.createActivitiEcmModel(e,t).subscribe((function(e){i.next(e),i.complete()}))}),(function(e){return n.handleError(e)}))}))},e.prototype.searchActivitiEcmModel=function(){return this.getEcmModels().pipe(s.map((function(t){return t.list.entries.find((function(t){return t.entry.name===e.MODEL_NAME}))})))},e.prototype.createActivitiEcmModel=function(t,n){var i=this;return new o.Observable((function(a){i.createEcmModel(e.MODEL_NAME,e.MODEL_NAMESPACE).subscribe((function(o){i.logService.info("model created",o),i.activeEcmModel(e.MODEL_NAME).subscribe((function(e){i.logService.info("model active",e),i.createEcmTypeWithProperties(t,n).subscribe((function(e){a.next(e),a.complete()}))}),(function(e){return i.handleError(e)}))}),(function(e){return i.handleError(e)}))}))},e.prototype.saveFomType=function(t,n){var i=this;return new o.Observable((function(a){i.searchEcmType(t,e.MODEL_NAME).subscribe((function(e){i.logService.info("custom types",e),e?(a.next(e),a.complete()):i.createEcmTypeWithProperties(t,n).subscribe((function(e){a.next(e),a.complete()}))}),(function(e){return i.handleError(e)}))}))},e.prototype.createEcmTypeWithProperties=function(t,n){var i=this;return new o.Observable((function(a){i.createEcmType(t,e.MODEL_NAME,e.TYPE_MODEL).subscribe((function(o){i.logService.info("type Created",o),i.addPropertyToAType(e.MODEL_NAME,t,n).subscribe((function(e){i.logService.info("property Added",e),a.next(o),a.complete()}),(function(e){return i.handleError(e)}))}),(function(e){return i.handleError(e)}))}))},e.prototype.searchEcmType=function(e,t){return this.getEcmType(t).pipe(s.map((function(t){return t.list.entries.find((function(t){return t.entry.prefixedName===e||t.entry.title===e}))})))},e.prototype.activeEcmModel=function(e){var t=this;return o.from(this.customModelApi.activateCustomModel(e)).pipe(s.map(this.toJson),s.catchError((function(e){return t.handleError(e)})))},e.prototype.createEcmModel=function(e,t){var n=this;return o.from(this.customModelApi.createCustomModel("DRAFT","",e,e,t)).pipe(s.map(this.toJson),s.catchError((function(e){return n.handleError(e)})))},e.prototype.getEcmModels=function(){var e=this;return o.from(this.customModelApi.getAllCustomModel()).pipe(s.map(this.toJson),s.catchError((function(t){return e.handleError(t)})))},e.prototype.getEcmType=function(e){var t=this;return o.from(this.customModelApi.getAllCustomType(e)).pipe(s.map(this.toJson),s.catchError((function(e){return t.handleError(e)})))},e.prototype.createEcmType=function(e,t,n){var i=this,a=this.cleanNameType(e);return o.from(this.customModelApi.createCustomType(t,a,n,e,"")).pipe(s.map(this.toJson),s.catchError((function(e){return i.handleError(e)})))},e.prototype.addPropertyToAType=function(e,t,n){var i=this,a=this.cleanNameType(t),r=[];if(n&&n.values)for(var l in n.values)l&&r.push({name:l,title:l,description:l,dataType:"d:text",multiValued:!1,mandatory:!1,mandatoryEnforced:!1});return o.from(this.customModelApi.addPropertyToType(e,a,r)).pipe(s.map(this.toJson),s.catchError((function(e){return i.handleError(e)})))},e.prototype.cleanNameType=function(e){var t=e;return-1!==e.indexOf(":")&&(t=e.split(":")[1]),t.replace(/[^a-zA-Z ]/g,"")},e.prototype.toJson=function(e){return e&&e||{}},e.prototype.handleError=function(e){this.logService.error(e)},e}();
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Mo.MODEL_NAMESPACE="activitiForms",Mo.MODEL_NAME="activitiFormsModel",Mo.TYPE_MODEL="cm:folder",Mo.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Mo(t.ɵɵinject(Ce),t.ɵɵinject(Ae))},token:Mo,providedIn:"root"}),Mo.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Mo.ctorParameters=function(){return[{type:Ce},{type:Ae}]};var Uo=function(){function e(e,t,n){this.ecmModelService=e,this.apiService=t,this.logService=n,this.formLoaded=new o.Subject,this.formDataRefreshed=new o.Subject,this.formFieldValueChanged=new o.Subject,this.formEvents=new o.Subject,this.taskCompleted=new o.Subject,this.taskCompletedError=new o.Subject,this.taskSaved=new o.Subject,this.taskSavedError=new o.Subject,this.formContentClicked=new o.Subject,this.validateForm=new o.Subject,this.validateFormField=new o.Subject,this.validateDynamicTableRow=new o.Subject,this.executeOutcome=new o.Subject,this.updateFormValuesRequested=new o.Subject}return Object.defineProperty(e.prototype,"taskFormsApi",{get:function(){var e;return this._taskFormsApi=null!==(e=this._taskFormsApi)&&void 0!==e?e:new r.TaskFormsApi(this.apiService.getInstance()),this._taskFormsApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskApi",{get:function(){var e;return this._taskApi=null!==(e=this._taskApi)&&void 0!==e?e:new r.TasksApi(this.apiService.getInstance()),this._taskApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modelsApi",{get:function(){var e;return this._modelsApi=null!==(e=this._modelsApi)&&void 0!==e?e:new r.ModelsApi(this.apiService.getInstance()),this._modelsApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editorApi",{get:function(){var e;return this._editorApi=null!==(e=this._editorApi)&&void 0!==e?e:new r.FormModelsApi(this.apiService.getInstance()),this._editorApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"processDefinitionsApi",{get:function(){var e;return this._processDefinitionsApi=null!==(e=this._processDefinitionsApi)&&void 0!==e?e:new r.ProcessDefinitionsApi(this.apiService.getInstance()),this._processDefinitionsApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"processInstanceVariablesApi",{get:function(){var e;return this._processInstanceVariablesApi=null!==(e=this._processInstanceVariablesApi)&&void 0!==e?e:new r.ProcessInstanceVariablesApi(this.apiService.getInstance()),this._processInstanceVariablesApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"processInstancesApi",{get:function(){var e;return this._processInstancesApi=null!==(e=this._processInstancesApi)&&void 0!==e?e:new r.ProcessInstancesApi(this.apiService.getInstance()),this._processInstancesApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groupsApi",{get:function(){var e;return this._groupsApi=null!==(e=this._groupsApi)&&void 0!==e?e:new r.ActivitiGroupsApi(this.apiService.getInstance()),this._groupsApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"usersApi",{get:function(){var e;return this._usersApi=null!==(e=this._usersApi)&&void 0!==e?e:new r.UsersApi(this.apiService.getInstance()),this._usersApi},enumerable:!1,configurable:!0}),e.prototype.parseForm=function(e,t,n,i){if(void 0===n&&(n=!1),e){var a=new Fo(e,t,n,this,i);return e.fields||(a.outcomes=[new Lo(a,{id:"$save",name:Lo.SAVE_ACTION,isSystem:!0})]),a}return null},e.prototype.createFormFromANode=function(e){var t=this;return new o.Observable((function(n){t.createForm(e).subscribe((function(i){t.ecmModelService.searchEcmType(e,Mo.MODEL_NAME).subscribe((function(e){var a=new no(i.id,i.name,i.lastUpdatedByFullName,i.lastUpdated,e.entry.properties);o.from(t.editorApi.saveForm(i.id,a)).subscribe((function(e){n.next(e),n.complete()}),(function(e){return t.handleError(e)}))}),(function(e){return t.handleError(e)}))}),(function(e){return t.handleError(e)}))}))},e.prototype.createForm=function(e){var t={name:e,description:"",modelType:2,stencilSet:0};return o.from(this.modelsApi.createModel(t))},e.prototype.saveForm=function(e,t){return o.from(this.editorApi.saveForm(e,t))},e.prototype.searchFrom=function(e){var t=this;return o.from(this.modelsApi.getModels({modelType:2})).pipe(s.map((function(t){return t.data.find((function(t){return t.name===e}))})),s.catchError((function(e){return t.handleError(e)})))},e.prototype.getForms=function(){var e=this;return o.from(this.modelsApi.getModels({modelType:2})).pipe(s.map(this.toJsonArray),s.catchError((function(t){return e.handleError(t)})))},e.prototype.getProcessDefinitions=function(){var e=this;return o.from(this.processDefinitionsApi.getProcessDefinitions({})).pipe(s.map(this.toJsonArray),s.catchError((function(t){return e.handleError(t)})))},e.prototype.getProcessVariablesById=function(e){var t=this;return o.from(this.processInstanceVariablesApi.getProcessInstanceVariables(e)).pipe(s.map(this.toJson),s.catchError((function(e){return t.handleError(e)})))},e.prototype.getTasks=function(){var e=this;return o.from(this.taskApi.listTasks({})).pipe(s.map(this.toJsonArray),s.catchError((function(t){return e.handleError(t)})))},e.prototype.getTask=function(e){var t=this;return o.from(this.taskApi.getTask(e)).pipe(s.map(this.toJson),s.catchError((function(e){return t.handleError(e)})))},e.prototype.saveTaskForm=function(e,t){var n=this,i={values:t};return o.from(this.taskFormsApi.saveTaskForm(e,i)).pipe(s.catchError((function(e){return n.handleError(e)})))},e.prototype.completeTaskForm=function(e,t,n){var i=this,a={values:t};return n&&(a.outcome=n),o.from(this.taskFormsApi.completeTaskForm(e,a)).pipe(s.catchError((function(e){return i.handleError(e)})))},e.prototype.getTaskForm=function(e){var t=this;return o.from(this.taskFormsApi.getTaskForm(e)).pipe(s.map(this.toJson),s.catchError((function(e){return t.handleError(e)})))},e.prototype.getFormDefinitionById=function(e){var t=this;return o.from(this.editorApi.getForm(e)).pipe(s.map(this.toJson),s.catchError((function(e){return t.handleError(e)})))},e.prototype.getFormDefinitionByName=function(e){var t=this,n={filter:"myReusableForms",filterText:e,modelType:2};return o.from(this.modelsApi.getModels(n)).pipe(s.map(this.getFormId),s.catchError((function(e){return t.handleError(e)})))},e.prototype.getStartFormInstance=function(e){var t=this;return o.from(this.processInstancesApi.getProcessInstanceStartForm(e)).pipe(s.map(this.toJson),s.catchError((function(e){return t.handleError(e)})))},e.prototype.getProcessInstance=function(e){var t=this;return o.from(this.processInstancesApi.getProcessInstance(e)).pipe(s.map(this.toJson),s.catchError((function(e){return t.handleError(e)})))},e.prototype.getStartFormDefinition=function(e){var t=this;return o.from(this.processDefinitionsApi.getProcessDefinitionStartForm(e)).pipe(s.map(this.toJson),s.catchError((function(e){return t.handleError(e)})))},e.prototype.getRestFieldValues=function(e,t){var n=this;return o.from(this.taskFormsApi.getRestFieldValues(e,t)).pipe(s.catchError((function(e){return n.handleError(e)})))},e.prototype.getRestFieldValuesByProcessId=function(e,t){var n=this;return o.from(this.processDefinitionsApi.getRestFieldValues(e,t)).pipe(s.catchError((function(e){return n.handleError(e)})))},e.prototype.getRestFieldValuesColumnByProcessId=function(e,t,n){var i=this;return o.from(this.processDefinitionsApi.getRestTableFieldValues(e,t,n)).pipe(s.catchError((function(e){return i.handleError(e)})))},e.prototype.getRestFieldValuesColumn=function(e,t,n){var i=this;return o.from(this.taskFormsApi.getRestFieldColumnValues(e,t,n)).pipe(s.catchError((function(e){return i.handleError(e)})))},e.prototype.getUserProfileImageApi=function(e){return this.usersApi.getUserProfilePictureUrl(e)},e.prototype.getWorkflowUsers=function(e,t){var n=this,i={filter:e};return t&&(i.groupId=t),o.from(this.usersApi.getUsers(i)).pipe(s.switchMap((function(e){return e.data||[]})),s.map((function(e){return e.userImage=n.getUserProfileImageApi(e.id.toString()),o.of(e)})),s.combineAll(),s.defaultIfEmpty([]),s.catchError((function(e){return n.handleError(e)})))},e.prototype.getWorkflowGroups=function(e,t){var n=this,i={filter:e};return t&&(i.groupId=t),o.from(this.groupsApi.getGroups(i)).pipe(s.map((function(e){return e.data||[]})),s.catchError((function(e){return n.handleError(e)})))},e.prototype.getFormId=function(e){var t=null;return e&&e.data&&e.data.length>0&&(t=e.data[0].id),t},e.prototype.toJson=function(e){return e&&e||{}},e.prototype.toJsonArray=function(e){return e&&e.data||[]},e.prototype.handleError=function(t){var n=e.UNKNOWN_ERROR_MESSAGE;return t&&(n=t.message?t.message:t.status?t.status+" - "+t.statusText:e.GENERIC_ERROR_MESSAGE),this.logService.error(n),o.throwError(n)},e}();Uo.UNKNOWN_ERROR_MESSAGE="Unknown error",Uo.GENERIC_ERROR_MESSAGE="Server error",Uo.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Uo(t.ɵɵinject(Mo),t.ɵɵinject(Ce),t.ɵɵinject(Ae))},token:Uo,providedIn:"root"}),Uo.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Uo.ctorParameters=function(){return[{type:Mo},{type:Ce},{type:Ae}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var jo=function(){function e(e){this.formService=e,this.readOnly=!1,this.fieldChanged=new t.EventEmitter}return e.prototype.hasField=function(){return!!this.field},e.prototype.isRequired=function(){return!(!this.field||!this.field.required)||null},e.prototype.isValid=function(){return!!this.field.validationSummary},e.prototype.hasValue=function(){return this.field&&null!==this.field.value&&void 0!==this.field.value},e.prototype.isInvalidFieldRequired=function(){return!this.field.isValid&&!this.field.validationSummary&&this.isRequired()},e.prototype.ngAfterViewInit=function(){this.fieldChanged.emit(this.field)},e.prototype.checkVisibility=function(e){this.fieldChanged.emit(e)},e.prototype.onFieldChanged=function(e){this.fieldChanged.emit(e)},e.prototype.event=function(e){this.formService.formEvents.next(e)},e}();jo.decorators=[{type:t.Component,args:[{selector:"base-widget",template:"",host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None}]}],jo.ctorParameters=function(){return[{type:Uo}]},jo.propDecorators={readOnly:[{type:t.Input}],field:[{type:t.Input}],fieldChanged:[{type:t.Output}]};var Bo=function(e){function t(t){var n=e.call(this,t)||this;return n.columns=[],n.isExpanded=!0,n.rowspan=1,n.colspan=1,n.field&&(n.columns=n.field.columns||[],n.isExpanded=!n.isCollapsedByDefault(),n.colspan=t.colspan,n.rowspan=t.rowspan),n}return ae(t,e),t.prototype.isGroup=function(){return this.type===io.GROUP},t.prototype.isCollapsible=function(){var e=!1;return this.isGroup()&&this.field.params.allowCollapse&&(e=this.field.params.allowCollapse),e},t.prototype.isCollapsedByDefault=function(){var e=!1;return this.isCollapsible()&&this.field.params.collapseByDefault&&(e=this.field.params.collapseByDefault),e},t}(Po),zo=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n}return ae(t,e),t.prototype.onExpanderClicked=function(){this.content&&this.content.isCollapsible()&&(this.content.isExpanded=!this.content.isExpanded)},t.prototype.ngOnInit=function(){this.field&&(this.content=new Bo(this.field),this.getNumberOfColumnsFromTheBiggestBetweenJsonAndColumnsLengthOrOne(),this.fields=this.getFields())},t.prototype.getNumberOfColumnsFromTheBiggestBetweenJsonAndColumnsLengthOrOne=function(){var e,t,n,i;this.numberOfColumns=((null===(e=this.content.json)||void 0===e?void 0:e.numberOfColumns)||1)>((null===(t=this.content.columns)||void 0===t?void 0:t.length)||1)?(null===(n=this.content.json)||void 0===n?void 0:n.numberOfColumns)||1:(null===(i=this.content.columns)||void 0===i?void 0:i.length)||1},t.prototype.getFields=function(){for(var e,t=[],n=this.getMaxColumnFieldSize(),i=function(n){null===(e=a.content)||void 0===e||e.columns.flatMap((function(e){var i;if(null==e?void 0:e.fields[n])t.push(null==e?void 0:e.fields[n]);else{var a=null===(i=null==e?void 0:e.fields[0])||void 0===i?void 0:i.colspan;if(a&&n>0)for(var o=0;o<a;o++)t.push(null)}}))},a=this,o=0;o<n;o++)i(o);return t},t.prototype.getMaxColumnFieldSize=function(){var e,t,n,i,a,o,r=0;return(null===(t=null===(e=this.content)||void 0===e?void 0:e.columns)||void 0===t?void 0:t.length)>0&&(r=null===(o=null===(a=null===(i=null===(n=this.content)||void 0===n?void 0:n.columns)||void 0===i?void 0:i.reduce((function(e,t){var n;return t.fields.length>(null===(n=null==e?void 0:e.fields)||void 0===n?void 0:n.length)?t:e})))||void 0===a?void 0:a.fields)||void 0===o?void 0:o.length),r},t.prototype.getColumnWith=function(e){var t=e?e.colspan:1;return 100/this.content.json.numberOfColumns*t+""},t}(jo);zo.decorators=[{type:t.Component,args:[{selector:"container-widget",template:'<div [hidden]="!content?.isGroup()" class="adf-container-widget__header">\n    <h4 class="adf-container-widget__header-text" id="container-header"\n        [class.adf-collapsible]="content?.isCollapsible()">\n        <button *ngIf="content?.isCollapsible()"\n                mat-icon-button\n                class="mdl-button--icon"\n                (click)="onExpanderClicked()">\n            <mat-icon>{{ content?.isExpanded ? \'expand_more\' : \'expand_less\' }}</mat-icon>\n        </button>\n        <span (click)="onExpanderClicked()" id="container-header-label">{{content.name | translate }}</span>\n    </h4>\n</div>\n\n<div *ngIf="field?.form?.enableFixedSpace else fixingTemplate">\n    <div class="adf-grid-list" [ngStyle]="{ \'grid-template-columns\': \'repeat(\'+numberOfColumns+\', 1fr)\'}"\n        *ngIf="content?.isExpanded">\n        <div class="adf-grid-list-item" *ngFor="let field of fields"\n            [ngStyle]="{\'grid-area\': \'auto / auto / span \'+(field?.rowspan || 1)+\' / span \'+(field?.colspan || 1)}">\n            <adf-form-field *ngIf="field" [field]="field"></adf-form-field>\n        </div>\n    </div>\n</div>\n\n<ng-template #fixingTemplate>\n    <section class="adf-grid-list-column-view" *ngIf="content?.isExpanded">\n        <div class="adf-grid-list-single-column" *ngFor="let column of content?.columns" [style.width.%]="getColumnWith(field)">\n            <div class="adf-grid-list-column-view-item" *ngFor="let field of column?.fields">\n                <adf-form-field *ngIf="field" [field]="field"></adf-form-field>\n            </div>\n        </div>\n    </section>\n</ng-template>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-hidden{display:none}.adf-container-widget__header-text{-moz-user-select:none;-ms-user-select:none;-webkit-touch-callout:none;-webkit-user-select:none;border-bottom:1px solid rgba(0,0,0,.87);cursor:default;padding-bottom:10px;user-select:none}.adf-container-widget__header-text.adf-collapsible{cursor:pointer}.adf-field-list{height:100%;list-style-type:none;padding:0;width:100%}container-widget .adf-grid-list-column-view{align-items:flex-start;display:flex;margin-right:-1%}container-widget .adf-grid-list-single-column{align-items:flex-start;display:flex;flex:1 1 auto;flex-direction:column}container-widget .adf-grid-list-column-view-item{box-sizing:border-box;flex-grow:1;padding-left:1%;padding-right:1%;width:100%}container-widget .adf-grid-list{display:grid}container-widget .adf-grid-list-item{box-sizing:border-box;padding-left:3px;padding-right:3px}@media screen and (max-width:959px){container-widget .adf-grid-list-item{flex:1 0 100%}container-widget .adf-grid-list--column-view{flex-direction:column}container-widget .adf-grid-list-single-column{width:90%!important}container-widget .adf-grid-list-column-view-item{flex:1 0 auto}}container-widget .mat-form-field,container-widget mat-form-field{width:100%}container-widget .mat-input-placeholder{top:1.8em!important}container-widget .mat-focused label{background-color:.3s cubic-bezier(.55,0,.55,.2);color:var(--theme-primary-color);transform:scaleX(1);transition:transform .15s linear}container-widget .mat-focused .mat-form-field-prefix{color:var(--theme-primary-color)}container-widget .mat-grid-tile{overflow:visible;width:80%}container-widget adf-form-field{width:100%}"]}]}],zo.ctorParameters=function(){return[{type:Uo}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var $o=function(){function e(){this.tabs=[],this.formTabChanged=new t.EventEmitter,this.visibleTabs=[]}return e.prototype.hasTabs=function(){return this.tabs&&this.tabs.length>0},e.prototype.ngAfterContentChecked=function(){this.filterVisibleTabs()},e.prototype.filterVisibleTabs=function(){this.visibleTabs=this.tabs.filter((function(e){return e.isVisible}))},e.prototype.tabChanged=function(e){this.formTabChanged.emit(e)},e}();$o.decorators=[{type:t.Component,args:[{selector:"tabs-widget",template:'<div *ngIf="hasTabs()" class="alfresco-tabs-widget">\n    <mat-tab-group>\n        <mat-tab *ngFor="let tab of visibleTabs" [label]="tab.title | translate">\n            <div *ngFor="let field of tab.fields">\n                <adf-form-field [field]="field.field"></adf-form-field>\n             </div>\n        </mat-tab>\n    </mat-tab-group>\n</div>\n',encapsulation:t.ViewEncapsulation.None}]}],$o.propDecorators={tabs:[{type:t.Input}],formTabChanged:[{type:t.Output}]};var Ho=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n}return ae(t,e),t}(jo);Ho.decorators=[{type:t.Component,args:[{selector:"unknown-widget",template:'\n            <mat-list class="adf-unknown-widget">\n                <mat-list-item>\n                     <mat-icon class="mat-24">error_outline</mat-icon>\n                     <span class="adf-unknown-text">Unknown type: {{field.type}}</span>\n                </mat-list-item>\n            </mat-list>\n\n    ',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-unknown-text{color:red;margin-left:10px}.adf-unknown-widget{margin:42px}"]}]}],Ho.ctorParameters=function(){return[{type:Uo}]};var qo=new t.InjectionToken("adf-amount-settings"),Yo=function(e){function t(n,i){var a=e.call(this,n)||this;return a.formService=n,a.settings=i,a.showPlaceholder=!0,a.currency=t.DEFAULT_CURRENCY,a}return ae(t,e),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.showPlaceholder?this.field.placeholder:""},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.field&&(this.field.currency&&(this.currency=this.field.currency),this.field.readOnly&&(this.showPlaceholder=this.settings&&this.settings.showReadonlyPlaceholder))},t}(jo);Yo.DEFAULT_CURRENCY="$",Yo.decorators=[{type:t.Component,args:[{selector:"amount-widget",template:'<div class="adf-amount-widget__container adf-amount-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid"\n     [class.adf-readonly]="field.readOnly">\n    <label class="adf-label"\n           [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n    <mat-form-field class="adf-amount-widget__input">\n        <span matPrefix class="adf-amount-widget__prefix-spacing">{{ currency }} &nbsp;</span>\n        <input matInput\n               [matTooltip]="field.tooltip"\n               matTooltipPosition="above"\n               matTooltipShowDelay="1000"\n               class="adf-input"\n               type="text"\n               [id]="field.id"\n               [required]="isRequired()"\n               [placeholder]="placeholder"\n               [value]="field.value"\n               [(ngModel)]="field.value"\n               (ngModelChange)="onFieldChanged(field)"\n               [disabled]="field.readOnly">\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()"\n                  required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-amount-widget{margin-top:15px;width:100%}.adf-amount-widget__input{margin-top:-15px}.adf-amount-widget__input .mat-focused{transition:none}.adf-amount-widget__input:not(.mat-focused):not(.mat-form-field-invalid) .adf-amount-widget__prefix-spacing{color:var(--theme-secondary-text-color)}"]}]}],Yo.ctorParameters=function(){return[{type:Uo},{type:void 0,decorators:[{type:t.Inject,args:[qo]},{type:t.Optional}]}]};var Go=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n}return ae(t,e),t}(jo);Go.decorators=[{type:t.Component,args:[{selector:"checkbox-widget",template:'<div [ngClass]="field.className"\n     [class.adf-invalid]="!field.isValid">\n    <mat-checkbox\n        [id]="field.id"\n        color="primary"\n        [required]="field.required"\n        [disabled]="field.readOnly || readOnly"\n        [(ngModel)]="field.value"\n        (ngModelChange)="onFieldChanged(field)"\n        [matTooltip]="field.tooltip"\n        matTooltipPosition="right"\n        matTooltipShowDelay="1000">\n        {{field.name | translate }}\n        <span *ngIf="field.required" >*</span>\n    </mat-checkbox>\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None}]}],Go.ctorParameters=function(){return[{type:Uo}]};var Wo=ue,Xo=function(t){function n(e,n,i){var a=t.call(this,e)||this;return a.formService=e,a.dateAdapter=n,a.userPreferencesService=i,a.DATE_FORMAT="DD-MM-YYYY",a.onDestroy$=new o.Subject,a}return ae(n,t),n.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(e.UserPreferenceValues.Locale).pipe(s.takeUntil(this.onDestroy$)).subscribe((function(e){return t.dateAdapter.setLocale(e)})),this.dateAdapter.overrideDisplayFormat=this.field.dateDisplayFormat,this.field&&(this.field.minValue&&(this.minDate=a(this.field.minValue,this.DATE_FORMAT)),this.field.maxValue&&(this.maxDate=a(this.field.maxValue,this.DATE_FORMAT)))},n.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},n.prototype.onDateChanged=function(e){var t=a(e,this.field.dateDisplayFormat,!0);t.isValid()?this.field.value=t.format(this.field.dateDisplayFormat):this.field.value=e,this.onFieldChanged(this.field)},n}(jo);Xo.decorators=[{type:t.Component,args:[{selector:"date-widget",providers:[{provide:n.DateAdapter,useClass:me},{provide:n.MAT_DATE_FORMATS,useValue:Wo}],template:'<div class="{{field.className}}" id="data-widget" [class.adf-invalid]="!field.isValid">\n    <mat-form-field class="adf-date-widget">\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }} ({{field.dateDisplayFormat}})<span *ngIf="isRequired()">*</span></label>\n        <input matInput\n               [id]="field.id"\n               [value]="field.value"\n               [required]="isRequired()"\n               [disabled]="field.readOnly"\n               (change)="onDateChanged($any($event).srcElement.value)"\n               [placeholder]="field.placeholder">\n        <mat-datepicker-toggle  matSuffix [for]="datePicker" [disabled]="field.readOnly" ></mat-datepicker-toggle>\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n    <mat-datepicker #datePicker [touchUi]="true" [startAt]="field.value | adfMomentDate: field.dateDisplayFormat" [disabled]="field.readOnly"></mat-datepicker>\n    <input\n        type="hidden"\n        [matDatepicker]="datePicker"\n        [value]="field.value | adfMomentDate: field.dateDisplayFormat"\n        [min]="minDate"\n        [max]="maxDate"\n        [disabled]="field.readOnly"\n        (dateInput)="onDateChanged($any($event).targetElement.value)">\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-date-widget .mat-form-field-suffix{top:26px}.adf-date-widget .mat-form-field-label-wrapper{top:20px}"]}]}],Xo.ctorParameters=function(){return[{type:Uo},{type:n.DateAdapter},{type:Je}]};var Ko=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n}return ae(t,e),t}(jo);Ko.decorators=[{type:t.Component,args:[{selector:"display-text-widget",template:'<div [matTooltip]="field.tooltip" matTooltipPosition="above" matTooltipShowDelay="1000"\n    class="adf-display-text-widget {{field.className}}">{{field.value | translate}}</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-display-text-widget{white-space:pre-wrap}"]}]}],Ko.ctorParameters=function(){return[{type:Uo}]};var Jo=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n.fileId=null,n.hasFile=!1,n}return ae(t,e),t.prototype.ngOnInit=function(){if(this.field){var e=this.field.value;e?(this.fileId=e.id,this.hasFile=!0):(this.fileId=null,this.hasFile=!1)}},t}(jo);Jo.decorators=[{type:t.Component,args:[{selector:"adf-form-document-widget",template:'<div class="adf-form-document-widget {{field.className}}">\n    <ng-container *ngIf="hasFile">\n        <adf-content [id]="fileId" [showDocumentContent]="true"></adf-content>\n    </ng-container>\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None}]}],Jo.ctorParameters=function(){return[{type:Uo}]};var Qo=function(e){function t(t,n){var i=e.call(this,t)||this;return i.formService=t,i.logService=n,i}return ae(t,e),t.prototype.ngOnInit=function(){this.field&&this.field.restUrl&&(this.field.form.taskId?this.getValuesByTaskId():this.getValuesByProcessDefinitionId())},t.prototype.getValuesByTaskId=function(){var e=this;this.formService.getRestFieldValues(this.field.form.taskId,this.field.id).subscribe((function(t){var n=[];e.field.emptyOption&&n.push(e.field.emptyOption),e.field.options=n.concat(t||[]),e.field.updateForm()}),(function(t){return e.handleError(t)}))},t.prototype.getValuesByProcessDefinitionId=function(){var e=this;this.formService.getRestFieldValuesByProcessId(this.field.form.processDefinitionId,this.field.id).subscribe((function(t){var n=[];e.field.emptyOption&&n.push(e.field.emptyOption),e.field.options=n.concat(t||[]),e.field.updateForm()}),(function(t){return e.handleError(t)}))},t.prototype.getOptionValue=function(e,t){return"empty"===e.id||e.name!==t?e.id:e.name},t.prototype.handleError=function(e){this.logService.error(e)},t.prototype.isReadOnlyType=function(){return"readonly"===this.field.type},t}(jo);Qo.decorators=[{type:t.Component,args:[{selector:"dropdown-widget",template:'<div class="adf-dropdown-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n    <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n    <mat-form-field>\n        <mat-select class="adf-select"\n                    [id]="field.id"\n                    [(ngModel)]="field.value"\n                    [disabled]="field.readOnly"\n                    (ngModelChange)="onFieldChanged(field)">\n            <mat-option *ngFor="let opt of field.options"\n                        [value]="getOptionValue(opt, field.value)"\n                        [id]="opt.id">{{opt.name}}\n            </mat-option>\n            <mat-option id="readonlyOption" *ngIf="isReadOnlyType()" [value]="field.value">{{field.value}}</mat-option>\n        </mat-select>\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget class="adf-dropdown-required-message" *ngIf="isInvalidFieldRequired()"\n                  required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-dropdown-widget{width:100%}.adf-dropdown-widget .adf-select{padding-top:0!important;width:100%}.adf-dropdown-widget .mat-select-value-text{font-size:14px}.adf-dropdown-widget-select{width:100%}"]}]}],Qo.ctorParameters=function(){return[{type:Uo},{type:Ae}]};var Zo=function(){function e(e,t){this.apiService=e,this.logService=t}return Object.defineProperty(e.prototype,"taskFormsApi",{get:function(){var e;return this._taskFormsApi=null!==(e=this._taskFormsApi)&&void 0!==e?e:new r.TaskFormsApi(this.apiService.getInstance()),this._taskFormsApi},enumerable:!1,configurable:!0}),e.prototype.refreshVisibility=function(e,t){var n=this;this.form=e,t&&(this.processVarList=t),e&&e.tabs&&e.tabs.length>0&&e.tabs.map((function(e){return n.refreshEntityVisibility(e)})),e&&e.outcomes&&e.outcomes.length>0&&e.outcomes.map((function(e){return n.refreshOutcomeVisibility(e)})),e&&e.getFormFields().map((function(e){return n.refreshEntityVisibility(e)}))},e.prototype.refreshEntityVisibility=function(e){var t=this.evaluateVisibility(e.form,e.visibilityCondition);e.isVisible=t&&this.isParentTabVisible(this.form,e)},e.prototype.refreshOutcomeVisibility=function(e){e.isVisible=this.evaluateVisibility(e.form,e.visibilityCondition)},e.prototype.evaluateVisibility=function(e,t){var n=t&&(t.leftType||t.leftValue);return!n||"null"===n||this.isFieldVisible(e,t)},e.prototype.isFieldVisible=function(e,t,n,i){var a=this;void 0===n&&(n=[]),void 0===i&&(i=!1);var o=this.getLeftValue(e,t),r=this.getRightValue(e,t),l=this.evaluateCondition(o,r,t.operator);return n.push({value:l,operator:t.nextConditionOperator}),!!(i=this.isValidCondition(t.nextCondition)?this.isFieldVisible(e,t.nextCondition,n):void 0!==n[0]?Function('"use strict";return ('+n.map((function(e){return a.transformToLiteralExpression(e)})).join("")+")")():l)},e.prototype.transformToLiteralExpression=function(e){return(e.value?"true":"false").concat(this.transformToLiteralOperator(e.operator))},e.prototype.transformToLiteralOperator=function(e){switch(e){case"and":return"&&";case"or":return"||";case"and-not":return"&& !";case"or-not":return"|| !";default:return""}},e.prototype.getLeftValue=function(e,t){var n="";if(t.leftType&&t.leftType===ao.variable)n=this.getVariableValue(e,t.leftValue,this.processVarList);else if(t.leftType&&t.leftType===ao.field&&(void 0===(n=this.getFormValue(e,t.leftValue))||""===n)){var i=this.getVariableValue(e,t.leftValue,this.processVarList);n=this.isInvalidValue(i)?n:i}return n},e.prototype.getRightValue=function(e,t){return t.rightType===ao.variable?this.getVariableValue(e,t.rightValue,this.processVarList):t.rightType===ao.field?this.getFormValue(e,t.rightValue):a(t.rightValue,"YYYY-MM-DD",!0).isValid()?t.rightValue+"T00:00:00.000Z":t.rightValue},e.prototype.getFormValue=function(e,t){var n=this.getFormFieldById(e,t),i=void 0;return this.isFormFieldValid(n)&&(i=this.getFieldValue(e.values,t),this.isInvalidValue(i)&&(i=this.searchValueInForm(n,t))),i},e.prototype.isFormFieldValid=function(e){return e&&e.isValid},e.prototype.getFieldValue=function(e,t){var n,i;return t&&t.indexOf("_LABEL")>0?e[n=t.substring(0,t.length-6)]&&(i=Array.isArray(e[n])?e[n].map((function(e){return e.name})):e[n].name):i=e[t]&&e[t].id?e[t].id:e[t]&&Array.isArray(e[t])?e[t].map((function(e){return e.id})):e[t],i},e.prototype.isInvalidValue=function(e){return null==e},e.prototype.getFormFieldById=function(e,t){var n=this;return e.getFormFields().find((function(e){return n.isSearchedField(e,t)}))},e.prototype.searchValueInForm=function(e,t){var n="";return e&&((n=this.getObjectValue(e,t))||(e.value&&e.value.id?n=e.value.id:this.isInvalidValue(e.value)||(n=e.value))),n},e.prototype.isParentTabVisible=function(e,t){var n=this,i=this.getFormTabContainers(e),a=!0;return i.map((function(i){if(n.getCurrentFieldFromTabById(i,t.id)){var o=e.tabs.find((function(e){return e.id===i.tab}));o&&(a=o.isVisible)}})),a},e.prototype.getCurrentFieldFromTabById=function(e,t){var n,i,a,o=Object.keys(e.field.fields).map((function(t){return e.field.fields[t]}));try{for(var r=le(o),l=r.next();!l.done;l=r.next()){if(a=l.value.find((function(e){return e.id===t})))return a}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return null},e.prototype.getFormTabContainers=function(e){return e?e.fields.filter((function(e){return"container"===e.type&&e.tab})):[]},e.prototype.getObjectValue=function(e,t){var n="";if(e.value&&e.value.name)n=e.value.name;else if(e.options){var i=e.options.find((function(t){return t.id===e.value}));i&&(n=this.getValueFromOption(t,i))}return n},e.prototype.getValueFromOption=function(e,t){return e&&e.indexOf("_LABEL")>0?t.name:t.id},e.prototype.isSearchedField=function(e,t){var n=(null==t?void 0:t.indexOf("_LABEL"))>0?t.replace("_LABEL",""):t;return!(!e.id||!n)&&e.id.toUpperCase()===n.toUpperCase()},e.prototype.getVariableValue=function(e,t,n){var i=this.getProcessVariableValue(t,n),a=e.getFormVariableValue(t);return void 0===i?a:i},e.prototype.getProcessVariableValue=function(e,t){if(t){var n=t.find((function(t){return t.id===e||t.id==="variables."+e}));if(n)return n.value}},e.prototype.evaluateCondition=function(e,t,n){switch(n){case"==":return e+""==t+"";case"<":return e<t;case"!=":return e+""!=t+"";case">":return e>t;case">=":return e>=t;case"<=":return e<=t;case"empty":return!e||""===e;case"!empty":return!!e&&""!==e;case"contains":return this.contains(e,t);case"!contains":return!this.contains(e,t);default:return void this.logService.error("Invalid operator: "+n)}},e.prototype.contains=function(e,t){return Array.isArray(e)&&Array.isArray(t)&&t.every((function(t){return e.includes(t)}))},e.prototype.cleanProcessVariable=function(){this.processVarList=[]},e.prototype.getTaskProcessVariable=function(e){var t=this;return o.from(this.taskFormsApi.getTaskFormVariables(e)).pipe(s.map((function(e){var n=t.toJson(e);return t.processVarList=n,n})),s.catchError((function(){return t.handleError()})))},e.prototype.toJson=function(e){return e||{}},e.prototype.isValidCondition=function(e){return!(!e||!e.operator)},e.prototype.handleError=function(){return this.logService.error("Error while performing a call"),o.throwError("Error while performing a call - Server error")},e}();Zo.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Zo(t.ɵɵinject(Ce),t.ɵɵinject(Ae))},token:Zo,providedIn:"root"}),Zo.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Zo.ctorParameters=function(){return[{type:Ce},{type:Ae}]};var er=function(e){function t(t,n,i,a){var o=e.call(this,t,n)||this;return o.row=i,o.summary=a,o.isValid=!0,o}return ae(t,e),t}(Oo),tr=function(){function e(){this.supportedTypes=["Date"]}return e.prototype.isSupported=function(e){return e&&e.editable&&this.supportedTypes.indexOf(e.type)>-1},e.prototype.validate=function(e,t,n){if(this.isSupported(t)){var i=e.value[t.id];if(!i&&!t.required)return!0;if(!a(i,"YYYY-MM-DDTHH:mm:ss.SSSSZ",!0).isValid())return n&&(n.isValid=!1,n.message="Invalid '"+t.name+"' format."),!1}return!0},e}(),nr=function(e){function t(t){var n=e.call(this,t)||this;return n.isValid=t.isValid,n}return ae(t,e),t}(so),ir=function(){function e(){this.supportedTypes=["Number","Amount"]}return e.prototype.isSupported=function(e){return e&&e.required&&this.supportedTypes.indexOf(e.type)>-1},e.prototype.isNumber=function(e){return null!=e&&""!==e&&!isNaN(+e)},e.prototype.validate=function(e,t,n){if(this.isSupported(t)){var i=e.value[t.id];return!(null!=i&&""!==i&&!this.isNumber(i))||(n&&(n.isValid=!1,n.message="Field '"+t.name+"' must be a number."),!1)}return!0},e}(),ar=function(){function e(){this.supportedTypes=["String","Number","Amount","Date","Dropdown"]}return e.prototype.isSupported=function(e){return e&&e.required&&this.supportedTypes.indexOf(e.type)>-1},e.prototype.validate=function(e,t,n){if(this.isSupported(t)){var i=e.value[t.id];if(t.required&&(null==i||""===i))return n&&(n.isValid=!1,n.message="Field '"+t.name+"' is required."),!1}return!0},e}(),or=function(e){function t(t,n){var i=e.call(this,t.form,t.json)||this;if(i.formService=n,i.columns=[],i.visibleColumns=[],i.rows=[],i._validators=[],i.field=t,t.json){var a=i.getColumns(t);a&&(i.columns=a,i.visibleColumns=i.columns.filter((function(e){return e.visible}))),t.json.value&&(i.rows=t.json.value.map((function(e){return{selected:!1,value:e}})))}return i._validators=[new ar,new tr,new ir],i}return ae(t,e),Object.defineProperty(t.prototype,"selectedRow",{get:function(){return this._selectedRow},set:function(e){if(this._selectedRow&&this._selectedRow===e)return this._selectedRow.selected=!1,void(this._selectedRow=null);this.rows.forEach((function(e){return e.selected=!1})),this._selectedRow=e,e&&(this._selectedRow.selected=!0)},enumerable:!1,configurable:!0}),t.prototype.getColumns=function(e){if(e&&e.json){var t=e.json.columnDefinitions;if(!t&&e.json.params&&e.json.params.field&&(t=e.json.params.field.columnDefinitions),t)return t.map((function(e){return e}))}return null},t.prototype.flushValue=function(){this.field&&(this.field.value=this.rows.map((function(e){return e.value})),this.field.updateForm())},t.prototype.moveRow=function(e,t){var n=this.rows.indexOf(e);if(n>-1){var i=n+t;i<0?i=0:i>=this.rows.length&&(i=this.rows.length);var a=this.rows.slice();a.splice(n,1),a.splice(i,0,e),this.rows=a,this.flushValue()}},t.prototype.deleteRow=function(e){if(e){this.selectedRow===e&&(this.selectedRow=null);var t=this.rows.indexOf(e);t>-1&&(this.rows.splice(t,1),this.flushValue())}},t.prototype.addRow=function(e){e&&this.rows.push(e)},t.prototype.validateRow=function(e){var t,n,i,a,o=new nr({isValid:!0,message:null}),r=new er(this.form,this.field,e,o);if(this.formService.validateDynamicTableRow.next(r),r.defaultPrevented||!o.isValid)return o;if(e)try{for(var l=le(this.columns),s=l.next();!s.done;s=l.next()){var d=s.value;try{for(var p=(i=void 0,le(this._validators)),u=p.next();!u.done;u=p.next()){if(!u.value.validate(e,d,o))return o}}catch(e){i={error:e}}finally{try{u&&!u.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return o},t.prototype.getCellValue=function(e,t){var n=e.value[t.id];return"Dropdown"===t.type&&n?n.name:"Boolean"===t.type?!!n:"Date"===t.type&&n?a(n.split("T")[0],"YYYY-MM-DD").format("DD-MM-YYYY"):n||""},t.prototype.getDisplayText=function(e){var t=e.name;if("Amount"===e.type){var n=e.amountCurrency||"$";t=e.name+" ("+n+")"}return t},t}(oo),rr=function(e){function t(t,n,i,a,o){var r=e.call(this,t)||this;return r.formService=t,r.elementRef=n,r.visibilityService=i,r.logService=a,r.cd=o,r.ERROR_MODEL_NOT_FOUND="Table model not found",r.editMode=!1,r.editRow=null,r.selectArrayCode=[32,0,13],r}return ae(t,e),t.prototype.ngOnInit=function(){this.field&&(this.content=new or(this.field,this.formService),this.visibilityService.refreshVisibility(this.field.form))},t.prototype.forceFocusOnAddButton=function(){if(this.content){this.cd.detectChanges();var e=this.elementRef.nativeElement.querySelector("#"+this.content.id+"-add-row");this.isDynamicTableReady(e)&&e.focus()}},t.prototype.isDynamicTableReady=function(e){return this.field&&!this.editMode&&e},t.prototype.isValid=function(){var e=!0;return this.content&&this.content.field&&(e=this.content.field.isValid),e},t.prototype.onRowClicked=function(e){this.content&&(this.content.selectedRow=e)},t.prototype.onKeyPressed=function(e,t){this.content&&this.isEnterOrSpacePressed(e.keyCode)&&(this.content.selectedRow=t)},t.prototype.isEnterOrSpacePressed=function(e){return-1!==this.selectArrayCode.indexOf(e)},t.prototype.hasSelection=function(){return!(!this.content||!this.content.selectedRow)},t.prototype.moveSelectionUp=function(){return!(!this.content||this.readOnly)&&(this.content.moveRow(this.content.selectedRow,-1),!0)},t.prototype.moveSelectionDown=function(){return!(!this.content||this.readOnly)&&(this.content.moveRow(this.content.selectedRow,1),!0)},t.prototype.deleteSelection=function(){return!(!this.content||this.readOnly)&&(this.content.deleteRow(this.content.selectedRow),!0)},t.prototype.addNewRow=function(){return!(!this.content||this.readOnly)&&(this.editRow={isNew:!0,selected:!1,value:{}},this.editMode=!0,!0)},t.prototype.editSelection=function(){return!(!this.content||this.readOnly)&&(this.editRow=this.copyRow(this.content.selectedRow),this.editMode=!0,!0)},t.prototype.getCellValue=function(e,t){if(this.content){var n=this.content.getCellValue(e,t);return"Amount"===t.type?(t.amountCurrency||"$")+" "+(n||0):n}return null},t.prototype.onSaveChanges=function(){if(this.content){if(this.editRow.isNew){var e=this.copyRow(this.editRow);this.content.selectedRow=null,this.content.addRow(e),this.editRow.isNew=!1}else this.content.selectedRow.value=this.copyObject(this.editRow.value);this.content.flushValue()}else this.logService.error(this.ERROR_MODEL_NOT_FOUND);this.editMode=!1,this.forceFocusOnAddButton()},t.prototype.onCancelChanges=function(){this.editMode=!1,this.editRow=null,this.forceFocusOnAddButton()},t.prototype.copyRow=function(e){return{value:this.copyObject(e.value)}},t.prototype.copyObject=function(e){var t=this,n=e;return"object"==typeof e&&null!=e&&(n=Object.assign({},e),Object.keys(e).forEach((function(i){"object"==typeof e[i]&&(n[i]=t.copyObject(e[i]))}))),n},t}(jo);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */rr.decorators=[{type:t.Component,args:[{selector:"dynamic-table-widget",template:'<div class="adf-dynamic-table-scrolling {{field.className}}"\n    [class.adf-invalid]="!isValid()">\n    <div class="adf-label">{{content.name | translate }}<span *ngIf="isRequired()">*</span></div>\n\n    <div *ngIf="!editMode">\n        <div class="adf-table-container">\n            <table class="adf-full-width adf-dynamic-table" id="dynamic-table-{{content.id}}">\n                <thead>\n                    <tr>\n                        <th *ngFor="let column of content.visibleColumns">\n                            {{column.name}}\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor="let row of content.rows; let idx = index" tabindex="0" id="{{content.id}}-row-{{idx}}"\n                        [class.adf-dynamic-table-widget__row-selected]="row.selected" (keyup)="onKeyPressed($event, row)">\n                        <td *ngFor="let column of content.visibleColumns"\n                            (click)="onRowClicked(row)">\n                            <span *ngIf="column.type !== \'Boolean\' else checkbox">\n                                {{ getCellValue(row, column) }}\n                            </span>\n                            <ng-template #checkbox>\n                                <mat-checkbox disabled [checked]="getCellValue(row, column)">\n                                </mat-checkbox>\n                            </ng-template>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n\n        <div *ngIf="!readOnly">\n            <button mat-button\n                    [disabled]="!hasSelection()"\n                    (click)="moveSelectionUp()">\n                <mat-icon>arrow_upward</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]="!hasSelection()"\n                    (click)="moveSelectionDown()">\n                <mat-icon>arrow_downward</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]="field.readOnly"\n                    id="{{content.id}}-add-row"\n                    (click)="addNewRow()">\n                <mat-icon>add_circle_outline</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]="!hasSelection()"\n                    (click)="deleteSelection()">\n                <mat-icon>remove_circle_outline</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]="!hasSelection()"\n                    (click)="editSelection()">\n                <mat-icon>edit</mat-icon>\n            </button>\n        </div>\n     </div>\n\n     <row-editor *ngIf="editMode"\n        [table]="content"\n        [row]="editRow"\n        (save)="onSaveChanges()"\n        (cancel)="onCancelChanges()">\n     </row-editor>\n    <error-widget [error]="field.validationSummary" ></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:['dynamic-table-widget .adf-label{height:auto;width:auto}.adf-dynamic-table-scrolling{overflow:auto}.adf-dynamic-table{border:1px solid var(--theme-border-color);border-collapse:unset;border-spacing:0;font-size:14px;position:relative;white-space:nowrap;width:100%}.adf-dynamic-table thead{padding-bottom:3px}.adf-dynamic-table tbody tr{height:56px;position:relative;transition-duration:.28s;transition-property:background-color;transition-timing-function:cubic-bezier(.4,0,.2,1)}.adf-dynamic-table tbody tr:hover{background-color:#eee}.adf-dynamic-table tbody tr.adf-is-selected,.adf-dynamic-table tbody tr.adf-is-selected:hover{background-color:#e0f7fa}.adf-dynamic-table tbody tr:focus{outline:1px solid #448aff;outline-offset:-1px}.adf-dynamic-table td,.adf-dynamic-table th{padding:0 18px 12px;text-align:center}.adf-dynamic-table td:first-of-type,.adf-dynamic-table th:first-of-type{padding-left:24px}.adf-dynamic-table td:last-of-type,.adf-dynamic-table th:last-of-type{padding-right:24px}.adf-dynamic-table td{border-bottom:1px solid var(--theme-border-color);border-top:1px solid var(--theme-border-color);cursor:default;padding-top:12px;vertical-align:middle}.adf-dynamic-table td,.adf-dynamic-table th{-webkit-touch-callout:none;-webkit-user-select:none;box-sizing:border-box;color:var(--theme-text-fg-color);height:56px;position:relative;user-select:none}.adf-dynamic-table th{cursor:pointer;font-size:12px;font-weight:700;letter-spacing:0;line-height:24px;padding-bottom:8px;text-overflow:ellipsis;vertical-align:bottom}.adf-dynamic-table th.adf-sortable{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.adf-dynamic-table th.adf-sortable:hover{cursor:pointer}.adf-dynamic-table th.adf-dynamic-table__header--sorted-asc,.adf-dynamic-table th.adf-dynamic-table__header--sorted-desc{color:var(--theme-text-fg-color)}.adf-dynamic-table th.adf-dynamic-table__header--sorted-asc:before,.adf-dynamic-table th.adf-dynamic-table__header--sorted-desc:before{-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased;content:"\\e5d8";display:inline-block;font-family:Material Icons;font-feature-settings:"liga";font-size:24px;font-size:16px;font-style:normal;font-weight:400;letter-spacing:normal;line-height:1;margin-right:5px;text-transform:none;vertical-align:sub;word-wrap:normal}.adf-dynamic-table th.adf-dynamic-table__header--sorted-asc:hover,.adf-dynamic-table th.adf-dynamic-table__header--sorted-desc:hover{cursor:pointer}.adf-dynamic-table th.adf-dynamic-table__header--sorted-asc:hover:before,.adf-dynamic-table th.adf-dynamic-table__header--sorted-desc:hover:before{color:var(--theme-disabled-text-color)}.adf-dynamic-table th.adf-dynamic-table__header--sorted-desc:before{content:"\\e5db"}.adf-dynamic-table .adf-dynamic-table-cell{cursor:default;text-align:left}.adf-dynamic-table .adf-dynamic-table-cell--text{text-align:left}.adf-dynamic-table .adf-dynamic-table-cell--number{text-align:right}.adf-dynamic-table .adf-dynamic-table-cell--image{text-align:left}.adf-dynamic-table .adf-dynamic-table-cell--image img{height:24px;width:24px}.adf-dynamic-table .adf-full-width{width:100%}']}]}],rr.ctorParameters=function(){return[{type:Uo},{type:t.ElementRef},{type:Zo},{type:Ae},{type:t.ChangeDetectorRef}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var lr=function(){function e(){}return e.prototype.onValueChanged=function(e,t,n){var i=n.checked;e.value[t.id]=i},e}();lr.decorators=[{type:t.Component,args:[{selector:"adf-boolean-editor",template:' <label [attr.for]="column.id">\n    <mat-checkbox\n        color="primary"\n        [id]="column.id"\n        [checked]="table.getCellValue(row, column)"\n        [required]="column.required"\n        [disabled]="!column.editable"\n        (change)="onValueChanged(row, column, $event)">\n    <span class="adf-checkbox-label">{{column.name}}</span>\n    </mat-checkbox>\n</label>\n',styles:[".adf-checkbox-label{cursor:pointer;font-size:16px;line-height:24px;margin:0;position:relative}"]}]}],lr.propDecorators={table:[{type:t.Input}],row:[{type:t.Input}],column:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var sr=ue,dr=function(){function t(e,t){this.dateAdapter=e,this.userPreferencesService=t,this.DATE_FORMAT="DD-MM-YYYY",this.onDestroy$=new o.Subject}return t.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(e.UserPreferenceValues.Locale).pipe(s.takeUntil(this.onDestroy$)).subscribe((function(e){return t.dateAdapter.setLocale(e)})),this.dateAdapter.overrideDisplayFormat=this.DATE_FORMAT,this.value=a(this.table.getCellValue(this.row,this.column),this.DATE_FORMAT)},t.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},t.prototype.onDateChanged=function(e){if(e&&e.value){var t=a(e.value,this.DATE_FORMAT,!0);t.isValid()?(this.row.value[this.column.id]=t.format("YYYY-MM-DD")+"T00:00:00.000Z",this.table.flushValue()):this.row.value[this.column.id]=e.value}else this.row.value[this.column.id]=""},t}();dr.decorators=[{type:t.Component,args:[{selector:"adf-date-editor",template:'<div>\n    <mat-form-field class="adf-date-editor">\n        <label [attr.for]="column.id">{{column.name}} ({{DATE_FORMAT}})</label>\n        <input matInput\n            id="dateInput"\n            type="text"\n            [matDatepicker]="datePicker"\n            [value]="value"\n            [id]="column.id"\n            [required]="column.required"\n            [disabled]="!column.editable"\n            (focusout)="onDateChanged($any($event).srcElement)"\n            (dateChange)="onDateChanged($event)">\n        <mat-datepicker-toggle  *ngIf="column.editable" matSuffix [for]="datePicker" class="adf-date-editor-button" ></mat-datepicker-toggle>\n    </mat-form-field>\n    <mat-datepicker #datePicker [touchUi]="true"></mat-datepicker>\n</div>\n',providers:[{provide:n.DateAdapter,useClass:me},{provide:n.MAT_DATE_FORMATS,useValue:sr}],styles:[".adf-date-editor{width:100%}.adf-date-editor-button{position:relative;top:25px}"]}]}],dr.ctorParameters=function(){return[{type:n.DateAdapter},{type:Je}]},dr.propDecorators={table:[{type:t.Input}],row:[{type:t.Input}],column:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var pr=ue,ur=X.MAT_MOMENT_DATETIME_FORMATS,cr=function(){function t(e,t){this.dateAdapter=e,this.userPreferencesService=t,this.DATE_TIME_FORMAT="DD/MM/YYYY HH:mm",this.onDestroy$=new o.Subject}return t.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(e.UserPreferenceValues.Locale).pipe(s.takeUntil(this.onDestroy$)).subscribe((function(e){return t.dateAdapter.setLocale(e)})),this.dateAdapter.overrideDisplayFormat=this.DATE_TIME_FORMAT,this.value=a(this.table.getCellValue(this.row,this.column),this.DATE_TIME_FORMAT)},t.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},t.prototype.onDateChanged=function(e){if(e&&e.value){var t=a(e.value,this.DATE_TIME_FORMAT);this.row.value[this.column.id]=e.value.format(this.DATE_TIME_FORMAT),this.value=t,this.table.flushValue()}else if(e){t=a(e,this.DATE_TIME_FORMAT);this.value=t,this.row.value[this.column.id]=e,this.table.flushValue()}else this.row.value[this.column.id]=""},t}();cr.decorators=[{type:t.Component,args:[{selector:"adf-datetime-editor",template:'<div>\n    <mat-form-field class="adf-date-editor">\n        <label [attr.for]="column.id">{{column.name}} {{DATE_TIME_FORMAT}}</label>\n        <input matInput\n            [matDatetimepicker]="datetimePicker"\n            [(ngModel)]="value"\n            [id]="column.id"\n            [required]="column.required"\n            [disabled]="!column.editable"\n            (focusout)="onDateChanged($any($event).srcElement.value)"\n            (dateChange)="onDateChanged($event)">\n            <mat-datetimepicker-toggle\n                matSuffix\n                [for]="datetimePicker"\n                class="adf-date-editor-button">\n            </mat-datetimepicker-toggle>\n    </mat-form-field>\n    <mat-datetimepicker\n        #datetimePicker\n        type="datetime"\n        [openOnFocus]="true"\n        [timeInterval]="5">\n    </mat-datetimepicker>\n</div>\n',providers:[{provide:n.DateAdapter,useClass:me},{provide:n.MAT_DATE_FORMATS,useValue:pr},{provide:c.DatetimeAdapter,useClass:X.MomentDatetimeAdapter},{provide:c.MAT_DATETIME_FORMATS,useValue:ur}],styles:[".adf-date-editor{width:100%}.adf-date-editor-button{position:relative;top:25px}"]}]}],cr.ctorParameters=function(){return[{type:n.DateAdapter},{type:Je}]},cr.propDecorators={table:[{type:t.Input}],row:[{type:t.Input}],column:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var fr=function(){function e(e,t){this.formService=e,this.logService=t,this.value=null,this.options=[]}return e.prototype.ngOnInit=function(){var e=this.table.field;e&&("rest"===this.column.optionType?this.table.form&&this.table.form.taskId?this.getValuesByTaskId(e):this.getValuesByProcessDefinitionId(e):(this.options=this.column.options||[],this.value=this.table.getCellValue(this.row,this.column)))},e.prototype.getValuesByTaskId=function(e){var t=this;this.formService.getRestFieldValuesColumn(e.form.taskId,e.id,this.column.id).subscribe((function(e){t.column.options=e||[],t.options=t.column.options,t.value=t.table.getCellValue(t.row,t.column)}),(function(e){return t.handleError(e)}))},e.prototype.getValuesByProcessDefinitionId=function(e){var t=this;this.formService.getRestFieldValuesColumnByProcessId(e.form.processDefinitionId,e.id,this.column.id).subscribe((function(e){t.column.options=e||[],t.options=t.column.options,t.value=t.table.getCellValue(t.row,t.column)}),(function(e){return t.handleError(e)}))},e.prototype.onValueChanged=function(e,t,n){var i=n.value;i=t.options.find((function(e){return e.name===i})),e.value[t.id]=i},e.prototype.handleError=function(e){this.logService.error(e)},e}();fr.decorators=[{type:t.Component,args:[{selector:"adf-dropdown-editor",template:'<div class="dropdown-editor">\n    <label [attr.for]="column.id">{{column.name}}</label>\n    <mat-form-field>\n        <mat-select\n            floatPlaceholder="never"\n            class="adf-dropdown-editor-select"\n            [id]="column.id"\n            [(ngModel)]="value"\n            [required]="column.required"\n            [disabled]="!column.editable"\n            (selectionChange)="onValueChanged(row, column, $event)">\n            <mat-option></mat-option>\n            <mat-option *ngFor="let opt of options" [value]="opt.name" [id]="opt.id">{{opt.name}}</mat-option>\n        </mat-select>\n    </mat-form-field>\n</div>\n',styles:[".adf-dropdown-editor-select{width:100%}"]}]}],fr.ctorParameters=function(){return[{type:Uo},{type:Ae}]},fr.propDecorators={table:[{type:t.Input}],row:[{type:t.Input}],column:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var mr=function(){function e(){this.save=new t.EventEmitter,this.cancel=new t.EventEmitter,this.validationSummary=new nr({isValid:!0,message:""})}return e.prototype.onCancelChanges=function(){this.cancel.emit({table:this.table,row:this.row,column:this.column})},e.prototype.onSaveChanges=function(){this.validate(),this.isValid()&&this.save.emit({table:this.table,row:this.row,column:this.column})},e.prototype.isValid=function(){return this.validationSummary&&this.validationSummary.isValid},e.prototype.validate=function(){this.validationSummary=this.table.validateRow(this.row)},e}();mr.decorators=[{type:t.Component,args:[{selector:"row-editor",template:'<div class="row-editor mdl-shadow--2dp"\n     [class.row-editor__invalid]="!validationSummary.isValid">\n    <div class="mdl-grid" *ngFor="let column of table.columns">\n        <div class="mdl-cell mdl-cell--6-col" [ngSwitch]="column.type">\n            <div *ngSwitchCase="\'Dropdown\'">\n                <adf-dropdown-editor\n                    [table]="table"\n                    [row]="row"\n                    [column]="column">\n                </adf-dropdown-editor>\n            </div>\n            <div *ngSwitchCase="\'Date\'">\n                <adf-date-editor\n                    [table]="table"\n                    [row]="row"\n                    [column]="column">\n                </adf-date-editor>\n            </div>\n            <div *ngSwitchCase="\'Datetime\'">\n                <adf-datetime-editor\n                    [table]="table"\n                    [row]="row"\n                    [column]="column">\n                </adf-datetime-editor>\n            </div>\n            <div *ngSwitchCase="\'Boolean\'">\n                <adf-boolean-editor\n                    [table]="table"\n                    [row]="row"\n                    [column]="column">\n                </adf-boolean-editor>\n            </div>\n            <div *ngSwitchCase="\'Amount\'">\n                <adf-amount-editor\n                    [table]="table"\n                    [row]="row"\n                    [column]="column">\n                </adf-amount-editor>\n            </div>\n            <div *ngSwitchDefault>\n                <adf-text-editor\n                    [table]="table"\n                    [row]="row"\n                    [column]="column">\n                </adf-text-editor>\n            </div>\n        </div>\n    </div>\n    <error-widget [error]="validationSummary"></error-widget>\n    <div>\n        <button mat-button (click)="onCancelChanges()">Cancel</button>\n        <button mat-button (click)="onSaveChanges()">Save</button>\n    </div>\n</div>\n',styles:[".row-editor{padding:8px}.row-editor__validation-summary{visibility:hidden}.row-editor__invalid .row-editor__validation-summary{color:#d50000;padding:8px 16px;visibility:visible}"]}]}],mr.ctorParameters=function(){return[]},mr.propDecorators={table:[{type:t.Input}],row:[{type:t.Input}],column:[{type:t.Input}],save:[{type:t.Output}],cancel:[{type:t.Output}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var hr=function(){function e(){}return e.prototype.ngOnInit=function(){this.displayName=this.table.getDisplayText(this.column)},e.prototype.onValueChanged=function(e,t,n){var i=n.target.value;e.value[t.id]=i},e}();hr.decorators=[{type:t.Component,args:[{selector:"adf-text-editor",template:'<div class="adf-text-editor">\n    <mat-form-field>\n    <label [attr.for]="column.id">{{displayName}}</label>\n    <input matInput\n        type="text"\n        [value]="table.getCellValue(row, column)"\n        (keyup)="onValueChanged(row, column, $event)"\n        [required]="column.required"\n        [disabled]="!column.editable"\n        [id]="column.id">\n    </mat-form-field>\n</div>\n',styles:[".adf-text-editor{width:100%}"]}]}],hr.propDecorators={table:[{type:t.Input}],row:[{type:t.Input}],column:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var gr=function(){function e(){}return e.prototype.ngOnInit=function(){this.displayName=this.table.getDisplayText(this.column)},e.prototype.onValueChanged=function(e,t,n){var i=Number(n.target.value);e.value[t.id]=i},e}();gr.decorators=[{type:t.Component,args:[{selector:"adf-amount-editor",template:'<div class="adf-amount-editor">\n    <mat-form-field>\n    <label [attr.for]="column.id">{{displayName}}</label>\n    <input matInput\n        type="number"\n        [value]="table.getCellValue(row, column)"\n        (keyup)="onValueChanged(row, column, $event)"\n        [required]="column.required"\n        [disabled]="!column.editable"\n        [id]="column.id">\n    </mat-form-field>\n</div>\n',styles:[".adf-text-editor{width:100%}"]}]}],gr.propDecorators={table:[{type:t.Input}],row:[{type:t.Input}],column:[{type:t.Input}]};var yr=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n.translateParameters=null,n._subscriptAnimationState="",n}return ae(t,e),t.prototype.ngOnChanges=function(e){e.required&&(this.required=e.required.currentValue,this._subscriptAnimationState="enter"),e.error&&e.error.currentValue&&e.error.currentValue.isActive()&&(this.error=e.error.currentValue,this.translateParameters=this.error.getAttributesAsJsonObj(),this._subscriptAnimationState="enter")},t}(jo);yr.decorators=[{type:t.Component,args:[{selector:"error-widget",template:'<div class="adf-error-text-container">\n    <div *ngIf="error?.isActive()" [@transitionMessages]="_subscriptAnimationState">\n        <div class="adf-error-text">{{error.message | translate:translateParameters}}</div>\n        <mat-icon class="adf-error-icon">warning</mat-icon>\n    </div>\n    <div *ngIf="required" [@transitionMessages]="_subscriptAnimationState">\n            <div class="adf-error-text">{{required}}</div>\n    </div>\n</div>\n',animations:[B.trigger("transitionMessages",[B.state("enter",B.style({opacity:1,transform:"translateY(0%)"})),B.transition("void => enter",[B.style({opacity:0,transform:"translateY(-100%)"}),B.animate("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])],host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-error-text{width:85%}"]}]}],yr.ctorParameters=function(){return[{type:Uo}]},yr.propDecorators={error:[{type:t.Input}],required:[{type:t.Input}]};var vr=function(e){function t(t,n){var i=e.call(this,t)||this;return i.formService=t,i.elementRef=n,i.minTermLength=1,i.searchTerm=new G.FormControl,i.groups$=o.merge(i.searchTerm.valueChanges).pipe(s.tap((function(e){var t="string"!=typeof e,n=""===e;i.updateOption(t?e:null),i.validateGroup(t,n)})),s.filter((function(e){return"string"==typeof e&&e.length>=i.minTermLength})),s.debounceTime(300),s.switchMap((function(e){return i.formService.getWorkflowGroups(e,i.groupId).pipe(s.catchError((function(){return o.of([])})))}))),i}return ae(t,e),t.prototype.ngOnInit=function(){var e;if(this.field){this.field.readOnly&&this.searchTerm.disable();var t=this.field.params;if(t&&t.restrictWithGroup){var n=t.restrictWithGroup;this.groupId=n.id}(null===(e=this.field.value)||void 0===e?void 0:e.name)&&this.searchTerm.setValue(this.field.value.name)}},t.prototype.updateOption=function(e){this.field.value=e||null,this.field.updateForm()},t.prototype.validateGroup=function(e,t){var n=!this.field.required&&(t||e);this.field.required&&e||n?(this.field.validationSummary.message="",this.field.validate(),this.field.form.validateForm()):(this.field.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_VALUE",this.field.markAsInvalid(),this.field.form.markAsInvalid())},t.prototype.getDisplayName=function(e){return e?"string"==typeof e?e:e.name:""},t}(jo);vr.decorators=[{type:t.Component,args:[{selector:"functional-group-widget",template:'<div class="adf-group-widget {{field.className}}"\n     [class.is-dirty]="!!field.value"\n     [class.adf-invalid]="!field.isValid"\n     [class.adf-readonly]="field.readOnly"\n     id="functional-group-div">\n\n    <mat-form-field>\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n        <input matInput\n               class="adf-input"\n               type="text"\n               data-automation-id="adf-group-search-input"\n               [id]="field.id"\n               [formControl]="searchTerm"\n               [placeholder]="field.placeholder"\n               [matAutocomplete]="auto">\n        <mat-autocomplete #auto="matAutocomplete" (optionSelected)="updateOption($event.option.value)" [displayWith]="getDisplayName">\n            <mat-option *ngFor="let item of groups$ | async; let i = index"\n                        id="adf-group-widget-user-{{i}}"\n                       [id]="field.id +\'-\'+item.id"\n                       [value]="item">\n                <span id="adf-group-label-name">{{item.name}}</span>\n            </mat-option>\n        </mat-autocomplete>\n\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-group-widget{width:100%}"]}]}],vr.ctorParameters=function(){return[{type:Uo},{type:t.ElementRef}]};var br=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n.linkUrl="#",n.linkText=null,n}return ae(t,e),t.prototype.ngOnInit=function(){this.field&&(this.linkUrl=this.getHyperlinkUrl(this.field),this.linkText=this.getHyperlinkText(this.field))},t.prototype.getHyperlinkUrl=function(e){var n=e.value||e.hyperlinkUrl;return n&&!/^https?:\/\//i.test(n)&&(n=""+t.DEFAULT_HYPERLINK_SCHEME+n),n||t.DEFAULT_HYPERLINK_URL},t.prototype.getHyperlinkText=function(e){return e?e.displayText||e.hyperlinkUrl||e.value:null},t}(jo);br.DEFAULT_HYPERLINK_URL="#",br.DEFAULT_HYPERLINK_SCHEME="http://",br.decorators=[{type:t.Component,args:[{selector:"hyperlink-widget",template:'<div class="adf-hyperlink-widget {{field.className}}">\n    <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span\n            *ngIf="isRequired()">*</span></label>\n    <div [matTooltip]="field.tooltip" matTooltipPosition="above" matTooltipShowDelay="1000">\n        <a [href]="linkUrl" target="_blank" rel="nofollow">{{linkText}}</a>\n    </div>\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-hyperlink-widget{border-top:.84375em solid transparent;padding:.4375em 0}.adf-hyperlink-widget a{color:var(--theme-primary-color)}"]}]}],br.ctorParameters=function(){return[{type:Uo}]};var wr=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n}return ae(t,e),t}(jo);wr.decorators=[{type:t.Component,args:[{selector:"multiline-text-widget",template:'<div class="adf-multiline-text-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n    <mat-form-field floatPlaceholder="never">\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n        <textarea matInput class="adf-input"\n                  [matTextareaAutosize]="true"\n                  type="text"\n                  rows="3"\n                  [id]="field.id"\n                  [required]="isRequired()"\n                  [(ngModel)]="field.value"\n                  (ngModelChange)="onFieldChanged(field)"\n                  [disabled]="field.readOnly || readOnly"\n                  [placeholder]="field.placeholder"\n                  [matTooltip]="field.tooltip"\n                  matTooltipPosition="above"\n                  matTooltipShowDelay="1000">\n        </textarea>\n    </mat-form-field>\n    <div *ngIf="field.maxLength > 0" class="adf-multiline-word-counter">\n        <span>{{field?.value?.length || 0}}/{{field.maxLength}}</span>\n    </div>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget class="adf-multiline-required-message" *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-multiline-text-widget{width:100%}.adf-multiline-text-widget .mat-form-field-label-wrapper{top:20px}.adf-multiline-word-counter{float:right;font-size:12px;line-height:14px;margin-top:-20px!important;min-height:24px;min-width:1px;opacity:1;overflow:hidden;padding-left:0;padding-right:2px;padding-top:5px;text-align:right;transition:all .3s cubic-bezier(.55,0,.55,.2)}.adf-multiline-required-message{display:flex}"]}]}],wr.ctorParameters=function(){return[{type:Uo}]};var Ir=function(e){function t(t,n){var i=e.call(this,t)||this;return i.formService=t,i.decimalNumberPipe=n,i}return ae(t,e),t.prototype.ngOnInit=function(){this.field.readOnly?this.displayValue=this.decimalNumberPipe.transform(this.field.value):this.displayValue=this.field.value},t}(jo);Ir.decorators=[{type:t.Component,args:[{selector:"number-widget",template:'<div class="adf-textfield adf-number-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n    <mat-form-field>\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n        <input matInput\n               class="adf-input"\n               type="text"\n               pattern="-?[0-9]*(\\.[0-9]+)?"\n               [id]="field.id"\n               [required]="isRequired()"\n               [value]="displayValue"\n               [(ngModel)]="field.value"\n               (ngModelChange)="onFieldChanged(field)"\n               [disabled]="field.readOnly"\n               [placeholder]="field.placeholder"\n               [matTooltip]="field.tooltip"\n               matTooltipPosition="above"\n               matTooltipShowDelay="1000">\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary" ></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-number-widget{width:100%}.adf-number-widget .mat-form-field-label-wrapper{top:20px}"]}]}],Ir.ctorParameters=function(){return[{type:Uo},{type:ft}]};var Er=function(){function e(e,t){this.apiService=e,this.logService=t}return Object.defineProperty(e.prototype,"taskActionsApi",{get:function(){var e;return this._taskActionsApi=null!==(e=this._taskActionsApi)&&void 0!==e?e:new r.TaskActionsApi(this.apiService.getInstance()),this._taskActionsApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userApi",{get:function(){var e;return this._userApi=null!==(e=this._userApi)&&void 0!==e?e:new r.UsersApi(this.apiService.getInstance()),this._userApi},enumerable:!1,configurable:!0}),e.prototype.getWorkflowUsers=function(e,t){var n=this,i={excludeTaskId:e,filter:t};return o.from(this.getWorkflowUserApi(i)).pipe(s.map((function(e){return e.data||[]})),s.catchError((function(e){return n.handleError(e)})))},e.prototype.getUserImage=function(e){return this.getUserProfileImageApi(e.id.toString())},e.prototype.involveUserWithTask=function(e,t){var n=this,i={userId:t};return o.from(this.involveUserToTaskApi(e,i)).pipe(s.catchError((function(e){return n.handleError(e)})))},e.prototype.removeInvolvedUser=function(e,t){var n=this,i={userId:t};return o.from(this.removeInvolvedUserFromTaskApi(e,i)).pipe(s.catchError((function(e){return n.handleError(e)})))},e.prototype.getWorkflowUserApi=function(e){return this.userApi.getUsers(e)},e.prototype.involveUserToTaskApi=function(e,t){return this.taskActionsApi.involveUser(e,t)},e.prototype.removeInvolvedUserFromTaskApi=function(e,t){return this.taskActionsApi.removeInvolvedUser(e,t)},e.prototype.getUserProfileImageApi=function(e){return this.userApi.getUserProfilePictureUrl(e)},e.prototype.handleError=function(e){return this.logService.error(e),o.throwError(e||"Server error")},e}();Er.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Er(t.ɵɵinject(Ce),t.ɵɵinject(Ae))},token:Er,providedIn:"root"}),Er.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Er.ctorParameters=function(){return[{type:Ce},{type:Ae}]};var Cr=function(e){function n(n,i){var a=e.call(this,n)||this;return a.formService=n,a.peopleProcessService=i,a.peopleSelected=new t.EventEmitter,a.searchTerm=new G.FormControl,a.searchTerms$=a.searchTerm.valueChanges,a.users$=a.searchTerms$.pipe(s.tap((function(e){"string"==typeof e&&a.onItemSelect()})),s.distinctUntilChanged(),s.switchMap((function(e){var t=e.email?a.getDisplayName(e):e;return a.formService.getWorkflowUsers(t,a.groupId).pipe(s.catchError((function(){return o.of([])})))})),s.map((function(e){var t=a.searchTerm.value.email?a.getDisplayName(a.searchTerm.value):a.searchTerm.value;return a.checkUserAndValidateForm(e,t),e}))),a}return ae(n,e),n.prototype.ngOnInit=function(){if(this.field){this.field.value&&this.searchTerm.setValue(this.field.value),this.field.readOnly&&this.searchTerm.disable();var e=this.field.params;if(e&&e.restrictWithGroup){var t=e.restrictWithGroup;this.groupId=t.id}}},n.prototype.checkUserAndValidateForm=function(e,t){this.isValidUser(e,t)||""===t?(this.field.validationSummary.message="",this.field.validate(),this.field.form.validateForm()):(this.field.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_VALUE",this.field.markAsInvalid(),this.field.form.markAsInvalid())},n.prototype.isValidUser=function(e,t){var n=this;return!!e&&!!e.find((function(e){var i=n.getDisplayName(e).toLocaleLowerCase()===t.toLocaleLowerCase();return i&&n.peopleSelected.emit(e&&e.id||void 0),i}))},n.prototype.getDisplayName=function(e){return e?((e.firstName||"")+" "+(e.lastName||"")).trim():""},n.prototype.onItemSelect=function(e){this.field.value=e||null},n}(jo);Cr.decorators=[{type:t.Component,args:[{selector:"people-widget",template:'<div class="adf-people-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid"\n     [class.adf-readonly]="field.readOnly"\n     id="people-widget-content">\n    <mat-form-field>\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n        <input #inputValue\n               matInput\n               class="adf-input"\n               data-automation-id="adf-people-search-input"\n               type="text"\n               [id]="field.id"\n               [formControl]="searchTerm"\n               [placeholder]="field.placeholder"\n               [matAutocomplete]="auto"\n               [matTooltip]="field.tooltip"\n               matTooltipPosition="above"\n               matTooltipShowDelay="1000">\n        <mat-autocomplete class="adf-people-widget-list"\n                          #auto="matAutocomplete"\n                          (optionSelected)="onItemSelect($event.option.value)"\n                          [displayWith]="getDisplayName">\n            <mat-option *ngFor="let user of users$ | async; let i = index" [value]="user">\n                <div class="adf-people-widget-row" id="adf-people-widget-user-{{i}}">\n                    <div [outerHTML]="user | usernameInitials:\'adf-people-widget-pic\'"></div>\n                    <div *ngIf="user.pictureId" class="adf-people-widget-image-row">\n                        <img id="adf-people-widget-pic-{{i}}" class="adf-people-widget-image"\n                             [alt]="getDisplayName(user)" [src]="peopleProcessService.getUserImage(user)"/>\n                    </div>\n                    <span class="adf-people-label-name">{{getDisplayName(user)}}</span>\n                </div>\n            </mat-option>\n        </mat-autocomplete>\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-people-widget{width:100%}.adf-people-widget .mat-form-field-label-wrapper{top:10px}.adf-people-widget-list{margin:5px 0;padding:10px 0}.adf-people-widget-row{align-items:center;display:flex}.adf-people-widget-pic{align-items:center;background:var(--theme-primary-color);border-radius:100px;color:var(--theme-text-fg-color);display:flex;font-size:18px;font-weight:bolder;height:40px;justify-content:center;text-transform:uppercase;width:40px}.adf-people-widget-image{background:var(--theme-dialog-bg-color);border-radius:100px;display:inline-block;height:40px;left:21px;margin-left:-44px;padding:0;vertical-align:middle;width:40px}.adf-people-widget-image-row{display:inline-block}.adf-people-label-name{padding-left:10px}"]}]}],Cr.ctorParameters=function(){return[{type:Uo},{type:Er}]},Cr.propDecorators={input:[{type:t.ViewChild,args:["inputValue",{static:!0}]}],peopleSelected:[{type:t.Output}]};var xr=function(e){function t(t,n){var i=e.call(this,t)||this;return i.formService=t,i.logService=n,i}return ae(t,e),t.prototype.ngOnInit=function(){this.field&&this.field.restUrl&&(this.field.form.taskId?this.getOptionsByTaskId():this.getOptionsByProcessDefinitionId())},t.prototype.getOptionsByTaskId=function(){var e=this;this.formService.getRestFieldValues(this.field.form.taskId,this.field.id).subscribe((function(t){e.field.options=t||[],e.field.updateForm()}),(function(t){return e.handleError(t)}))},t.prototype.getOptionsByProcessDefinitionId=function(){var e=this;this.formService.getRestFieldValuesByProcessId(this.field.form.processDefinitionId,this.field.id).subscribe((function(t){e.field.options=t||[],e.field.updateForm()}),(function(t){return e.handleError(t)}))},t.prototype.onOptionClick=function(e){this.field.value=e,this.fieldChanged.emit(this.field)},t.prototype.handleError=function(e){this.logService.error(e)},t}(jo);xr.decorators=[{type:t.Component,args:[{selector:"radio-buttons-widget",template:'<div class="adf-radio-buttons-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly" [id]="field.id">\n    <div class="adf-radio-button-container">\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n        <mat-radio-group class="adf-radio-group" [(ngModel)]="field.value" [disabled]="field.readOnly">\n            <mat-radio-button\n                [matTooltip]="field.tooltip"\n                matTooltipPosition="above"\n                matTooltipShowDelay="1000"\n                [id]="field.id + \'-\' + opt.id"\n                [name]="field.id"\n                [value]="opt.id"\n                [checked]="field.value === opt.id"\n                (change)="onOptionClick(opt.id)"\n                color="primary"\n                class="adf-radio-button" *ngFor="let opt of field.options" >\n                {{opt.name}}\n            </mat-radio-button>\n        </mat-radio-group>\n    </div>\n    <error-widget [error]="field.validationSummary" ></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-radio-button-container{display:flex;flex-direction:column;margin-bottom:15px}.adf-radio-group{display:inline-flex;flex-direction:column;margin-left:5px;margin-top:15px}.adf-radio-button{margin:5px}"]}]}],xr.ctorParameters=function(){return[{type:Uo},{type:Ae}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Sr={provide:G.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return Tr})),multi:!0},Tr=function(){function e(e,t){this.el=e,this.render=t,this.translationMask={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}},this.byPassKeys=[9,16,17,18,36,37,38,39,40,91],this.invalidCharacters=[],this._onChange=function(e){},this._onTouched=function(){}}return e.prototype.onTextInput=function(e){this.inputMask&&this.inputMask.mask?this.maskValue(this.el.nativeElement.value,this.el.nativeElement.selectionStart,this.inputMask.mask,this.inputMask.isReversed,e.keyCode):this._onChange(this.el.nativeElement.value)},e.prototype.ngOnChanges=function(e){e.inputMask&&e.inputMask.currentValue.mask&&(this.inputMask=e.inputMask.currentValue)},e.prototype.writeValue=function(e){this.el.nativeElement.value=e},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.maskValue=function(e,t,n,i,a){if(-1===this.byPassKeys.indexOf(a)){var o=this.getMasked(!1,e,n,i),r=this.calculateCaretPosition(t,e,a);this.render.setAttribute(this.el.nativeElement,"value",o),this.el.nativeElement.value=o,this.setValue(o),this._onChange(o),this.setCaretPosition(r)}},e.prototype.setCaretPosition=function(e){this.el.nativeElement.moveStart=e,this.el.nativeElement.moveEnd=e},e.prototype.calculateCaretPosition=function(e,t,n){var i=t.length,a=this.getValue()||"",o=a.length;return 8===n&&a!==t?e-=t.slice(0,e).length-a.slice(0,e).length:a!==t&&(e>=o?e=i:e+=t.slice(0,e).length-a.slice(0,e).length),e},e.prototype.getMasked=function(e,t,n,i){void 0===i&&(i=!1);var a,o,r,l=[],s=t,d=0,p=n.length,u=0,c=s.length,f=1,m="push",h=-1;for(i?(m="unshift",f=-1,a=0,d=p-1,u=c-1):a=p-1,r=this.isToCheck(i,d,p,u,c);r;){var g=n.charAt(d),y=s.charAt(u),v=this.translationMask[g];v?(y.match(v.pattern)?(l[m](y),v.recursive&&(-1===h?h=d:d===a&&(d=h-f),a===h&&(d-=f)),d+=f):y===o?o=void 0:v.optional?(d+=f,u-=f):this.invalidCharacters.push({index:u,digit:y,translated:v.pattern}),u+=f):(e||l[m](g),y===g?u+=f:o=g,d+=f),r=this.isToCheck(i,d,p,u,c)}var b=n.charAt(a);return p!==c+1||this.translationMask[b]||l.push(b),l.join("")},e.prototype.isToCheck=function(e,t,n,i,a){return e?t>-1&&i>-1:t<n&&i<a},e.prototype.setValue=function(e){this.value=e},e.prototype.getValue=function(){return this.value},e}();Tr.decorators=[{type:t.Directive,args:[{selector:"[adf-text-mask], [textMask]",providers:[Sr]}]}],Tr.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2}]},Tr.propDecorators={inputMask:[{type:t.Input,args:["textMask"]}],onTextInput:[{type:t.HostListener,args:["input",["$event"]]},{type:t.HostListener,args:["keyup",["$event"]]}]};var Ar=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n}return ae(t,e),t.prototype.ngOnInit=function(){this.field.params&&(this.mask=this.field.params.inputMask,this.placeholder=this.field.params.inputMask&&this.field.params.inputMaskPlaceholder?this.field.params.inputMaskPlaceholder:this.field.placeholder,this.isMaskReversed=!!this.field.params.inputMaskReversed&&this.field.params.inputMaskReversed)},t}(jo);Ar.decorators=[{type:t.Component,args:[{selector:"text-widget",template:'<div class="adf-textfield adf-text-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n    <mat-form-field>\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n        <input matInput\n               class="adf-input"\n               type="text"\n               [id]="field.id"\n               [required]="isRequired()"\n               [value]="field.value"\n               [(ngModel)]="field.value"\n               (ngModelChange)="onFieldChanged(field)"\n               [disabled]="field.readOnly || readOnly"\n               [textMask]="{mask: mask, isReversed: isMaskReversed}"\n               [placeholder]="placeholder"\n               [matTooltip]="field.tooltip"\n                matTooltipPosition="above"\n                matTooltipShowDelay="1000">\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-text-widget{width:100%}.adf-text-widget .mat-form-field-label-wrapper{top:20px}"]}]}],Ar.ctorParameters=function(){return[{type:Uo}]};var Or=function(e){function t(t,n){var i=e.call(this,t)||this;return i.formService=t,i.logService=n,i.minTermLength=1,i.options=[],i}return ae(t,e),t.prototype.ngOnInit=function(){this.field.form.taskId&&this.field.restUrl?this.getValuesByTaskId():this.field.form.processDefinitionId&&this.field.restUrl&&this.getValuesByProcessDefinitionId(),this.isReadOnlyType()&&(this.value=this.field.value)},t.prototype.getValuesByTaskId=function(){var e=this;this.formService.getRestFieldValues(this.field.form.taskId,this.field.id).subscribe((function(t){var n=t||[];e.field.options=n;var i=e.field.value;if(i){var a=n.find((function(e){return e.id===i||e.name.toLocaleLowerCase()===i.toLocaleLowerCase()}));a&&(e.value=a.name)}e.onFieldChanged(e.field),e.field.updateForm()}),(function(t){return e.handleError(t)}))},t.prototype.getValuesByProcessDefinitionId=function(){var e=this;this.formService.getRestFieldValuesByProcessId(this.field.form.processDefinitionId,this.field.id).subscribe((function(t){var n=t||[];e.field.options=n;var i=e.field.value;if(i){var a=n.find((function(e){return e.id===i}));a&&(e.value=a.name)}e.onFieldChanged(e.field),e.field.updateForm()}),(function(t){return e.handleError(t)}))},t.prototype.getOptions=function(){var e=this.value.trim().toLocaleLowerCase();return this.field.options.filter((function(t){return t.name.toLocaleLowerCase().indexOf(e)>-1}))},t.prototype.isValidOptionName=function(e){return!!this.field.options.find((function(t){return t.name&&t.name.toLocaleLowerCase()===e.toLocaleLowerCase()}))},t.prototype.onKeyUp=function(e){this.value&&this.value.trim().length>=this.minTermLength&&this.oldValue!==this.value&&e.keyCode!==z.ESCAPE&&e.keyCode!==z.ENTER&&this.value.length>=this.minTermLength&&(this.options=this.getOptions(),this.oldValue=this.value,this.isValidOptionName(this.value)&&(this.field.value=this.options[0].id)),this.isValueDefined()&&0===this.value.trim().length&&(this.oldValue=this.value,this.options=[])},t.prototype.onItemSelect=function(e){e&&(this.field.value=e.id,this.value=e.name,this.onFieldChanged(this.field))},t.prototype.validate=function(){this.field.value=this.value},t.prototype.isValueDefined=function(){return null!==this.value&&void 0!==this.value},t.prototype.handleError=function(e){this.logService.error(e)},t.prototype.isReadOnlyType=function(){return"readonly"===this.field.type},t}(jo);Or.decorators=[{type:t.Component,args:[{selector:"typeahead-widget",template:'<div class="adf-typeahead-widget-container">\n    <div class="adf-typeahead-widget {{field.className}}"\n        [class.is-dirty]="value"\n        [class.adf-invalid]="!field.isValid"\n        [class.adf-readonly]="field.readOnly"\n        id="typehead-div">\n        <mat-form-field>\n            <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}</label>\n            <input matInput class="adf-input"\n                   type="text"\n                   [id]="field.id"\n                   [(ngModel)]="value"\n                   (ngModelChange)="validate()"\n                   (keyup)="onKeyUp($event)"\n                   [disabled]="field.readOnly"\n                   data-automation-id="adf-typeahed-search-input"\n                   placeholder="{{field.placeholder}}"\n                   [matAutocomplete]="auto">\n            <mat-autocomplete #auto="matAutocomplete" (optionSelected)="onItemSelect($event.option.value)">\n                <mat-option *ngFor="let item of options; let i = index" id="adf-typeahed-widget-user-{{i}}" [value]="item">\n                    <span id="adf-typeahed-label-name">{{item.name}}</span>\n                </mat-option>\n            </mat-autocomplete>\n        </mat-form-field>\n\n        <error-widget [error]="field.validationSummary"></error-widget>\n        <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n    </div>\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-typeahead-widget-container{display:block;position:relative}.adf-typeahead-widget{width:100%}"]}]}],Or.ctorParameters=function(){return[{type:Uo},{type:Ae}]};var Rr=function(){function e(e,t){this.apiService=e,this.logService=t}return Object.defineProperty(e.prototype,"contentApi",{get:function(){var e;return this._contentApi=null!==(e=this._contentApi)&&void 0!==e?e:new r.ActivitiContentApi(this.apiService.getInstance()),this._contentApi},enumerable:!1,configurable:!0}),e.prototype.createTemporaryRawRelatedContent=function(e){var t=this;return o.from(this.contentApi.createTemporaryRawRelatedContent(e)).pipe(s.catchError((function(e){return t.handleError(e)})))},e.prototype.getFileContent=function(e){var t=this;return o.from(this.contentApi.getContent(e)).pipe(s.catchError((function(e){return t.handleError(e)})))},e.prototype.getFileRawContent=function(e){var t=this;return o.from(this.contentApi.getRawContent(e)).pipe(s.catchError((function(e){return t.handleError(e)})))},e.prototype.getContentPreview=function(e){var t=this;return new o.Observable((function(n){t.contentApi.getRawContent(e).then((function(e){n.next(e),n.complete()}),(function(){t.contentApi.getRawContent(e).then((function(e){n.next(e),n.complete()}),(function(e){n.error(e),n.complete()}))}))}))},e.prototype.getFileRawContentUrl=function(e){return this.contentApi.getRawContentUrl(e)},e.prototype.getContentThumbnail=function(e){var t=this;return o.from(this.contentApi.getRawContent(e,"thumbnail")).pipe(s.catchError((function(e){return t.handleError(e)})))},e.prototype.getTaskRelatedContent=function(e,t){var n=this;return o.from(this.contentApi.getRelatedContentForTask(e,t)).pipe(s.catchError((function(e){return n.handleError(e)})))},e.prototype.getProcessRelatedContent=function(e,t){var n=this;return o.from(this.contentApi.getRelatedContentForProcessInstance(e,t)).pipe(s.catchError((function(e){return n.handleError(e)})))},e.prototype.deleteRelatedContent=function(e){var t=this;return o.from(this.contentApi.deleteContent(e)).pipe(s.catchError((function(e){return t.handleError(e)})))},e.prototype.createProcessRelatedContent=function(e,t,n){var i=this;return o.from(this.contentApi.createRelatedContentOnProcessInstance(e,t,n)).pipe(s.catchError((function(e){return i.handleError(e)})))},e.prototype.createTaskRelatedContent=function(e,t,n){var i=this;return o.from(this.contentApi.createRelatedContentOnTask(e,t,n)).pipe(s.catchError((function(e){return i.handleError(e)})))},e.prototype.toJson=function(e){return e&&e||{}},e.prototype.toJsonArray=function(e){return e&&e.data||[]},e.prototype.handleError=function(t){var n=e.UNKNOWN_ERROR_MESSAGE;return t&&(n=t.message?t.message:t.status?t.status+" - "+t.statusText:e.GENERIC_ERROR_MESSAGE),this.logService.error(n),o.throwError(n)},e}();Rr.UNKNOWN_ERROR_MESSAGE="Unknown error",Rr.GENERIC_ERROR_MESSAGE="Server error",Rr.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Rr(t.ɵɵinject(Ce),t.ɵɵinject(Ae))},token:Rr,providedIn:"root"}),Rr.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Rr.ctorParameters=function(){return[{type:Ce},{type:Ae}]};var Dr=function(e){function t(t,n,i,a){var o=e.call(this,t)||this;return o.formService=t,o.logService=n,o.thumbnailService=i,o.processContentService=a,o.multipleOption="",o}return ae(t,e),t.prototype.ngOnInit=function(){this.field&&this.field.value&&this.field.value.length>0&&(this.hasFile=!0),this.getMultipleFileParam()},t.prototype.removeFile=function(e){this.field&&this.removeElementFromList(e)},t.prototype.onFileChanged=function(e){var t=this,n=e.target.files,i=[];this.field.json.value&&(i=de(this.field.json.value)),n&&n.length>0&&o.from(n).pipe(s.mergeMap((function(e){return t.uploadRawContent(e)}))).subscribe((function(e){return i.push(e)}),(function(){return t.logService.error("Error uploading file. See console output for more details.")}),(function(){t.field.value=i,t.field.json.value=i,t.hasFile=!0}))},t.prototype.uploadRawContent=function(e){var t=this;return this.processContentService.createTemporaryRawRelatedContent(e).pipe(s.map((function(n){return t.logService.info(n),n.contentBlob=e,n})))},t.prototype.getMultipleFileParam=function(){this.field&&this.field.params&&this.field.params.multiple&&(this.multipleOption=this.field.params.multiple?"multiple":"")},t.prototype.removeElementFromList=function(e){var t=this.field.value.indexOf(e);-1!==t&&(this.field.value.splice(t,1),this.field.json.value=this.field.value,this.field.updateForm()),this.hasFile=this.field.value.length>0,this.hasFile||(this.field.value=null,this.field.json.value=null)},t.prototype.getIcon=function(e){return this.thumbnailService.getMimeTypeIcon(e)},t.prototype.fileClicked=function(e){var t=this,n=new Vo(e),i=this.processContentService.getContentPreview(n.id);(n.isTypeImage()||n.isTypePdf())&&(i=this.processContentService.getFileRawContent(n.id)),i.subscribe((function(e){n.contentBlob=e,t.formService.formContentClicked.next(n)}),(function(){t.logService.error("Unable to send event for file "+n.name)}))},t}(jo);Dr.decorators=[{type:t.Component,args:[{selector:"upload-widget",template:'<div class="adf-upload-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid"\n     [class.adf-readonly]="field.readOnly">\n    <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n    <div class="adf-upload-widget-container">\n        <div>\n            <mat-list *ngIf="hasFile">\n                <mat-list-item class="adf-upload-files-row" *ngFor="let file of field.value">\n                    <img mat-list-icon class="adf-upload-widget__icon"\n                         [id]="\'file-\'+file.id+\'-icon\'"\n                         [src]="getIcon(file.mimeType)"\n                         [alt]="mimeTypeIcon"\n                         (click)="fileClicked(file)"\n                         (keyup.enter)="fileClicked(file)"\n                         role="button"\n                         tabindex="0"/>\n                    <span matLine id="{{\'file-\'+file.id}}" (click)="fileClicked(file)" (keyup.enter)="fileClicked(file)"\n                          role="button" tabindex="0" class="adf-file">{{file.name}}</span>\n                    <button *ngIf="!field.readOnly" mat-icon-button [id]="\'file-\'+file.id+\'-remove\'"\n                            (click)="removeFile(file);" (keyup.enter)="removeFile(file);">\n                        <mat-icon class="mat-24">highlight_off</mat-icon>\n                    </button>\n                </mat-list-item>\n            </mat-list>\n        </div>\n\n        <div *ngIf="(!hasFile || multipleOption) && !field.readOnly">\n            <button mat-raised-button color="primary" (click)="uploadFiles.click()">\n                {{ \'FORM.FIELD.UPLOAD\' | translate }}<mat-icon>file_upload</mat-icon>\n                <input #uploadFiles\n                       [multiple]="multipleOption"\n                       type="file"\n                       [id]="field.id"\n                       (change)="onFileChanged($event)"/>\n            </button>\n        </div>\n    </div>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-upload-widget-container{margin-bottom:15px}.adf-upload-widget-container input{display:none}.adf-upload-widget{border-top:.84375em solid transparent;padding:.4375em 0;width:100%;word-break:break-all}.adf-upload-widget__icon{cursor:pointer;float:left;padding:6px}.adf-upload-widget__reset{margin-top:-2px}.adf-upload-files-row .mat-line{margin-bottom:0}"]}]}],Dr.ctorParameters=function(){return[{type:Uo},{type:Ae},{type:tt},{type:Rr}]},Dr.propDecorators={fileInput:[{type:t.ViewChild,args:["uploadFiles"]}]};var Pr=ue,_r=X.MAT_MOMENT_DATETIME_FORMATS,Lr=function(t){function n(e,n,i){var a=t.call(this,e)||this;return a.formService=e,a.dateAdapter=n,a.userPreferencesService=i,a.onDestroy$=new o.Subject,a}return ae(n,t),n.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(e.UserPreferenceValues.Locale).pipe(s.takeUntil(this.onDestroy$)).subscribe((function(e){return t.dateAdapter.setLocale(e)})),this.dateAdapter.overrideDisplayFormat=this.field.dateDisplayFormat,this.field&&(this.field.minValue&&(this.minDate=a(this.field.minValue,"YYYY-MM-DDTHH:mm:ssZ")),this.field.maxValue&&(this.maxDate=a(this.field.maxValue,"YYYY-MM-DDTHH:mm:ssZ")))},n.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},n.prototype.onDateChanged=function(e){var t=a(e,this.field.dateDisplayFormat,!0);t.isValid()?this.field.value=t.format(this.field.dateDisplayFormat):this.field.value=e,this.onFieldChanged(this.field)},n}(jo);Lr.decorators=[{type:t.Component,args:[{providers:[{provide:n.DateAdapter,useClass:me},{provide:n.MAT_DATE_FORMATS,useValue:Pr},{provide:c.DatetimeAdapter,useClass:X.MomentDatetimeAdapter},{provide:c.MAT_DATETIME_FORMATS,useValue:_r}],selector:"date-time-widget",template:'<div class="{{field.className}}" id="data-time-widget" [class.adf-invalid]="!field.isValid">\n    <mat-form-field class="adf-date-time-widget">\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }} ({{field.dateDisplayFormat}})<span *ngIf="isRequired()">*</span></label>\n        <input matInput\n               [id]="field.id"\n               [value]="field.value"\n               [required]="isRequired()"\n               [disabled]="field.readOnly"\n               (change)="onDateChanged($any($event).srcElement.value)"\n               [placeholder]="field.placeholder"\n               [matTooltip]="field.tooltip"\n               matTooltipPosition="above"\n               matTooltipShowDelay="1000"\n               (focus)="datetimePicker.open()">\n        <mat-datetimepicker-toggle matSuffix [for]="datetimePicker" [disabled]="field.readOnly"></mat-datetimepicker-toggle>\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n    <mat-datetimepicker #datetimePicker type="datetime" [touchUi]="true" [timeInterval]="5" [disabled]="field.readOnly"></mat-datetimepicker>\n        <input\n            type="hidden"\n            [matDatetimepicker]="datetimePicker"\n            [value]="field.value | adfMomentDate: field.dateDisplayFormat"\n            [min]="minDate"\n            [max]="maxDate"\n            [disabled]="field.readOnly"\n            (dateInput)="onDateChanged($any($event).targetElement.value)">\n</div>\n',encapsulation:t.ViewEncapsulation.None,styles:[".adf-date-time-widget .mat-form-field-suffix{top:26px}.adf-date-time-widget .mat-form-field-label-wrapper{top:20px}"]}]}],Lr.ctorParameters=function(){return[{type:Uo},{type:n.DateAdapter},{type:Je}]};var Fr=function(e){function t(t,n){var i=e.call(this,t)||this;return i.formService=t,i.dialog=n,i}return ae(t,e),t.prototype.view=function(){var e=this.field.value,t="object"==typeof e?JSON.stringify(e||{},null,2):e,n={title:this.field.name,editable:!1,value:t};this.dialog.open(An,{data:n,minWidth:"50%",minHeight:"50%"})},t}(jo);Fr.decorators=[{type:t.Component,args:[{template:'\n        <button mat-raised-button color="primary" (click)="view()">json</button>\n    ',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None}]}],Fr.ctorParameters=function(){return[{type:Uo},{type:b.MatDialog}]};var kr=function(e){function t(t,n,i,a){var o=e.call(this,t)||this;return o.formService=t,o.logService=n,o.thumbnailService=i,o.processContentService=a,o.multipleOption="",o}return ae(t,e),t.prototype.ngOnInit=function(){this.field&&this.field.value&&this.field.value.length>0&&(this.hasFile=!0),this.getMultipleFileParam()},t.prototype.removeFile=function(e){this.field&&this.removeElementFromList(e)},t.prototype.onFileChanged=function(e){var t=this,n=e.target.files,i=[];this.field.json.value&&(i=de(this.field.json.value)),n&&n.length>0&&(o.from(n).pipe(s.mergeMap((function(e){return t.uploadRawContent(e)}))).subscribe((function(e){i.push(e)}),(function(){t.logService.error("Error uploading file. See console output for more details.")}),(function(){t.field.value=i,t.field.json.value=i})),this.hasFile=!0)},t.prototype.uploadRawContent=function(e){var t=this;return this.processContentService.createTemporaryRawRelatedContent(e).pipe(s.map((function(e){return t.logService.info(e),e})))},t.prototype.getMultipleFileParam=function(){this.field&&this.field.params&&this.field.params.multiple&&(this.multipleOption=this.field.params.multiple?"multiple":"")},t.prototype.removeElementFromList=function(e){var t=this.field.value.indexOf(e);-1!==t&&(this.field.value.splice(t,1),this.field.json.value=this.field.value,this.field.updateForm()),this.hasFile=this.field.value.length>0,this.resetFormValueWithNoFiles()},t.prototype.resetFormValueWithNoFiles=function(){0===this.field.value.length&&(this.field.value=[],this.field.json.value=[])},t.prototype.getIcon=function(e){return this.thumbnailService.getMimeTypeIcon(e)},t.prototype.fileClicked=function(e){var t=this,n=new Vo(e),i=this.processContentService.getContentPreview(n.id);(n.isTypeImage()||n.isTypePdf())&&(i=this.processContentService.getFileRawContent(n.id)),i.subscribe((function(e){n.contentBlob=e,t.formService.formContentClicked.next(n)}),(function(){t.logService.error("Unable to send event for file "+n.name)}))},t}(jo);kr.decorators=[{type:t.Component,args:[{selector:"upload-folder-widget",template:'<div class="adf-upload-folder-widget {{field.className}}"\n    [class.adf-invalid]="!field.isValid"\n    [class.adf-readonly]="field.readOnly">\n<label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n    <div class="adf-upload-widget-container">\n    </div>\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:[".adf-upload-folder-widget{border-top:.84375em solid transparent;padding:.4375em 0;width:100%;word-break:break-all}"]}]}],kr.ctorParameters=function(){return[{type:Uo},{type:Ae},{type:tt},{type:Rr}]},kr.propDecorators={fileInput:[{type:t.ViewChild,args:["uploadFiles"]}]};var Vr=function(e){function t(t){return e.call(this,t)||this}return ae(t,e),t}(jo);Vr.decorators=[{type:t.Component,args:[{selector:"file-viewer-widget",template:'<div class="adf-file-viewer-widget {{field.className}}" [class.adf-invalid]="!field.isValid"\n    [class.adf-readonly]="field.readOnly">\n    <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span\n            *ngIf="isRequired()">*</span></label>\n    <adf-viewer [overlayMode]="false" [nodeId]="field.value" [showViewer]="field.value" [allowGoBack]="false"></adf-viewer>\n    <error-widget [error]="field.validationSummary"></error-widget>\n</div>\n',host:{"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},encapsulation:t.ViewEncapsulation.None,styles:["file-viewer-widget,file-viewer-widget .adf-file-viewer-widget{height:100%;width:100%}file-viewer-widget .adf-file-viewer-widget adf-viewer.adf-viewer{position:relative}file-viewer-widget .adf-file-viewer-widget adf-viewer.adf-viewer .adf-viewer-container .adf-viewer-content>div{height:90vh}"]}]}],Vr.ctorParameters=function(){return[{type:Uo}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Nr=[Ho,$o,zo,Ar,Ir,Go,wr,Qo,br,xr,Ko,Dr,Or,vr,Cr,Xo,Yo,rr,dr,fr,lr,hr,mr,yr,Jo,Lr,cr,Fr,gr,kr,Vr],Mr=[Tr],Ur=function(e){function t(){var t=e.apply(this,de(arguments))||this;return t.defaultValue=Ho,t.types={text:Sa.fromType(Ar),string:Sa.fromType(Ar),integer:Sa.fromType(Ir),"multi-line-text":Sa.fromType(wr),boolean:Sa.fromType(Go),dropdown:Sa.fromType(Qo),date:Sa.fromType(Xo),amount:Sa.fromType(Yo),"radio-buttons":Sa.fromType(xr),hyperlink:Sa.fromType(br),"readonly-text":Sa.fromType(Ko),json:Sa.fromType(Fr),readonly:Sa.fromType(Ar),typeahead:Sa.fromType(Or),people:Sa.fromType(Cr),"functional-group":Sa.fromType(vr),"dynamic-table":Sa.fromType(rr),container:Sa.fromType(zo),group:Sa.fromType(zo),document:Sa.fromType(Jo),upload:Sa.fromType(Dr),datetime:Sa.fromType(Lr),"file-viewer":Sa.fromType(Vr)},t}return ae(t,e),t}(Ta);Ur.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Ur},token:Ur,providedIn:"root"}),Ur.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var jr=function(){function e(e,t,n,i){this.formRenderingService=e,this.componentFactoryResolver=t,this.visibilityService=n,this.compiler=i,this.field=null,this.focus=!1}return e.prototype.ngOnInit=function(){var e=this,t=window;void 0===t.adf&&(t.adf={});var n=this.getField();if(n){var i=this.field.form.customFieldTemplates[n.type];if(i&&this.hasController(n.type)){var a=this.getComponentFactorySync(n.type,i);this.componentRef=this.container.createComponent(a),(r=this.componentRef.instance)&&(r.field=n)}else{var o=this.formRenderingService.resolveComponentType(n);if(o){var r;a=this.componentFactoryResolver.resolveComponentFactory(o);this.componentRef=this.container.createComponent(a),(r=this.componentRef.instance).field=this.field,r.fieldChanged.subscribe((function(t){t&&e.field.form&&(e.visibilityService.refreshVisibility(t.form),t.form.onFormFieldChanged(t))}))}}}},e.prototype.ngOnDestroy=function(){this.componentRef&&(this.componentRef.destroy(),this.componentRef=null)},e.prototype.getField=function(){if(this.field&&this.field.params){var e=this.field.params.field;if(e&&e.type)return e}return this.field},e.prototype.hasController=function(e){return adf&&adf.components&&adf.components[e]},e.prototype.getComponentFactorySync=function(e,t){var n=adf.components[e];if(n.factory)return n.factory;var i={selector:"runtime-component-"+e,template:t},a=this.createComponentFactorySync(this.compiler,i,n.class);return n.factory=a,a},e.prototype.createComponentFactorySync=function(e,n,i){var a=i||function(){},o=t.Component(n)(a),r=function(){},l=t.NgModule({imports:[],declarations:[o]})(r);return e.compileModuleAndAllComponentsSync(l).componentFactories.find((function(e){return e.componentType===o}))},e.prototype.focusToggle=function(){var e=this;setTimeout((function(){e.focus=!e.focus}))},e}();jr.decorators=[{type:t.Component,args:[{selector:"adf-form-field",template:'\n        <div [id]="\'field-\'+field?.id+\'-container\'"\n            [hidden]="!field?.isVisible"\n            [class.adf-focus]="focus"\n            (focusin)="focusToggle()"\n            (focusout)="focusToggle()">\n            <div #container></div>\n        </div>\n    ',encapsulation:t.ViewEncapsulation.None}]}],jr.ctorParameters=function(){return[{type:Ur},{type:t.ComponentFactoryResolver},{type:Zo},{type:t.Compiler}]},jr.propDecorators={container:[{type:t.ViewChild,args:["container",{read:t.ViewContainerRef,static:!0}]}],field:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Br=function(){function e(){this.showTitle=!0,this.showCompleteButton=!0,this.disableCompleteButton=!1,this.disableSaveButton=!1,this.disableStartProcessButton=!1,this.showSaveButton=!0,this.readOnly=!1,this.showRefreshButton=!0,this.showValidationIcon=!0,this.formError=new t.EventEmitter,this.executeOutcome=new t.EventEmitter,this.error=new t.EventEmitter}return e.prototype.getParsedFormDefinition=function(){return this},e.prototype.hasForm=function(){return!!this.form},e.prototype.isTitleEnabled=function(){var e=!1;return this.showTitle&&this.form&&(e=!0),e},e.prototype.getColorForOutcome=function(t){return t===e.COMPLETE_OUTCOME_NAME?e.COMPLETE_BUTTON_COLOR:null},e.prototype.isOutcomeButtonEnabled=function(e){return!this.form.readOnly&&(!!e&&(e.name===Lo.SAVE_ACTION?!this.disableSaveButton:e.name===Lo.COMPLETE_ACTION?!this.disableCompleteButton&&this.form.isValid:e.name===Lo.START_PROCESS_ACTION?!this.disableStartProcessButton&&this.form.isValid:this.form.isValid))},e.prototype.isOutcomeButtonVisible=function(e,t){return!(!e||!e.name)&&(e.name===Lo.COMPLETE_ACTION?this.showCompleteButton:t?e.isSelected:e.name===Lo.SAVE_ACTION?this.showSaveButton:e.name!==Lo.START_PROCESS_ACTION)},e.prototype.onOutcomeClicked=function(t){if(!this.readOnly&&t&&this.form){if(!this.onExecuteOutcome(t))return!1;if(t.isSystem){if(t.id===e.SAVE_OUTCOME_ID)return this.saveTaskForm(),!0;if(t.id===e.COMPLETE_OUTCOME_ID)return this.completeTaskForm(),!0;if(t.id===e.START_PROCESS_OUTCOME_ID)return this.completeTaskForm(),!0;if(t.id===e.CUSTOM_OUTCOME_ID)return this.onTaskSaved(this.form),this.storeFormAsMetadata(),!0}else if(t.name)return this.onTaskSaved(this.form),this.completeTaskForm(t.name),!0}return!1},e.prototype.handleError=function(e){this.error.emit(e)},e}();Br.SAVE_OUTCOME_ID="$save",Br.COMPLETE_OUTCOME_ID="$complete",Br.START_PROCESS_OUTCOME_ID="$startProcess",Br.CUSTOM_OUTCOME_ID="$custom",Br.COMPLETE_BUTTON_COLOR="primary",Br.COMPLETE_OUTCOME_NAME="COMPLETE",Br.decorators=[{type:t.Directive}],Br.propDecorators={path:[{type:t.Input}],nameNode:[{type:t.Input}],showTitle:[{type:t.Input}],showCompleteButton:[{type:t.Input}],disableCompleteButton:[{type:t.Input}],disableSaveButton:[{type:t.Input}],disableStartProcessButton:[{type:t.Input}],showSaveButton:[{type:t.Input}],readOnly:[{type:t.Input}],showRefreshButton:[{type:t.Input}],showValidationIcon:[{type:t.Input}],fieldValidators:[{type:t.Input}],formError:[{type:t.Output}],executeOutcome:[{type:t.Output}],error:[{type:t.Output}]};var zr=function(){function e(e){this.formService=e,this.forms=[]}return e.prototype.ngOnChanges=function(){this.getForms()},e.prototype.isEmpty=function(){return this.forms&&0===this.forms.length},e.prototype.getForms=function(){var e=this;this.formService.getForms().subscribe((function(t){var n;(n=e.forms).push.apply(n,de(t))}))},e}();zr.decorators=[{type:t.Component,args:[{selector:"adf-form-list",template:'<adf-datatable *ngIf="!isEmpty()"\n    [rows]="forms">\n    <data-columns>\n        <data-column key="name" type="text" title="Name" class="adf-ellipsis-cell" [sortable]="true"></data-column>\n        <data-column key="lastUpdatedByFullName" type="text" title="User" class="adf-ellipsis-cell" [sortable]="true"></data-column>\n        <data-column key="lastUpdated" type="date" format="shortDate" title="Date"></data-column>\n    </data-columns>\n</adf-datatable>\n',encapsulation:t.ViewEncapsulation.None}]}],zr.ctorParameters=function(){return[{type:Uo}]},zr.propDecorators={forms:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var $r=function(){function e(e,n,i,a){this.formService=e,this.logService=n,this.contentService=i,this.processContentService=a,this.showDocumentContent=!0,this.contentClick=new t.EventEmitter,this.thumbnailLoaded=new t.EventEmitter,this.contentLoaded=new t.EventEmitter,this.error=new t.EventEmitter}return e.prototype.ngOnChanges=function(e){var t=e.id;t&&t.currentValue&&this.loadContent(t.currentValue)},e.prototype.loadContent=function(e){var t=this;this.processContentService.getFileContent(e).subscribe((function(e){t.content=new Vo(e),t.contentLoaded.emit(t.content),t.loadThumbnailUrl(t.content)}),(function(e){t.error.emit(e)}))},e.prototype.loadThumbnailUrl=function(e){var t=this;if(this.content.isThumbnailSupported()){var n=void 0;(n=this.content.isTypeImage()?this.processContentService.getFileRawContent(e.id):this.processContentService.getContentThumbnail(e.id))&&n.subscribe((function(e){t.content.thumbnailUrl=t.contentService.createTrustedUrl(e),t.thumbnailLoaded.emit(t.content.thumbnailUrl)}),(function(e){t.error.emit(e)}))}},e.prototype.openViewer=function(e){var t=this,n=this.processContentService.getContentPreview(e.id);(e.isTypeImage()||e.isTypePdf())&&(n=this.processContentService.getFileRawContent(e.id)),n.subscribe((function(n){e.contentBlob=n,t.contentClick.emit(e),t.logService.info("Content clicked"+e.id),t.formService.formContentClicked.next(e)}),(function(e){t.error.emit(e)}))},e.prototype.download=function(e){var t=this;this.processContentService.getFileRawContent(e.id).subscribe((function(n){return t.contentService.downloadBlob(n,e.name)}),(function(e){t.error.emit(e)}))},e}();$r.decorators=[{type:t.Component,args:[{selector:"adf-content",template:'<mat-card class="adf-content-container" *ngIf="content">\n    <mat-card-content *ngIf="showDocumentContent">\n        <div *ngIf="content.isThumbnailSupported()" >\n            <img id="thumbnailPreview" class="adf-img-upload-widget" [src]="content.thumbnailUrl" alt="{{content.name}}">\n        </div>\n        <div *ngIf="!content.isThumbnailSupported()">\n            <mat-icon>image</mat-icon>\n            <div id="unsupported-thumbnail" class="adf-content-widget-preview-text">{{ \'FORM.PREVIEW.IMAGE_NOT_AVAILABLE\' | translate }}\n            </div>\n        </div>\n        <div class="mdl-card__supporting-text upload-widget__content-text">{{content.name | translate }}</div>\n    </mat-card-content>\n\n    <mat-card-actions>\n        <button mat-icon-button id="view" (click)="openViewer(content)">\n            <mat-icon class="mat-24">zoom_in</mat-icon>\n        </button>\n        <button mat-icon-button id="download" (click)="download(content)">\n            <mat-icon class="mat-24">file_download</mat-icon>\n        </button>\n    </mat-card-actions>\n</mat-card>\n',encapsulation:t.ViewEncapsulation.None,styles:[".adf-img-upload-widget{background-color:#fff;border:1px solid hsla(0,0%,45.9%,.57);box-shadow:1px 1px 2px #ddd;height:100%;width:100%}.adf-content-widget-preview-text{text-align:center;word-break:break-all;word-wrap:break-word}"]}]}],$r.ctorParameters=function(){return[{type:Uo},{type:Ae},{type:St},{type:Rr}]},$r.propDecorators={id:[{type:t.Input}],showDocumentContent:[{type:t.Input}],contentClick:[{type:t.Output}],thumbnailLoaded:[{type:t.Output}],contentLoaded:[{type:t.Output}],error:[{type:t.Output}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Hr=function(){};Hr.decorators=[{type:t.Directive,args:[{selector:"[adf-form-custom-button], [form-custom-button]"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var qr=function(){this.showDebugButton=!1};qr.decorators=[{type:t.Component,args:[{selector:"adf-form-renderer",template:'<div class="{{formDefinition.className}}" [ngClass]="{\'adf-readonly-form\': formDefinition.readOnly }">\n    <div *ngIf="formDefinition.hasTabs()">\n        <tabs-widget [tabs]="formDefinition.tabs"></tabs-widget>\n    </div>\n\n    <div *ngIf="!formDefinition.hasTabs() && formDefinition.hasFields()">\n        <div *ngFor="let field of formDefinition.fields">\n            <adf-form-field [field]="field.field"></adf-form-field>\n        </div>\n    </div>\n</div>\n\x3c!--\nFor debugging and data visualisation purposes,\nwill be removed during future revisions\n--\x3e\n<div *ngIf="showDebugButton" class="adf-form-debug-container">\n    <mat-slide-toggle [(ngModel)]="debugMode">Debug mode</mat-slide-toggle>\n    <div *ngIf="debugMode">\n        <h4>Values</h4>\n        <pre>{{formDefinition.values | json}}</pre>\n\n        <h4>Form</h4>\n        <pre>{{formDefinition.json | json}}</pre>\n    </div>\n</div>\n',encapsulation:t.ViewEncapsulation.None,styles:[".adf-form-container{max-height:100%!important;max-width:100%!important}.adf-form-container .mat-card{overflow:hidden;padding:16px 24px}.adf-form-container .mat-card-header-text{margin:0!important}.adf-form-container .mat-tab-body-content{overflow:hidden}.adf-form-container .mat-tab-label{color:rgba(0,0,0,.54);font-size:var(--theme-subheading-2-font-size);letter-spacing:-.4px;line-height:var(--theme-headline-line-height);text-align:left;text-transform:uppercase}.adf-form-container .mat-ink-bar{height:4px}.adf-form-container .mat-form-field-wrapper{margin:0 12px 0 0}.adf-form-title{font-size:var(--theme-title-font-size);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.adf-form-debug-container{padding:10px}.adf-form-debug-container .adf-debug-toggle-text{cursor:pointer;padding-left:15px}.adf-form-debug-container .adf-debug-toggle-text:hover{font-weight:700}.adf-form-reload-button{position:absolute;right:12px;top:30px}.adf-form-validation-button{color:var(--theme-accent-color);position:absolute;right:50px;top:39px}.adf-form-validation-button .adf-invalid-color{color:var(--theme-warn-color)}.adf-form-hide-button{display:none!important}.adf-task-title{text-align:center}.adf-label{font-size:var(--theme-caption-font-size);height:16px;line-height:var(--theme-headline-line-height);text-align:left;white-space:nowrap;width:32px}.adf-form-mat-card-actions{float:right;padding-bottom:25px!important;padding-right:25px!important}.adf-form-mat-card-actions .mat-button{border-radius:5px;height:36px}.adf-form-mat-card-actions .mat-button-wrapper{font-size:var(--theme-body-2-font-size);font-weight:700;height:20px;opacity:.54;width:58px}form-field{width:100%}form-field .mat-input-element{font-size:var(--theme-body-2-font-size);line-height:normal;padding-top:8px}"]}]}],qr.propDecorators={showDebugButton:[{type:t.Input}],formDefinition:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Yr=function(){function e(e,t,n){this.apiService=e,this.logService=t,this.sitesService=n}return Object.defineProperty(e.prototype,"integrationAlfrescoOnPremiseApi",{get:function(){var e;return this._integrationAlfrescoOnPremiseApi=null!==(e=this._integrationAlfrescoOnPremiseApi)&&void 0!==e?e:new r.IntegrationAlfrescoOnPremiseApi(this.apiService.getInstance()),this._integrationAlfrescoOnPremiseApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contentApi",{get:function(){var e;return this._contentApi=null!==(e=this._contentApi)&&void 0!==e?e:new r.ActivitiContentApi(this.apiService.getInstance()),this._contentApi},enumerable:!1,configurable:!0}),e.prototype.getAlfrescoNodes=function(e,t){var n=this,i=e.replace("alfresco-","");return o.from(this.integrationAlfrescoOnPremiseApi.getContentInFolder(i,t)).pipe(s.map(this.toJsonArray),s.catchError((function(e){return n.handleError(e)})))},e.prototype.getAlfrescoRepositories=function(e,t){var n=this,i={tenantId:e,includeAccounts:t||!0};return o.from(this.integrationAlfrescoOnPremiseApi.getRepositories(i)).pipe(s.map(this.toJsonArray),s.catchError((function(e){return n.handleError(e)})))},e.prototype.linkAlfrescoNode=function(e,t,n){var i=this;return o.from(this.contentApi.createTemporaryRelatedContent({link:!0,name:t.title,simpleType:t.simpleType,source:e,sourceId:t.id+"@"+n})).pipe(s.map(this.toJson),s.catchError((function(e){return i.handleError(e)})))},e.prototype.applyAlfrescoNode=function(e,t,n){var i,a=this,r=t||this.sitesService.getSiteNameFromNodePath(e),l={source:n,mimeType:null===(i=null==e?void 0:e.content)||void 0===i?void 0:i.mimeType,sourceId:e.id+";"+e.properties["cm:versionLabel"]+"@"+r,name:e.name,link:e.isLink};return o.from(this.contentApi.createTemporaryRelatedContent(l)).pipe(s.map(this.toJson),s.catchError((function(e){return a.handleError(e)})))},e.prototype.toJson=function(e){return e&&e||{}},e.prototype.toJsonArray=function(e){return e&&e.data||[]},e.prototype.handleError=function(t){var n=e.UNKNOWN_ERROR_MESSAGE;return t&&(n=t.message?t.message:t.status?t.status+" - "+t.statusText:e.GENERIC_ERROR_MESSAGE),this.logService.error(n),o.throwError(n)},e}();Yr.UNKNOWN_ERROR_MESSAGE="Unknown error",Yr.GENERIC_ERROR_MESSAGE="Server error",Yr.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Yr(t.ɵɵinject(Ce),t.ɵɵinject(Ae),t.ɵɵinject(zt))},token:Yr,providedIn:"root"}),Yr.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Yr.ctorParameters=function(){return[{type:Ce},{type:Ae},{type:zt}]};var Gr=function(){function e(e){this.nodesApiService=e}return e.prototype.getNodeMetadata=function(e){return this.nodesApiService.getNodeMetadata(e)},e.prototype.createNodeMetadata=function(e,t,n,i,a){return this.nodesApiService.createNodeMetadata(e,t,n,i,a)},e.prototype.createNode=function(e,t,n,i){return this.nodesApiService.createNodeInsideRoot(e,t,n,i)},e}();Gr.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Gr(t.ɵɵinject(Lt))},token:Gr,providedIn:"root"}),Gr.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Gr.ctorParameters=function(){return[{type:Lt}]};var Wr=function(e){function t(t,n){var i=e.call(this,t)||this;return i.error=n,i}return ae(t,e),t}(Ao),Xr=function(){};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Xr.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,G.FormsModule,G.ReactiveFormsModule,u.TranslateModule,b.MatDialogModule,m.MatButtonModule],declarations:[An],exports:[An]}]}];var Kr=function(){};Kr.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,$.A11yModule,W.FlexLayoutModule,qn,l.HttpClientModule,Be,u.TranslateModule,G.FormsModule,G.ReactiveFormsModule,Hn,yt,c.MatDatetimepickerModule,c.MatNativeDatetimeModule,Xr,Ti],declarations:de([$r,jr,zr,qr,Hr],Nr,Mr,[jo]),exports:de([$r,jr,zr,qr,Hr],Nr)}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Jr=function(){function e(){this.redirectUrl="/",this.showSidenavToggle=!0,this.clicked=new t.EventEmitter,this.expandedSidenav=!0,this.position="start"}return e.prototype.toggleMenu=function(){this.clicked.emit(!0),this.expandedSidenav=!this.expandedSidenav},e.prototype.ngOnInit=function(){this.logo||(this.logo="./assets/images/logo.png")},e}();Jr.decorators=[{type:t.Component,args:[{selector:"adf-layout-header",template:'<mat-toolbar\n    [color]="color"\n    [style.background-color]="color"\n    role="heading"\n    aria-level="1">\n    <button\n        *ngIf="showSidenavToggle && position === \'start\'"\n        id="adf-sidebar-toggle-start"\n        data-automation-id="adf-menu-icon"\n        class="mat-icon-button adf-menu-icon"\n        mat-icon-button\n        (click)="toggleMenu()"\n        [attr.aria-expanded]="expandedSidenav"\n        [attr.aria-label]="\'CORE.HEADER.ACCESSIBILITY.SIDEBAR_TOGGLE_BUTTON_ARIA_LABEL\' | translate">\n        <mat-icon\n            class="mat-icon material-icon"\n            role="img"\n            aria-hidden="true">menu</mat-icon>\n    </button>\n\n    <a [routerLink]="redirectUrl" title="{{ tooltip }}">\n        <img\n            src="{{ logo }}"\n            class="adf-app-logo"\n            alt="{{ \'CORE.HEADER.LOGO_ARIA\' | translate }}"\n        />\n    </a>\n\n    <span\n        role="link"\n        [attr.aria-label]="title | translate"\n        [routerLink]="redirectUrl"\n        fxFlex="1 1 auto"\n        fxShow\n        fxHide.lt-sm="true"\n        class="adf-app-title"\n        >{{ title }}</span>\n    <ng-content></ng-content>\n\n    <button\n        *ngIf="showSidenavToggle && position === \'end\'"\n        id="adf-sidebar-toggle-end"\n        data-automation-id="adf-menu-icon"\n        class="mat-icon-button adf-menu-icon"\n        mat-icon-button\n        (click)="toggleMenu()"\n        [attr.aria-expanded]="expandedSidenav"\n        [attr.aria-label]="\'CORE.HEADER.ACCESSIBILITY.SIDEBAR_TOGGLE_BUTTON_ARIA_LABEL\' | translate">\n    >\n        <mat-icon\n            class="mat-icon material-icon"\n            role="img"\n            aria-hidden="true">menu</mat-icon>\n    </button>\n</mat-toolbar>\n',encapsulation:t.ViewEncapsulation.None,host:{class:"adf-layout-header"},styles:["adf-layout-header .mat-toolbar-single-row{background-color:var(--adf-header-background-color);color:var(--adf-header-text-color)!important;padding:0 24px;position:relative}adf-layout-header .mat-toolbar-single-row .adf-menu-icon{margin-right:0;position:relative}adf-layout-header .mat-toolbar-single-row .adf-menu-icon .mat-icon{font-size:29px;padding:0 5px 0 0}adf-layout-header .mat-toolbar-single-row .adf-app-logo{height:28px;margin-top:-3px;position:relative;vertical-align:middle}adf-layout-header .mat-toolbar-single-row .adf-app-title{cursor:pointer;font-weight:100;letter-spacing:-.3px}adf-layout-header .mat-toolbar-single-row .adf-toolbar--spacer{flex:1 1 auto}adf-layout-header .mat-toolbar-single-row .adf-toolbar-divider{margin:0 5px}adf-layout-header .mat-toolbar-single-row .adf-toolbar-divider>div{background-color:var(--theme-card-bg-color)}adf-layout-header .mat-toolbar-single-row .adf-header-delimiter{background-color:var(--theme-primary-color-default-contrast);height:24px;width:2px}adf-layout-header .mat-toolbar-single-row .adf-userinfo-container{flex-direction:row;padding:0}@media screen and (max-width:599px){adf-layout-header .mat-toolbar-single-row .adf-app-logo,adf-layout-header .mat-toolbar-single-row .adf-app-title{display:none}}[dir=rtl] adf-layout-header .mat-toolbar-single-row .adf-menu-icon{margin-right:-11px}[dir=rtl] adf-layout-header .mat-toolbar-single-row .adf-app-logo{margin-right:6px}[dir=rtl] adf-layout-header .mat-toolbar-single-row .adf-app-title{margin-right:6px}[dir=rtl] adf-layout-header .mat-toolbar-single-row .adf-header-delimiter{margin-left:16px}[dir=rtl] adf-layout-header .mat-toolbar-single-row .adf-userinfo-container{margin-left:16px}[dir=rtl] adf-layout-header .mat-toolbar-single-row .adf-userinfo-name{padding-left:8px}[dir=ltr] adf-layout-header .mat-toolbar-single-row .adf-menu-icon{margin-left:-11px}[dir=ltr] adf-layout-header .mat-toolbar-single-row .adf-app-logo{margin-left:6px}[dir=ltr] adf-layout-header .mat-toolbar-single-row .adf-app-title{margin-left:6px}[dir=ltr] adf-layout-header .mat-toolbar-single-row .adf-header-delimiter{margin-right:16px}[dir=ltr] adf-layout-header .mat-toolbar-single-row .adf-userinfo-container{margin-right:16px}[dir=ltr] adf-layout-header .mat-toolbar-single-row .adf-userinfo-name{padding-right:8px}"]}]}],Jr.propDecorators={title:[{type:t.Input}],logo:[{type:t.Input}],redirectUrl:[{type:t.Input}],tooltip:[{type:t.Input}],color:[{type:t.Input}],showSidenavToggle:[{type:t.Input}],clicked:[{type:t.Output}],expandedSidenav:[{type:t.Input}],position:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Qr=B.trigger("sidenavAnimation",[B.state("expanded",B.style({width:"{{ width }}px"}),{params:{width:0}}),B.state("compact",B.style({width:"{{ width }}px"}),{params:{width:0}}),B.transition("compact <=> expanded",B.animate("0.4s cubic-bezier(0.25, 0.8, 0.25, 1)"))]),Zr=B.trigger("contentAnimationLeft",[B.state("expanded",B.style({"margin-left":"{{ margin-left }}px","margin-right":"{{ margin-right }}px"}),{params:{"margin-left":0,"margin-right":0}}),B.state("compact",B.style({"margin-left":"{{ margin-left }}px","margin-right":"{{ margin-right }}px"}),{params:{"margin-left":0,"margin-right":0}}),B.transition("expanded <=> compact",B.animate("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))]),el=function(){function e(){this.hideSidenav=!1,this.expandedSidenav=!0,this.position="start",this.direction="ltr",this.SIDENAV_STATES={MOBILE:{},EXPANDED:{},COMPACT:{}},this.CONTENT_STATES={MOBILE:{},EXPANDED:{},COMPACT:{}},this.onMediaQueryChange=this.onMediaQueryChange.bind(this)}return e.prototype.ngOnInit=function(){this.SIDENAV_STATES.MOBILE={value:"expanded",params:{width:this.sidenavMax}},this.SIDENAV_STATES.EXPANDED={value:"expanded",params:{width:this.sidenavMax}},this.SIDENAV_STATES.COMPACT={value:"compact",params:{width:this.sidenavMin}},this.CONTENT_STATES.MOBILE={value:"expanded"},this.mediaQueryList.addListener(this.onMediaQueryChange),this.isMobileScreenSize?(this.sidenavAnimationState=this.SIDENAV_STATES.MOBILE,this.contentAnimationState=this.CONTENT_STATES.MOBILE):this.expandedSidenav?(this.sidenavAnimationState=this.SIDENAV_STATES.EXPANDED,this.contentAnimationState=this.toggledContentAnimation):(this.sidenavAnimationState=this.SIDENAV_STATES.COMPACT,this.contentAnimationState=this.toggledContentAnimation)},e.prototype.ngOnDestroy=function(){this.mediaQueryList.removeListener(this.onMediaQueryChange)},e.prototype.ngOnChanges=function(e){e&&e.direction&&(this.contentAnimationState=this.toggledContentAnimation)},e.prototype.toggleMenu=function(){this.isMobileScreenSize?this.sidenav.toggle():(this.sidenavAnimationState=this.toggledSidenavAnimation,this.contentAnimationState=this.toggledContentAnimation)},Object.defineProperty(e.prototype,"isMobileScreenSize",{get:function(){return this.mediaQueryList.matches},enumerable:!1,configurable:!0}),e.prototype.getContentAnimationState=function(){return this.contentAnimationState},Object.defineProperty(e.prototype,"toggledSidenavAnimation",{get:function(){return this.sidenavAnimationState===this.SIDENAV_STATES.EXPANDED?this.SIDENAV_STATES.COMPACT:this.SIDENAV_STATES.EXPANDED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"toggledContentAnimation",{get:function(){if(this.isMobileScreenSize)return this.CONTENT_STATES.MOBILE;if(this.sidenavAnimationState===this.SIDENAV_STATES.EXPANDED){if("start"===this.position&&"ltr"===this.direction)return{value:"compact",params:{"margin-left":this.sidenavMax}};if("start"===this.position&&"rtl"===this.direction)return{value:"compact",params:{"margin-right":this.sidenavMax}};if("end"===this.position&&"ltr"===this.direction)return{value:"compact",params:{"margin-right":this.sidenavMax}};if("end"===this.position&&"rtl"===this.direction)return{value:"compact",params:{"margin-left":this.sidenavMax}}}else{if("start"===this.position&&"ltr"===this.direction)return{value:"expanded",params:{"margin-left":this.sidenavMin}};if("start"===this.position&&"rtl"===this.direction)return{value:"expanded",params:{"margin-right":this.sidenavMin}};if("end"===this.position&&"ltr"===this.direction)return{value:"expanded",params:{"margin-right":this.sidenavMin}};if("end"===this.position&&"rtl"===this.direction)return{value:"expanded",params:{"margin-left":this.sidenavMin}}}},enumerable:!1,configurable:!0}),e.prototype.onMediaQueryChange=function(){this.sidenavAnimationState=this.SIDENAV_STATES.EXPANDED,this.contentAnimationState=this.toggledContentAnimation},e}();el.decorators=[{type:t.Component,args:[{selector:"adf-layout-container",template:'<mat-sidenav-container>\n    <mat-sidenav\n        [position]="position"\n        [disableClose]="!isMobileScreenSize"\n        [ngClass]="{ \'adf-sidenav--hidden\': hideSidenav }"\n        [@sidenavAnimation]="sidenavAnimationState"\n        [opened]="!isMobileScreenSize"\n        [mode]="isMobileScreenSize ? \'over\' : \'side\'">\n        <ng-content sidenav select="[app-layout-navigation]"></ng-content>\n    </mat-sidenav>\n\n    <div>\n        <div class="adf-container-full-width" [@contentAnimationLeft]="getContentAnimationState()">\n            <ng-content select="[app-layout-content]"></ng-content>\n        </div>\n    </div>\n</mat-sidenav-container>\n',encapsulation:t.ViewEncapsulation.None,animations:[Qr,Zr],styles:["adf-layout-container{display:block;height:100%;overflow:hidden;width:100%}.adf-container-full-width{width:inherit}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.adf-container-full-width{width:100%}}.adf-sidenav--hidden{opacity:0!important;transform:unset!important;visibility:hidden!important;width:0!important}.mat-sidenav-container{display:block;height:100%;overflow:hidden;width:100%}.mat-sidenav{background-color:var(--theme-background-color);border-right:1px solid var(--theme-border-color);overflow:hidden}.mat-drawer-transition .mat-drawer-content,mat-sidenav-content.mat-sidenav-content{margin-left:0!important;transform:unset!important;transition-duration:unset!important;transition-property:unset!important;transition-timing-function:unset!important}mat-sidenav-content>div{display:flex;height:100%}mat-sidenav-content>div>div{flex:auto}"]}]}],el.ctorParameters=function(){return[]},el.propDecorators={sidenavMin:[{type:t.Input}],sidenavMax:[{type:t.Input}],mediaQueryList:[{type:t.Input}],hideSidenav:[{type:t.Input}],expandedSidenav:[{type:t.Input}],position:[{type:t.Input}],direction:[{type:t.Input}],sidenav:[{type:t.ViewChild,args:[D.MatSidenav,{static:!0}]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var tl=function(){function e(){this.width=272}return e.prototype.isExpanded=function(){return this.expanded},e}();tl.decorators=[{type:t.Component,args:[{selector:"adf-sidebar-action-menu",template:'<div class="adf-sidebar-action-menu">\n    <button *ngIf="isExpanded()" mat-raised-button class="adf-sidebar-action-menu-button" data-automation-id="create-button" [matMenuTriggerFor]="adfSidebarMenu">\n        <span *ngIf="title" class="adf-sidebar-action-menu-text">{{ title }}</span>\n        <ng-content select="[adf-sidebar-menu-title-icon], [sidebar-menu-title-icon]"></ng-content>\n    </button>\n\n    <div *ngIf="!isExpanded()" class="adf-sidebar-action-menu-icon" [matMenuTriggerFor]="adfSidebarMenu">\n        <ng-content select="[adf-sidebar-menu-expand-icon], [sidebar-menu-expand-icon]"></ng-content>\n    </div>\n\n    <mat-menu #adfSidebarMenu="matMenu" class="adf-sidebar-action-menu-panel" [overlapTrigger]="false" yPosition="below">\n        <div class="adf-sidebar-action-menu-options" [style.width.px]="width">\n            <ng-content select="[adf-sidebar-menu-options], [sidebar-menu-options]"></ng-content>\n        </div>\n    </mat-menu>\n</div>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,host:{class:"adf-sidebar-action-menu"},styles:[".adf-sidebar-action-menu .mat-raised-button{background-color:var(--theme-primary-color);border-radius:4px;box-shadow:none!important;color:var(--theme-primary-color-default-contrast)!important;display:block;font-weight:700;height:37.5px;width:100%}.adf-sidebar-action-menu .mat-raised-button mat-icon{color:var(--theme-primary-color-default-contrast)!important;height:25px;width:24px}.adf-sidebar-action-menu-text{height:20px;text-align:left;width:100%}.adf-sidebar-action-menu-icon{color:var(--theme-text-color);cursor:pointer;margin:18px 0 0 20px}.adf-sidebar-action-menu-icon:hover{color:var(--theme-primary-color)}.adf-sidebar-action-menu-options{letter-spacing:-.4px;text-align:left}.adf-sidebar-action-menu-options .mat-menu-item{color:var(--theme-text-bold-color);font-size:14px;letter-spacing:-.4px;line-height:1.5;text-align:left}.adf-sidebar-action-menu-options .mat-menu-item:hover{color:var(--theme-primary-color);opacity:inherit}.adf-sidebar-action-menu-panel{border-radius:2px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);margin-top:7.5px}"]}]}],tl.propDecorators={title:[{type:t.Input}],expanded:[{type:t.Input}],width:[{type:t.Input}]};var nl=function(){};nl.decorators=[{type:t.Directive,args:[{selector:"[adf-sidebar-menu-options], [sidebar-menu-options]"}]}];var il=function(){};il.decorators=[{type:t.Directive,args:[{selector:"[adf-sidebar-menu-title-icon], [sidebar-menu-title-icon]"}]}];var al=function(){};al.decorators=[{type:t.Directive,args:[{selector:"[adf-sidebar-menu-expand-icon], [sidebar-menu-expand-icon]"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ol=function(){};ol.decorators=[{type:t.Directive,args:[{selector:"adf-sidenav-layout-content"}]}],ol.propDecorators={template:[{type:t.ContentChild,args:[t.TemplateRef]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var rl=function(){};rl.decorators=[{type:t.Directive,args:[{selector:"adf-sidenav-layout-header"}]}],rl.propDecorators={template:[{type:t.ContentChild,args:[t.TemplateRef]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ll=function(){};ll.decorators=[{type:t.Directive,args:[{selector:"adf-sidenav-layout-navigation"}]}],ll.propDecorators={template:[{type:t.ContentChild,args:[t.TemplateRef]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var sl=function(){function e(e,n){var i=this;this.mediaMatcher=e,this.userPreferencesService=n,this.dir="ltr",this.position="start",this.hideSidenav=!1,this.expandedSidenav=!0,this.expanded=new t.EventEmitter,this.templateContext={toggleMenu:function(){},isMenuMinimized:function(){return i.isMenuMinimized}},this.onDestroy$=new o.Subject,this.onMediaQueryChange=this.onMediaQueryChange.bind(this)}return e.prototype.ngOnInit=function(){var t=this,n=!this.expandedSidenav;this.menuOpenStateSubject=new o.BehaviorSubject(n),this.menuOpenState$=this.menuOpenStateSubject.asObservable();var i=this.stepOver||e.STEP_OVER;this.isMenuMinimized=n,this.mediaQueryList=this.mediaMatcher.matchMedia("(max-width: "+i+"px)"),this.mediaQueryList.addListener(this.onMediaQueryChange),this.userPreferencesService.select("textOrientation").pipe(s.takeUntil(this.onDestroy$)).subscribe((function(e){t.dir=e}))},e.prototype.ngAfterViewInit=function(){this.templateContext.toggleMenu=this.toggleMenu.bind(this)},e.prototype.ngOnDestroy=function(){this.mediaQueryList.removeListener(this.onMediaQueryChange),this.onDestroy$.next(!0),this.onDestroy$.complete()},e.prototype.toggleMenu=function(){this.mediaQueryList.matches?this.isMenuMinimized=!1:this.isMenuMinimized=!this.isMenuMinimized,this.container.toggleMenu(),this.expanded.emit(!this.isMenuMinimized)},Object.defineProperty(e.prototype,"isMenuMinimized",{get:function(){return this._isMenuMinimized},set:function(e){this._isMenuMinimized=e,this.menuOpenStateSubject.next(!e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHeaderInside",{get:function(){return this.mediaQueryList.matches},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerTemplate",{get:function(){return this.headerDirective&&this.headerDirective.template||this.emptyTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"navigationTemplate",{get:function(){return this.navigationDirective&&this.navigationDirective.template||this.emptyTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contentTemplate",{get:function(){return this.contentDirective&&this.contentDirective.template||this.emptyTemplate},enumerable:!1,configurable:!0}),e.prototype.onMediaQueryChange=function(){this.isMenuMinimized=!1,this.expanded.emit(!this.isMenuMinimized)},e}();sl.STEP_OVER=600,sl.decorators=[{type:t.Component,args:[{selector:"adf-sidenav-layout",template:'<div class="adf-sidenav-layout-full-space">\n    <ng-container *ngIf="!isHeaderInside">\n        <ng-container class="adf-sidenav-layout-outer-header"\n                      *ngTemplateOutlet="headerTemplate; context:templateContext"></ng-container>\n    </ng-container>\n\n    <adf-layout-container #container\n                          [direction]="dir"\n                          [position]="position"\n                          [sidenavMin]="sidenavMin"\n                          [sidenavMax]="sidenavMax"\n                          [mediaQueryList]="mediaQueryList"\n                          [hideSidenav]="hideSidenav"\n                          [expandedSidenav]="expandedSidenav"\n                          data-automation-id="adf-layout-container"\n                          class="adf-layout__content">\n\n        <ng-container app-layout-navigation\n                      *ngTemplateOutlet="navigationTemplate; context:templateContext"></ng-container>\n\n        <ng-container app-layout-content>\n            <ng-container *ngIf="isHeaderInside">\n                <ng-container *ngTemplateOutlet="headerTemplate; context:templateContext"></ng-container>\n            </ng-container>\n            <ng-container *ngTemplateOutlet="contentTemplate; context:templateContext"></ng-container>\n        </ng-container>\n    </adf-layout-container>\n\n    <ng-template #emptyTemplate></ng-template>\n</div>\n',encapsulation:t.ViewEncapsulation.None,host:{class:"adf-sidenav-layout"},styles:[".adf-sidenav-layout,.adf-sidenav-layout-full-space{display:flex;flex:1;flex-direction:column;height:100%;min-height:0;overflow:hidden;width:100%}.adf-sidenav-layout .adf-layout__content{flex:1 1 auto}.adf-sidenav-layout router-outlet{flex:0 0}@media (max-width:599.9px){.adf-sidenav-layout .mat-drawer{max-width:300px!important;width:calc(-50px + 100vw)!important}}.adf-sidenav-layout .mat-drawer-content{display:flex;flex:1;flex-direction:column;height:100%;min-height:0;overflow:hidden;overflow:auto;position:unset}"]}]}],sl.ctorParameters=function(){return[{type:K.MediaMatcher},{type:Je}]},sl.propDecorators={position:[{type:t.Input}],sidenavMin:[{type:t.Input}],sidenavMax:[{type:t.Input}],stepOver:[{type:t.Input}],hideSidenav:[{type:t.Input}],expandedSidenav:[{type:t.Input}],expanded:[{type:t.Output}],headerDirective:[{type:t.ContentChild,args:[rl]}],navigationDirective:[{type:t.ContentChild,args:[ll]}],contentDirective:[{type:t.ContentChild,args:[ol]}],container:[{type:t.ViewChild,args:["container",{static:!0}]}],emptyTemplate:[{type:t.ViewChild,args:["emptyTemplate",{static:!0}]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var dl=function(){};dl.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,M.RouterModule,u.TranslateModule],exports:[rl,ol,ll,sl,el,tl,nl,al,il,Jr],declarations:[rl,ol,ll,sl,el,tl,nl,al,il,Jr]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var pl=function(){function n(e,n,i){this.peopleProcessService=e,this.ecmUserService=n,this.userPreferenceService=i,this.clickRow=new t.EventEmitter,this.onDestroy$=new o.Subject}return n.prototype.ngOnInit=function(){var t=this;this.userPreferenceService.select(e.UserPreferenceValues.Locale).pipe(s.takeUntil(this.onDestroy$)).subscribe((function(e){return t.currentLocale=e}))},n.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},n.prototype.selectComment=function(e){this.selectedComment&&(this.selectedComment.isSelected=!1),e.isSelected=!0,this.selectedComment=e,this.clickRow.emit(this.selectedComment)},n.prototype.getUserShortName=function(e){var t="";return e&&(e.firstName&&(t=e.firstName[0].toUpperCase()),e.lastName&&(t+=e.lastName[0].toUpperCase())),t},n.prototype.isPictureDefined=function(e){return e.pictureId||e.avatarId},n.prototype.getUserImage=function(e){return this.isAContentUsers(e)?this.ecmUserService.getUserProfileImage(e.avatarId):this.peopleProcessService.getUserImage(e)},n.prototype.isAContentUsers=function(e){return e.avatarId},n}();pl.decorators=[{type:t.Component,args:[{selector:"adf-comment-list",template:' <mat-list class="adf-comment-list">\n    <mat-list-item *ngFor="let comment of comments"\n                  (click)="selectComment(comment)"\n                  class="adf-comment-list-item"\n                  [class.adf-is-selected]="comment.isSelected"\n                  id="adf-comment-{{comment?.id}}">\n        <div id="comment-user-icon" class="adf-comment-img-container">\n            <div\n                *ngIf="!isPictureDefined(comment.createdBy)"\n                class="adf-comment-user-icon">\n                {{getUserShortName(comment.createdBy)}}\n            </div>\n            <div>\n                <img [alt]="comment.createdBy" *ngIf="isPictureDefined(comment.createdBy)"\n                      class="adf-people-img"\n                     [src]="getUserImage(comment.createdBy)" />\n            </div>\n        </div>\n        <div class="adf-comment-contents">\n            <div matLine id="comment-user" class="adf-comment-user-name">\n                {{comment.createdBy?.firstName}} {{comment.createdBy?.lastName}}\n            </div>\n            <div matLine id="comment-message" class="adf-comment-message" [innerHTML]="comment.message"></div>\n            <div matLine id="comment-time" class="adf-comment-message-time">\n                {{ comment.created | adfTimeAgo: currentLocale }}\n            </div>\n        </div>\n    </mat-list-item>\n</mat-list>\n',encapsulation:t.ViewEncapsulation.None,styles:[".adf-is-selected{background:var(--adf-comment-list-primary-color)}.adf-comment-img-container{align-self:flex-start;display:flex;float:left;height:100%;padding-top:18px;width:40px}.adf-comment-list-item{background-position:50%;display:table-row-group;height:100%!important;overflow:hidden;padding-top:12px;transition:background .8s;white-space:normal}.adf-comment-list-item:hover{background:var(--adf-comment-list-primary-color) radial-gradient(circle,transparent 1%,var(--adf-comment-list-primary-color) 0) 50%/15000%}.adf-comment-list-item:active{background-color:var(--adf-comment-list-ripple-color);background-size:100%;transition:background 0s}.adf-comment-user-icon{background-color:var(--theme-primary-color);background-size:cover;border-radius:50%;color:var(--theme-primary-color-default-contrast);font-size:16px;height:20px;padding:10px 5px;text-align:center;width:30px}.adf-comment-user-name{float:left;font-size:14px;font-weight:600;padding:2px 10px;width:90%}.adf-comment-message{font-size:14px;font-style:italic;letter-spacing:-.2px;line-height:1.43;white-space:normal!important;width:calc(100% - 10px)}.adf-comment-message,.adf-comment-message-time{color:var(--theme-foreground-text-color);float:left;padding:2px 10px}.adf-comment-message-time{font-size:12px!important;width:90%}.adf-comment-contents{padding-bottom:12px;padding-left:5px;padding-top:12px;width:calc(100% - 10px)}.adf-people-img{border-radius:90%;height:40px;vertical-align:middle;width:40px}"]}]}],pl.ctorParameters=function(){return[{type:Er},{type:Oi},{type:Je}]},pl.propDecorators={comments:[{type:t.Input}],clickRow:[{type:t.Output}]};var ul=function(){function e(e,t){this.apiService=e,this.logService=t}return Object.defineProperty(e.prototype,"commentsApi",{get:function(){var e;return this._commentsApi=null!==(e=this._commentsApi)&&void 0!==e?e:new r.ActivitiCommentsApi(this.apiService.getInstance()),this._commentsApi},enumerable:!1,configurable:!0}),e.prototype.addTaskComment=function(e,t){var n=this;return o.from(this.commentsApi.addTaskComment({message:t},e)).pipe(s.map((function(e){return new ti({id:e.id,message:e.message,created:e.created,createdBy:e.createdBy})})),s.catchError((function(e){return n.handleError(e)})))},e.prototype.getTaskComments=function(e){var t=this;return o.from(this.commentsApi.getTaskComments(e)).pipe(s.map((function(e){var t=[];return e.data.forEach((function(e){var n=new ei(e.createdBy);t.push(new ti({id:e.id,message:e.message,created:e.created,createdBy:n}))})),t})),s.catchError((function(e){return t.handleError(e)})))},e.prototype.getProcessInstanceComments=function(e){var t=this;return o.from(this.commentsApi.getProcessInstanceComments(e)).pipe(s.map((function(e){var t=[];return e.data.forEach((function(e){var n=new ei(e.createdBy);t.push(new ti({id:e.id,message:e.message,created:e.created,createdBy:n}))})),t})),s.catchError((function(e){return t.handleError(e)})))},e.prototype.addProcessInstanceComment=function(e,t){var n=this;return o.from(this.commentsApi.addProcessInstanceComment({message:t},e)).pipe(s.map((function(e){return new ti({id:e.id,message:e.message,created:e.created,createdBy:e.createdBy})})),s.catchError((function(e){return n.handleError(e)})))},e.prototype.handleError=function(e){return this.logService.error(e),o.throwError(e||"Server error")},e}();ul.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new ul(t.ɵɵinject(Ce),t.ɵɵinject(Ae))},token:ul,providedIn:"root"}),ul.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],ul.ctorParameters=function(){return[{type:Ce},{type:Ae}]};var cl=function(){function e(e,t){this.apiService=e,this.logService=t}return Object.defineProperty(e.prototype,"commentsApi",{get:function(){var e;return this._commentsApi=null!==(e=this._commentsApi)&&void 0!==e?e:new r.CommentsApi(this.apiService.getInstance()),this._commentsApi},enumerable:!1,configurable:!0}),e.prototype.addNodeComment=function(e,t){var n=this;return o.from(this.commentsApi.createComment(e,{content:t})).pipe(s.map((function(e){return new ti({id:e.entry.id,message:e.entry.content,created:e.entry.createdAt,createdBy:e.entry.createdBy})})),s.catchError((function(e){return n.handleError(e)})))},e.prototype.getNodeComments=function(e){var t=this;return o.from(this.commentsApi.listComments(e)).pipe(s.map((function(e){var t=[];return e.list.entries.forEach((function(e){t.push(new ti({id:e.entry.id,message:e.entry.content,created:e.entry.createdAt,createdBy:e.entry.createdBy}))})),t})),s.catchError((function(e){return t.handleError(e)})))},e.prototype.handleError=function(e){return this.logService.error(e),o.throwError(e||"Server error")},e}();cl.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new cl(t.ɵɵinject(Ce),t.ɵɵinject(Ae))},token:cl,providedIn:"root"}),cl.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],cl.ctorParameters=function(){return[{type:Ce},{type:Ae}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var fl=function(){function e(e,n){var i=this;this.commentProcessService=e,this.commentContentService=n,this.readOnly=!1,this.error=new t.EventEmitter,this.comments=[],this.beingAdded=!1,this.comment$=new o.Observable((function(e){return i.commentObserver=e})).pipe(s.share()),this.comment$.subscribe((function(e){i.comments.push(e)}))}return e.prototype.ngOnChanges=function(e){this.taskId=null,this.nodeId=null,this.taskId=e.taskId?e.taskId.currentValue:null,this.nodeId=e.nodeId?e.nodeId.currentValue:null,this.taskId||this.nodeId?this.getComments():this.resetComments()},e.prototype.getComments=function(){var e=this;this.resetComments(),this.isATask()&&this.commentProcessService.getTaskComments(this.taskId).subscribe((function(t){t&&t instanceof Array&&(t=t.sort((function(e,t){var n=new Date(e.created),i=new Date(t.created);return n>i?-1:n<i?1:0}))).forEach((function(t){e.commentObserver.next(t)}))}),(function(t){e.error.emit(t)})),this.isANode()&&this.commentContentService.getNodeComments(this.nodeId).subscribe((function(t){t&&t instanceof Array&&(t=t.sort((function(e,t){var n=new Date(e.created),i=new Date(t.created);return n>i?-1:n<i?1:0}))).forEach((function(t){e.commentObserver.next(t)}))}),(function(t){e.error.emit(t)}))},e.prototype.resetComments=function(){this.comments=[]},e.prototype.add=function(){var e=this;if(this.message&&this.message.trim()&&!this.beingAdded){var t=this.sanitize(this.message);this.beingAdded=!0,this.isATask()&&this.commentProcessService.addTaskComment(this.taskId,t).subscribe((function(t){e.comments.unshift(t),e.message="",e.beingAdded=!1}),(function(t){e.error.emit(t),e.beingAdded=!1})),this.isANode()&&this.commentContentService.addNodeComment(this.nodeId,t).subscribe((function(t){e.comments.unshift(t),e.message="",e.beingAdded=!1}),(function(t){e.error.emit(t),e.beingAdded=!1}))}},e.prototype.clear=function(e){e.stopPropagation(),this.message=""},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.isATask=function(){return!!this.taskId},e.prototype.isANode=function(){return!!this.nodeId},e.prototype.sanitize=function(e){return e.replace(/<[^>]+>/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,"").replace(/\r?\n/g,"<br/>")},e}();fl.decorators=[{type:t.Component,args:[{selector:"adf-comments",template:'<div class="adf-comments-container">\n    <div id="comment-header" class="adf-comments-header" role="heading">\n        {{\'COMMENTS.HEADER\' | translate: { count: comments?.length} }}\n    </div>\n    <div class="adf-comments-input-container" *ngIf="!isReadOnly()">\n            <mat-form-field class="adf-full-width">\n                <textarea (keydown.escape)="clear($event)" matInput id="comment-input" placeholder="{{\'COMMENTS.ADD\' | translate}}" [(ngModel)]="message"></textarea>\n            </mat-form-field>\n\n            <div class="adf-comments-input-actions">\n                <button mat-button\n                    class="adf-comments-input-add"\n                    data-automation-id="comments-input-add"\n                    color="primary"\n                    (click)="add()"\n                    [disabled]="!message">\n                    {{ \'COMMENTS.ADD\' | translate }}\n                </button>\n            </div>\n    </div>\n\n    <div *ngIf="comments.length > 0">\n        <adf-comment-list [comments]="comments">\n        </adf-comment-list>\n    </div>\n</div>',encapsulation:t.ViewEncapsulation.None,styles:[".adf-comments-container{height:100%;overflow:auto;width:100%}.adf-comments-header{border-bottom:1px solid var(--theme-fg-divider);font-size:14px;font-weight:600;padding:10px 20px}.adf-comments-input-container{border-bottom:1px solid var(--theme-fg-divider);padding:8px 15px 0;width:calc(100% - 30px)}.adf-comments-input-container textarea{resize:vertical}.adf-comments-input-actions{display:flex;justify-content:flex-end;margin-bottom:10px}.adf-full-width{width:100%}adf-comment-list{float:left;height:calc(100% - 101px);overflow:auto;width:100%}"]}]}],fl.ctorParameters=function(){return[{type:ul},{type:cl}]},fl.propDecorators={taskId:[{type:t.Input}],nodeId:[{type:t.Input}],readOnly:[{type:t.Input}],error:[{type:t.Output}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ml=function(){};ml.decorators=[{type:t.NgModule,args:[{imports:[yt,Hn,qn,G.FormsModule,G.ReactiveFormsModule,Be,p.CommonModule,u.TranslateModule],declarations:[pl,fl],exports:[pl,fl]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var hl=function(){function e(){}return e.prototype.ngAfterContentInit=function(){this.isMenuEmpty=this.buttons.length<=0},e.prototype.isMobile=function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},e}();hl.decorators=[{type:t.Component,args:[{selector:"adf-buttons-action-menu",template:'<div id="adf-buttons-menu" class="adf-buttons-menu" *ngIf="!isMenuEmpty">\n    <div *ngIf="isMobile()">\n        <button mat-icon-button [matMenuTriggerFor]="editReportMenu">\n            <mat-icon>more_vert</mat-icon>\n        </button>\n        <mat-menu #editReportMenu="matMenu" class="adf-buttons-menu-mobile">\n            <ng-content *ngTemplateOutlet="desktop">\n            </ng-content>\n        </mat-menu>\n    </div>\n\n    <div *ngIf="!isMobile()" class="adf-buttons-menu-desktop">\n        <ng-content *ngTemplateOutlet="desktop">\n        </ng-content>\n    </div>\n</div>\n\n<ng-template #desktop>\n    <ng-content></ng-content>\n</ng-template>',encapsulation:t.ViewEncapsulation.None,styles:[".adf-buttons-menu{margin-right:10px}.adf-buttons-menu div{display:flex}.adf-buttons-menu-mobile{margin-right:10px}.adf-buttons-menu-desktop{display:flex}.adf-buttons-menu-desktop button{color:#000;padding:0}.adf-buttons-menu-desktop button>span{display:none}.adf-buttons-menu-desktop button>mat-icon.mat-icon.material-icons{color:#000;margin:0 10px}"]}]}],hl.propDecorators={buttons:[{type:t.ContentChildren,args:[S.MatMenuItem]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var gl=function(){};gl.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,u.TranslateModule,W.FlexLayoutModule],declarations:[hl],exports:[hl]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var yl=function(){function e(){this.options=[],this.ascending=!0,this.valueChange=new t.EventEmitter,this.sortingChange=new t.EventEmitter}return e.prototype.onOptionChanged=function(e){this.selected=e.value,this.valueChange.emit(this.selected)},e.prototype.toggleSortDirection=function(){this.ascending=!this.ascending,this.sortingChange.emit(this.ascending)},e}();yl.decorators=[{type:t.Component,args:[{selector:"adf-sorting-picker",template:'<mat-form-field floatLabel="always">\n    <mat-label>{{\'CORE.SEARCH.SORT_BY\' | translate}}</mat-label>\n    <mat-select [(value)]="selected" (selectionChange)="onOptionChanged($event)">\n        <mat-option *ngFor="let option of options" [value]="option.key">\n            {{ option.label | translate }}\n        </mat-option>\n    </mat-select>\n</mat-form-field>\n\n<button *ngIf="selected" mat-icon-button (click)="toggleSortDirection()" aria-label="\'CORE.SEARCH.TOGGLE_ASC_DESC_ORDER\' | translate">\n    <mat-icon *ngIf="ascending">arrow_upward</mat-icon>\n    <mat-icon *ngIf="!ascending">arrow_downward</mat-icon>\n</button>\n',encapsulation:t.ViewEncapsulation.None,host:{class:"adf-sorting-picker"}}]}],yl.propDecorators={options:[{type:t.Input}],selected:[{type:t.Input}],ascending:[{type:t.Input}],valueChange:[{type:t.Output}],sortingChange:[{type:t.Output}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var vl=function(){};vl.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,u.TranslateModule],declarations:[yl],exports:[yl]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var bl=function(){function e(t,n){this.route=t,this.translateService=n,this.errorCode=e.UNKNOWN_ERROR}return e.prototype.ngOnInit=function(){var t=this;this.route&&this.route.params.subscribe((function(n){var i=n.id||t.errorCode,a=t.checkErrorExists(i);t.errorCodeTranslated=a?i:e.UNKNOWN_ERROR}))},e.prototype.checkErrorExists=function(e){return this.translateService.instant("ERROR_CONTENT."+e)!=="ERROR_CONTENT."+e},e}();bl.UNKNOWN_ERROR="UNKNOWN",bl.decorators=[{type:t.Component,args:[{selector:"adf-error-content",template:'<div class="adf-error-content">\n    <p class="adf-error-content-code">\n        {{ errorCodeTranslated }}\n    </p>\n    <div class="adf-error-content-shadow"></div>\n    <p class="adf-error-content-title">\n        {{ \'ERROR_CONTENT.\' + errorCodeTranslated + \'.TITLE\' | translate }}\n    </p>\n    <p class="adf-error-content-description">\n        {{ \'ERROR_CONTENT.\' + errorCodeTranslated + \'.DESCRIPTION\' | translate }}\n    </p>\n    <ng-content select="[adf-error-content-actions]"></ng-content>\n</div>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,host:{class:"adf-error-content"},styles:[".adf-error-content{align-items:center;color:var(--theme-text-color);display:flex;flex-direction:column}.adf-error-content-code{font-size:110px;font-weight:300;margin-bottom:45px;margin-top:200px}.adf-error-content-shadow{box-shadow:0 10px 15px 0 rgba(0,0,0,.39);height:3px;opacity:.54;width:170px}.adf-error-content-title{font-size:46px;font-weight:400;margin-bottom:10px;margin-top:40px}.adf-error-content-description{font-size:24px;font-weight:400;line-height:30px;margin-bottom:60px;min-width:250px;text-align:center;width:50%}@media screen and (max-width:959px){.adf-error-content-code{font-size:50px;margin-bottom:25px;margin-top:100px}.adf-error-content-shadow{width:100px}.adf-error-content-title{font-size:24px}.adf-error-content-description{font-size:17px}}"]}]}],bl.ctorParameters=function(){return[{type:M.ActivatedRoute},{type:Ze}]},bl.propDecorators={errorCode:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var wl=function(){this.icon="cake",this.title="",this.subtitle=""};wl.decorators=[{type:t.Component,args:[{selector:"adf-empty-content",template:'<div class="adf-empty-content" [title]="title | translate">\n    <adf-icon class="adf-empty-content__icon" [value]="icon"></adf-icon>\n    <div class="adf-empty-content__title">{{ title | translate }}</div>\n    <div class="adf-empty-content__subtitle">{{ subtitle | translate }}</div>\n    <ng-content></ng-content>\n</div>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,host:{class:"adf-empty-content"},styles:[".adf-empty-content{align-items:center;color:var(--theme-text-color);display:flex;flex-direction:column;height:100%;justify-content:center;width:100%}.adf-empty-content__icon .mat-icon{font-size:var(--theme-display-3-font-size);height:var(--theme-display-3-font-size)!important;width:var(--theme-display-3-font-size)!important}.adf-empty-content__title{font-size:18px;font-weight:600;line-height:0;margin:10px 0;text-align:center;white-space:normal}.adf-empty-content__subtitle,.adf-empty-content__text{font-size:14px;font-weight:300;line-height:inherit;text-align:center;white-space:normal}.adf-empty-content .adf-icon{opacity:.6}"]}]}],wl.propDecorators={icon:[{type:t.Input}],title:[{type:t.Input}],subtitle:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Il=function(){function e(){this._value="",this._isCustom=!1}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e||"settings",this._isCustom=this._value.includes(":")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCustom",{get:function(){return this._isCustom},enumerable:!1,configurable:!0}),e}();Il.decorators=[{type:t.Component,args:[{selector:"adf-icon",template:'<ng-container *ngIf="isCustom; else: default">\n  <mat-icon [color]="color" [svgIcon]="value"></mat-icon>\n</ng-container>\n\n<ng-template #default>\n  <mat-icon [color]="color">{{ value }}</mat-icon>\n</ng-template>\n',encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush,host:{class:"adf-icon"},styles:[".adf-icon{display:inline-flex;vertical-align:middle}"]}]}],Il.propDecorators={color:[{type:t.Input}],value:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var El=function(){};El.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,E.MatIconModule],declarations:[Il],exports:[Il]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Cl=function(){};Cl.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,u.TranslateModule,El],declarations:[bl,wl],exports:[bl,wl]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var xl=function(){function t(e,t,n,i,a){this.authenticationService=e,this.router=t,this.appConfigService=n,this.dialog=i,this.storageService=a}return Object.defineProperty(t.prototype,"withCredentials",{get:function(){return this.appConfigService.get("auth.withCredentials",!1)},enumerable:!1,configurable:!0}),t.prototype.canActivate=function(e,t){return this.authenticationService.isLoggedIn()&&this.authenticationService.isOauth()&&this.isLoginFragmentPresent()?this.redirectSSOSuccessURL():this.checkLogin(e,t.url)},t.prototype.canActivateChild=function(e,t){return this.canActivate(e,t)},t.prototype.redirectSSOSuccessURL=function(){return oe(this,void 0,void 0,(function(){var e;return re(this,(function(t){switch(t.label){case 0:return(e=this.storageService.getItem("loginFragment"))&&this.getLoginRoute()!==e?[4,this.navigate(e)]:[3,2];case 1:return t.sent(),this.storageService.removeItem("loginFragment"),[2,!1];case 2:return[2,!0]}}))}))},t.prototype.isLoginFragmentPresent=function(){return!!this.storageService.getItem("loginFragment")},t.prototype.redirectToUrl=function(e){return oe(this,void 0,void 0,(function(){var t;return re(this,(function(n){return t="/"+this.getLoginRoute(),this.authenticationService.isOauth()?!this.getOauthConfig().silentLogin||this.authenticationService.isPublicUrl()?[2,this.navigate(t)]:(this.authenticationService.ssoImplicitLogin(),[2,!1]):(this.authenticationService.setRedirect({provider:this.getProvider(),url:e}),t=t+"?redirectUrl="+e,[2,this.navigate(t)])}))}))},t.prototype.navigate=function(e){return oe(this,void 0,void 0,(function(){return re(this,(function(t){switch(t.label){case 0:return this.dialog.closeAll(),[4,this.router.navigateByUrl(this.router.parseUrl(e))];case 1:return t.sent(),[2,!1]}}))}))},t.prototype.getOauthConfig=function(){return this.appConfigService&&this.appConfigService.get(e.AppConfigValues.OAUTHCONFIG,null)},t.prototype.getLoginRoute=function(){return this.appConfigService&&this.appConfigService.get(e.AppConfigValues.LOGIN_ROUTE,"login")},t.prototype.getProvider=function(){return this.appConfigService&&this.appConfigService.get(e.AppConfigValues.PROVIDERS,"ALL")},t.prototype.isOAuthWithoutSilentLogin=function(){var t=this.appConfigService.get(e.AppConfigValues.OAUTHCONFIG,null);return this.authenticationService.isOauth()&&!!t&&!t.silentLogin},t.prototype.isSilentLogin=function(){var t=this.appConfigService.get(e.AppConfigValues.OAUTHCONFIG,null);return this.authenticationService.isOauth()&&t&&t.silentLogin},t}(),Sl=function(e){function t(t,n,i,a,o,r){var l=e.call(this,n,i,a,o,r)||this;return l.jwtHelperService=t,l.ticketChangeBind=l.ticketChange.bind(l),window.addEventListener("storage",l.ticketChangeBind),l}return ae(t,e),t.prototype.ticketChange=function(e){e.key.includes("ticket-ECM")&&e.newValue!==e.oldValue&&this.ticketChangeRedirect(e),e.key.includes("ticket-BPM")&&e.newValue!==e.oldValue&&this.ticketChangeRedirect(e),e.key.endsWith(Oe.USER_ACCESS_TOKEN)&&this.jwtHelperService.getValueFromToken(e.newValue,Oe.USER_PREFERRED_USERNAME)!==this.jwtHelperService.getValueFromToken(e.oldValue,Oe.USER_PREFERRED_USERNAME)&&this.ticketChangeRedirect(e)},t.prototype.ticketChangeRedirect=function(e){e.newValue?this.navigate(this.router.url):window.location.reload()},t.prototype.checkLogin=function(e,t){return oe(this,void 0,void 0,(function(){return re(this,(function(e){return this.authenticationService.isLoggedIn()||this.withCredentials?[2,!0]:[2,this.redirectToUrl(t)]}))}))},t}(xl);Sl.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Sl(t.ɵɵinject(Oe),t.ɵɵinject(De),t.ɵɵinject(M.Router),t.ɵɵinject(Ie),t.ɵɵinject(b.MatDialog),t.ɵɵinject(Ee))},token:Sl,providedIn:"root"}),Sl.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Sl.ctorParameters=function(){return[{type:Oe},{type:De},{type:M.Router},{type:Ie},{type:b.MatDialog},{type:Ee}]};var Tl=function(e){function t(t,n,i,a,o){return e.call(this,t,n,i,a,o)||this}return ae(t,e),t.prototype.checkLogin=function(e,t){return oe(this,void 0,void 0,(function(){return re(this,(function(e){return this.authenticationService.isEcmLoggedIn()||this.withCredentials?[2,!0]:[2,this.redirectToUrl(t)]}))}))},t}(xl);Tl.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Tl(t.ɵɵinject(De),t.ɵɵinject(M.Router),t.ɵɵinject(Ie),t.ɵɵinject(b.MatDialog),t.ɵɵinject(Ee))},token:Tl,providedIn:"root"}),Tl.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Tl.ctorParameters=function(){return[{type:De},{type:M.Router},{type:Ie},{type:b.MatDialog},{type:Ee}]};var Al=function(e){function t(t,n,i,a,o){return e.call(this,t,n,i,a,o)||this}return ae(t,e),t.prototype.checkLogin=function(e,t){return oe(this,void 0,void 0,(function(){return re(this,(function(e){return this.authenticationService.isBpmLoggedIn()||this.withCredentials?[2,!0]:[2,this.redirectToUrl(t)]}))}))},t}(xl);Al.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Al(t.ɵɵinject(De),t.ɵɵinject(M.Router),t.ɵɵinject(Ie),t.ɵɵinject(b.MatDialog),t.ɵɵinject(Ee))},token:Al,providedIn:"root"}),Al.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Al.ctorParameters=function(){return[{type:De},{type:M.Router},{type:Ie},{type:b.MatDialog},{type:Ee}]},(e.ContentGroups||(e.ContentGroups={})).ALFRESCO_ADMINISTRATORS="ALFRESCO_ADMINISTRATORS";var Ol=function(){function e(e,t){this.apiService=e,this.logService=t,this.hasContentAdminRole=!1,this.hasCheckedIsContentAdmin=!1}return Object.defineProperty(e.prototype,"peopleApi",{get:function(){var e;return this._peopleApi=null!==(e=this._peopleApi)&&void 0!==e?e:new r.PeopleApi(this.apiService.getInstance()),this._peopleApi},enumerable:!1,configurable:!0}),e.prototype.getPerson=function(e){var t=this,n=this.peopleApi.getPerson(e);return o.from(n).pipe(s.catchError((function(e){return t.handleError(e)})))},e.prototype.getCurrentPerson=function(){return this.getPerson("-me-")},e.prototype.listPeople=function(e){var t=this,n={skipCount:null==e?void 0:e.skipCount,maxItems:null==e?void 0:e.maxItems},i=this.buildOrderArray(null==e?void 0:e.sorting);i.length&&(n.orderBy=i);var a=this.peopleApi.listPeople(n);return o.from(a).pipe(s.map((function(e){return{pagination:e.list.pagination,entries:e.list.entries.map((function(e){return e.entry}))}})),s.catchError((function(e){return t.handleError(e)})))},e.prototype.createPerson=function(e,t){var n=this;return o.from(this.peopleApi.createPerson(e,t)).pipe(s.map((function(e){return null==e?void 0:e.entry})),s.catchError((function(e){return n.handleError(e)})))},e.prototype.isContentAdmin=function(){var e,t;return oe(this,void 0,void 0,(function(){var n;return re(this,(function(i){switch(i.label){case 0:return this.hasCheckedIsContentAdmin?[3,2]:[4,this.getCurrentPerson().toPromise()];case 1:n=i.sent(),this.hasContentAdminRole=null===(t=null===(e=null==n?void 0:n.entry)||void 0===e?void 0:e.capabilities)||void 0===t?void 0:t.isAdmin,this.hasCheckedIsContentAdmin=!0,i.label=2;case 2:return[2,this.hasContentAdminRole]}}))}))},e.prototype.buildOrderArray=function(e){return(null==e?void 0:e.orderBy)&&(null==e?void 0:e.direction)?[e.orderBy+" "+e.direction.toUpperCase()]:[]},e.prototype.handleError=function(e){return this.logService.error(e),o.throwError(e||"Server error")},e}();Ol.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Ol(t.ɵɵinject(Ce),t.ɵɵinject(Ae))},token:Ol,providedIn:"root"}),Ol.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Ol.ctorParameters=function(){return[{type:Ce},{type:Ae}]};var Rl=function(){function t(e,t,n,i){this.jwtHelperService=e,this.router=t,this.dialog=n,this.peopleContentService=i}return t.prototype.canActivate=function(t){return oe(this,void 0,void 0,(function(){var n,i,a,o,r,l,s,d;return re(this,(function(p){switch(p.label){case 0:return i=!1,a=!0,t.data?t.data.roles?(d=t.data.roles,o=t.data.excludedRoles||[],d.includes(e.ContentGroups.ALFRESCO_ADMINISTRATORS)||o.includes(e.ContentGroups.ALFRESCO_ADMINISTRATORS)?[4,this.peopleContentService.isContentAdmin()]:[3,2]):[3,4]:[3,5];case 1:return l=p.sent(),[3,3];case 2:l=!1,p.label=3;case 3:r=l,i=o.length?this.checkAccessWithExcludedRoles(d,o,r):this.hasRoles(d,r),p.label=4;case 4:t.data.clientRoles&&(s=t.params[t.data.clientRoles],d=t.data.roles,a=this.jwtHelperService.hasRealmRolesForClientRole(s,d)),p.label=5;case 5:return!(n=i&&a)&&t.data&&t.data.redirectUrl&&this.router.navigate(["/"+t.data.redirectUrl]),n||this.dialog.closeAll(),[2,n]}}))}))},t.prototype.checkAccessWithExcludedRoles=function(e,t,n){return this.hasRoles(e,n)&&!this.hasRoles(t,n)},t.prototype.hasRoles=function(t,n){return t.includes(e.ContentGroups.ALFRESCO_ADMINISTRATORS)?this.jwtHelperService.hasRealmRoles(t)||n:this.jwtHelperService.hasRealmRoles(t)},t}();Rl.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Rl(t.ɵɵinject(Oe),t.ɵɵinject(M.Router),t.ɵɵinject(b.MatDialog),t.ɵɵinject(Ol))},token:Rl,providedIn:"root"}),Rl.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Rl.ctorParameters=function(){return[{type:Oe},{type:M.Router},{type:b.MatDialog},{type:Ol}]};var Dl=function(){function e(e,t){this.apiService=e,this.logService=t}return Object.defineProperty(e.prototype,"appsApi",{get:function(){var e;return this._appsApi=null!==(e=this._appsApi)&&void 0!==e?e:new r.RuntimeAppDefinitionsApi(this.apiService.getInstance()),this._appsApi},enumerable:!1,configurable:!0}),e.prototype.getDeployedApplications=function(){var e=this;return o.from(this.appsApi.getAppDefinitions()).pipe(s.map((function(e){return e.data})),s.catchError((function(t){return e.handleError(t)})))},e.prototype.getDeployedApplicationsByName=function(e){var t=this;return o.from(this.appsApi.getAppDefinitions()).pipe(s.map((function(t){return t.data.find((function(t){return t.name===e}))})),s.catchError((function(e){return t.handleError(e)})))},e.prototype.getApplicationDetailsById=function(e){var t=this;return o.from(this.appsApi.getAppDefinitions()).pipe(s.map((function(t){return t.data.find((function(t){return t.id===e}))})),s.catchError((function(e){return t.handleError(e)})))},e.prototype.handleError=function(e){return this.logService.error(e),o.throwError(e||"Server error")},e}();Dl.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Dl(t.ɵɵinject(Ce),t.ɵɵinject(Ae))},token:Dl,providedIn:"root"}),Dl.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Dl.ctorParameters=function(){return[{type:Ce},{type:Ae}]};var Pl=function(){function e(e,t,n){var i=this;this.titleService=e,this.appConfig=t,this.translationService=n,this.originalTitle="",this.translatedTitle="",n.translate.onLangChange.subscribe((function(){return i.onLanguageChanged()})),n.translate.onTranslationChange.subscribe((function(){return i.onLanguageChanged()}))}return e.prototype.setTitle=function(e){void 0===e&&(e=""),this.originalTitle=e,this.translatedTitle=this.translationService.instant(e),this.updateTitle()},e.prototype.onLanguageChanged=function(){this.translatedTitle=this.translationService.instant(this.originalTitle),this.updateTitle()},e.prototype.updateTitle=function(){var e=this.appConfig.get("application.name")||"Alfresco ADF Application",t=this.translatedTitle?this.translatedTitle+" - "+e:""+e;this.titleService.setTitle(t)},e}();Pl.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Pl(t.ɵɵinject(H.Title),t.ɵɵinject(Ie),t.ɵɵinject(Ze))},token:Pl,providedIn:"root"}),Pl.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Pl.ctorParameters=function(){return[{type:H.Title},{type:Ie},{type:Ze}]};var _l=function(){function e(e){this.apiService=e}return Object.defineProperty(e.prototype,"renditionsApi",{get:function(){var e;return this._renditionsApi=null!==(e=this._renditionsApi)&&void 0!==e?e:new r.RenditionsApi(this.apiService.getInstance()),this._renditionsApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contentApi",{get:function(){var e;return this._contentApi=null!==(e=this._contentApi)&&void 0!==e?e:new r.ContentApi(this.apiService.getInstance()),this._contentApi},enumerable:!1,configurable:!0}),e.prototype.getAvailableRenditionForNode=function(e){return o.from(this.renditionsApi.listRenditions(e)).pipe(s.map((function(e){var t=e.list.entries.filter((function(e){return"pdf"===e.entry.id||"imgpreview"===e.entry.id})),n=t.find((function(e){return"CREATED"===e.entry.status}));return n||t[0]})))},e.prototype.generateRenditionForNode=function(e){var t=this;return this.getAvailableRenditionForNode(e).pipe(s.map((function(n){return"CREATED"!==n.entry.status?o.from(t.renditionsApi.createRendition(e,{id:n.entry.id})):o.empty()})))},e.prototype.isRenditionAvailable=function(e,t){var n=this;return new o.Observable((function(i){n.getRendition(e,t).subscribe((function(e){var t=!0;"NOT_CREATED"===e.entry.status.toString()&&(t=!1),i.next(t),i.complete()}),(function(){i.next(!1),i.complete()}))}))},e.prototype.isConversionPossible=function(e,t){var n=this;return new o.Observable((function(i){n.getRendition(e,t).subscribe((function(){i.next(!0),i.complete()}),(function(){i.next(!1),i.complete()}))}))},e.prototype.getRenditionUrl=function(e,t){return this.contentApi.getRenditionUrl(e,t)},e.prototype.getRendition=function(e,t){return o.from(this.renditionsApi.getRendition(e,t))},e.prototype.getRenditionsListByNodeId=function(e){return o.from(this.renditionsApi.listRenditions(e))},e.prototype.createRendition=function(e,t){return o.from(this.renditionsApi.createRendition(e,{id:t}))},e.prototype.convert=function(e,t,n,i){var a=this;return void 0===n&&(n=1e3),void 0===i&&(i=5),this.createRendition(e,t).pipe(s.concatMap((function(){return a.pollRendition(e,t,n,i)})))},e.prototype.pollRendition=function(e,t,n,i){var a=this;void 0===n&&(n=1e3),void 0===i&&(i=5);var r=0;return o.interval(n).pipe(s.switchMap((function(){return a.getRendition(e,t)})),s.takeWhile((function(e){return!((r+=1)>i)&&"CREATED"!==e.entry.status.toString()})))},e}();_l.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new _l(t.ɵɵinject(Ce))},token:_l,providedIn:"root"}),_l.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],_l.ctorParameters=function(){return[{type:Ce}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ll=function(e){this.name=e&&e.name,this.path=e&&e.path,this.json=e&&e.json||[]},Fl=function(){function e(e){this.http=e,this.prefix="i18n",this.suffix=".json",this.providers=[],this.queue=[],this.defaultLang="en"}return e.prototype.setDefaultLang=function(e){this.defaultLang=e||"en"},e.prototype.registerProvider=function(e,t){var n=this.providers.find((function(t){return t.name===e}));n?n.path=t:this.providers.push(new Ll({name:e,path:t}))},e.prototype.providerRegistered=function(e){return!!this.providers.find((function(t){return t.name===e}))},e.prototype.fetchLanguageFile=function(e,t,n){var i=this,a=n||t.path+"/"+this.prefix+"/"+e+this.suffix+"?v="+Date.now();return this.http.get(a).pipe(s.map((function(n){t.json[e]=n})),s.retry(3),s.catchError((function(){if(!n&&e.includes("-")){var r=se(e.split("-"),1)[0];if(r&&r!==i.defaultLang){var l=t.path+"/"+i.prefix+"/"+r+i.suffix+"?v="+Date.now();return i.fetchLanguageFile(e,t,l)}}return o.throwError("Failed to load "+a)})))},e.prototype.getComponentToFetch=function(e){var t=this,n=[];return this.queue[e]||(this.queue[e]=[]),this.providers.forEach((function(i){t.isComponentInQueue(e,i.name)||(t.queue[e].push(i.name),n.push(t.fetchLanguageFile(e,i)))})),n},e.prototype.init=function(e){void 0===this.queue[e]&&(this.queue[e]=[])},e.prototype.isComponentInQueue=function(e,t){return!!(this.queue[e]||[]).find((function(e){return e===t}))},e.prototype.getFullTranslationJSON=function(e){var t={};return this.providers.slice(0).sort((function(e,t){return"app"===e.name?1:"app"===t.name?-1:e.name.localeCompare(t.name)})).forEach((function(n){n.json&&n.json[e]&&(t=ne.merge(t,n.json[e]))})),t},e.prototype.getTranslation=function(e){var t=this,n=!1,i=de(this.getComponentToFetch(e).map((function(e){return e.pipe(s.catchError((function(e){return n=!0,o.of(e)})))})));return new o.Observable((function(a){if(i.length>0)o.forkJoin(i).subscribe((function(){var i=t.getFullTranslationJSON(e);i&&a.next(i),n?a.error("Failed to load some resources"):a.complete()}),(function(){a.error("Failed to load some resources")}));else{var r=t.getFullTranslationJSON(e);r&&(a.next(r),a.complete())}}))},e}();Fl.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Fl(t.ɵɵinject(l.HttpClient))},token:Fl,providedIn:"root"}),Fl.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Fl.ctorParameters=function(){return[{type:l.HttpClient}]};var kl=function(){function e(e,t){this.apiService=e,this.preferences=t}return Object.defineProperty(e.prototype,"nodesApi",{get:function(){var e;return this._nodesApi=null!==(e=this._nodesApi)&&void 0!==e?e:new r.NodesApi(this.apiService.getInstance()),this._nodesApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trashcanApi",{get:function(){var e;return this._trashcanApi=null!==(e=this._trashcanApi)&&void 0!==e?e:new r.TrashcanApi(this.apiService.getInstance()),this._trashcanApi},enumerable:!1,configurable:!0}),e.prototype.getDeletedNodes=function(e){var t={include:["path","properties"],maxItems:this.preferences.paginationSize,skipCount:0},n=Object.assign(t,e),i=this.trashcanApi.listDeletedNodes(n);return o.from(i).pipe(s.catchError((function(e){return o.of(e)})))},e}();kl.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new kl(t.ɵɵinject(Ce),t.ɵɵinject(Je))},token:kl,providedIn:"root"}),kl.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],kl.ctorParameters=function(){return[{type:Ce},{type:Je}]};var Vl=function(){function e(e,t){this.apiService=e,this.preferences=t}return Object.defineProperty(e.prototype,"favoritesApi",{get:function(){var e;return this._favoritesApi=null!==(e=this._favoritesApi)&&void 0!==e?e:new r.FavoritesApi(this.apiService.getInstance()),this._favoritesApi},enumerable:!1,configurable:!0}),e.remapEntry=function(e){var t=e.entry;return t.properties={"cm:title":t.title,"cm:description":t.description},{entry:t}},e.prototype.remapFavoritesData=function(e){var t,n;void 0===e&&(e={});var i=(null===(t=null==e?void 0:e.list)||void 0===t?void 0:t.pagination)||{};return{list:{entries:this.remapFavoriteEntries((null===(n=null==e?void 0:e.list)||void 0===n?void 0:n.entries)||[]),pagination:i}}},e.prototype.remapFavoriteEntries=function(t){return t.map((function(e){var t=e.entry.target;return{entry:t.file||t.folder}})).filter((function(e){return!!e.entry})).map(e.remapEntry)},e.prototype.getFavorites=function(e,t){var n={maxItems:this.preferences.paginationSize,skipCount:0,where:"(EXISTS(target/file) OR EXISTS(target/folder))",include:["properties","allowableOperations"]},i=Object.assign(n,t),a=this.favoritesApi.listFavorites(e,i).then(this.remapFavoritesData);return o.from(a).pipe(s.catchError((function(e){return o.of(e)})))},e}();Vl.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Vl(t.ɵɵinject(Ce),t.ɵɵinject(Je))},token:Vl,providedIn:"root"}),Vl.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Vl.ctorParameters=function(){return[{type:Ce},{type:Je}]};var Nl=function(){function e(){}return e.prototype.generateQueryBody=function(e,t,n){return{query:{query:e?"'"+e+"*' OR name:'"+e+"*'":e},include:["path","allowableOperations"],paging:{maxItems:t,skipCount:n},filterQueries:[{query:"TYPE:'cm:folder' OR TYPE:'cm:content'"},{query:"NOT cm:creator:System"}]}},e}();Nl.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Nl},token:Nl,providedIn:"root"}),Nl.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Nl.ctorParameters=function(){return[]};var Ml=function(){function e(e,t){this.apiService=e,this.searchConfigurationService=t,this.dataLoaded=new o.Subject}return Object.defineProperty(e.prototype,"queriesApi",{get:function(){var e;return this._queriesApi=null!==(e=this._queriesApi)&&void 0!==e?e:new r.QueriesApi(this.apiService.getInstance()),this._queriesApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"searchApi",{get:function(){var e;return this._searchApi=null!==(e=this._searchApi)&&void 0!==e?e:new r.SearchApi(this.apiService.getInstance()),this._searchApi},enumerable:!1,configurable:!0}),e.prototype.getNodeQueryResults=function(e,t){var n=this,i=this.queriesApi.findNodes(e,t);return i.then((function(e){n.dataLoaded.next(e)})).catch((function(e){return n.handleError(e)})),o.from(i)},e.prototype.search=function(e,t,n){var i=this,a=Object.assign(this.searchConfigurationService.generateQueryBody(e,t,n)),r=this.searchApi.search(a);return r.then((function(e){i.dataLoaded.next(e)})).catch((function(e){return i.handleError(e)})),o.from(r)},e.prototype.searchByQueryBody=function(e){var t=this,n=this.searchApi.search(e);return n.then((function(e){t.dataLoaded.next(e)})).catch((function(e){return t.handleError(e)})),o.from(n)},e.prototype.handleError=function(e){return o.throwError(e||"Server error")},e}();Ml.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Ml(t.ɵɵinject(Ce),t.ɵɵinject(Nl))},token:Ml,providedIn:"root"}),Ml.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Ml.ctorParameters=function(){return[{type:Ce},{type:Nl}]};var Ul=function(){function e(e,t){this.apiService=e,this.preferences=t,this.error=new o.Subject}return Object.defineProperty(e.prototype,"sharedLinksApi",{get:function(){var e;return this._sharedLinksApi=null!==(e=this._sharedLinksApi)&&void 0!==e?e:new r.SharedlinksApi(this.apiService.getInstance()),this._sharedLinksApi},enumerable:!1,configurable:!0}),e.prototype.getSharedLinks=function(e){void 0===e&&(e={});var t={maxItems:this.preferences.paginationSize,skipCount:0,include:["properties","allowableOperations"]},n=Object.assign({},t,e),i=this.sharedLinksApi.listSharedLinks(n);return o.from(i).pipe(s.catchError((function(e){return o.of(e)})))},e.prototype.createSharedLinks=function(e,t){void 0===t&&(t={});var n=this.sharedLinksApi.createSharedLink({nodeId:e},t);return o.from(n).pipe(s.catchError((function(e){return o.of(e)})))},e.prototype.deleteSharedLink=function(e){var t=this.sharedLinksApi.deleteSharedLink(e);return o.from(t).pipe(s.catchError((function(e){return o.of(e)})))},e}();Ul.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Ul(t.ɵɵinject(Ce),t.ɵɵinject(Je))},token:Ul,providedIn:"root"}),Ul.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Ul.ctorParameters=function(){return[{type:Ce},{type:Je}]};var jl=function(){function e(e){this.dialog=e}return e.prototype.openLogin=function(e,t){var n=new o.Subject;n.subscribe({complete:this.close.bind(this)});var i={title:t,actionName:e,logged:n};return this.openLoginDialog(i,"adf-login-dialog","630px"),n},e.prototype.openLoginDialog=function(e,t,n){this.dialog.open(Yi,{data:e,panelClass:t,width:n})},e.prototype.close=function(){this.dialog.closeAll()},e}();jl.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new jl(t.ɵɵinject(b.MatDialog))},token:jl,providedIn:"root"}),jl.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],jl.ctorParameters=function(){return[{type:b.MatDialog}]};var Bl=function(){function e(){this.nodeUpdated=new o.Subject,this.alfrescoApiInitialized=new o.ReplaySubject(1)}return e.prototype.getInstance=function(){return this.alfrescoApi},Object.defineProperty(e.prototype,"contentApi",{get:function(){return this.getInstance().content},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nodesApi",{get:function(){var e;return this._nodesApi=null!==(e=this._nodesApi)&&void 0!==e?e:new r.NodesApi(this.getInstance()),this._nodesApi},enumerable:!1,configurable:!0}),e.prototype.init=function(e,t){var n={provider:"ECM",hostEcm:e,authType:"BASIC",contextRoot:t,domainPrefix:this.createPrefixFromHost(e)};this.initAlfrescoApi(n),this.alfrescoApiInitialized.next(!0)},e.prototype.initAlfrescoApi=function(e){this.alfrescoApi?this.alfrescoApi.configureJsApi(e):this.alfrescoApi=new r.AlfrescoApiCompatibility(e)},e.prototype.createPrefixFromHost=function(e){var t=e.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i),n=null;return null!=t&&t.length>2&&"string"==typeof t[2]&&t[2].length>0&&(n=t[2]),n},e}();Bl.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Bl},token:Bl,providedIn:"root"}),Bl.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}];var zl=function(){function e(e){this.alfrescoApiService=e}return e.prototype.isLocked=function(e){var t=!1;return this.hasLockConfigured(e)&&(this.isReadOnlyLock(e)?t=!this.isLockExpired(e):this.isLockOwnerAllowed(e)&&(t=this.alfrescoApiService.getInstance().getEcmUsername()!==e.properties["cm:lockOwner"].id,this.isLockExpired(e)&&(t=!1))),t},e.prototype.hasLockConfigured=function(e){return e.isFile&&e.isLocked&&e.properties["cm:lockType"]},e.prototype.isReadOnlyLock=function(e){return"READ_ONLY_LOCK"===e.properties["cm:lockType"]&&"PERSISTENT"===e.properties["cm:lockLifetime"]},e.prototype.isLockOwnerAllowed=function(e){return"WRITE_LOCK"===e.properties["cm:lockType"]&&"PERSISTENT"===e.properties["cm:lockLifetime"]},e.prototype.getLockExpiryTime=function(e){if(e.properties["cm:expiryDate"])return a(e.properties["cm:expiryDate"],"yyyy-MM-ddThh:mm:ssZ")},e.prototype.isLockExpired=function(e){var t=this.getLockExpiryTime(e);return!!t&&a().isAfter(t)},e}();zl.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new zl(t.ɵɵinject(Ce))},token:zl,providedIn:"root"}),zl.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],zl.ctorParameters=function(){return[{type:Ce}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var $l=function(){function e(){this.easyForm={formRepresentation:{id:1001,name:"ISSUE_FORM",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1498212398417",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!1,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,sizeX:2,sizeY:1,row:-1,col:-1,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"label",name:"Label",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"test1"},{id:"option_2",name:"test2"},{id:"option_3",name:"test3"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null},{fieldType:"FormFieldRepresentation",id:"Date",name:"Date",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label5",name:"Label5",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label6",name:"Label6",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label4",name:"Label4",type:"integer",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"RestFieldRepresentation",id:"label12",name:"Label12",type:"radio-buttons",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:[{id:"option_1",name:"Option 1"},{id:"option_2",name:"Option 2"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[{id:"bfca9766-7bc1-45cc-8ecf-cdad551e36e2",name:"name1",type:"string",value:""},{id:"3ed9f28a-dbae-463f-b991-47ef06658bb6",name:"name2",type:"string",value:""},{id:"a7710978-1e9c-4b54-a19c-c6267d2b19a2",name:"input02",type:"integer"}],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"}},this.formDefinition={formRepresentation:{id:3003,name:"demo-01",taskId:"7501",taskName:"Demo Form 01",tabs:[{id:"tab1",title:"Text",visibilityCondition:null},{id:"tab2",title:"Misc",visibilityCondition:null}],fields:[{fieldType:"ContainerRepresentation",id:"1488274019966",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[],2:[]}},{fieldType:"ContainerRepresentation",id:"section4",name:"Section 4",type:"group",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:2},sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label8",name:"Label8",type:"people",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label13",name:"Label13",type:"functional-group",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label18",name:"Label18",type:"readonly",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label19",name:"Label19",type:"readonly-text",value:"Display text as part of the form",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"HyperlinkRepresentation",id:"label15",name:"Label15",type:"hyperlink",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,hyperlinkUrl:"www.google.com",displayText:null},{fieldType:"AttachFileFieldRepresentation",id:"label16",name:"Label16",type:"upload",value:[],required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:1,fileSource:{serviceId:"all-file-sources",name:"All file sources"}},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,metaDataColumnDefinitions:null},{fieldType:"FormFieldRepresentation",id:"label17",name:"Label17",type:"select-folder",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:1,folderSource:{serviceId:"alfresco-1",name:"Alfresco 5.2 Local",metaDataAllowed:!0}},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"DynamicTableRepresentation",id:"label14",name:"Label14",type:"dynamic-table",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:2},sizeX:2,sizeY:2,row:-1,col:-1,visibilityCondition:null,columnDefinitions:[{id:"id",name:"id",type:"String",value:null,optionType:null,options:null,restResponsePath:null,restUrl:null,restIdProperty:null,restLabelProperty:null,amountCurrency:null,amountEnableFractions:!1,required:!0,editable:!0,sortable:!0,visible:!0,endpoint:null,requestHeaders:null},{id:"name",name:"name",type:"String",value:null,optionType:null,options:null,restResponsePath:null,restUrl:null,restIdProperty:null,restLabelProperty:null,amountCurrency:null,amountEnableFractions:!1,required:!0,editable:!0,sortable:!0,visible:!0,endpoint:null,requestHeaders:null}]},{fieldType:"ContainerRepresentation",id:"section1",name:"Section 1",type:"group",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:2},sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label1",name:"Label1",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label3",name:"Label3",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label2",name:"Label2",type:"multi-line-text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:2,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:"section2",name:"Section 2",type:"group",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:2},sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label4",name:"Label4",type:"integer",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label7",name:"Label7",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label5",name:"Label5",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label6",name:"Label6",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"AmountFieldRepresentation",id:"label11",name:"Label11",type:"amount",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:"10",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,enableFractions:!1,currency:null}]}},{fieldType:"ContainerRepresentation",id:"section3",name:"Section 3",type:"group",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:2},sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"label9",name:"Label9",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null},{fieldType:"RestFieldRepresentation",id:"label12",name:"Label12",type:"radio-buttons",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:[{id:"option_1",name:"Option 1"},{id:"option_2",name:"Option 2"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"RestFieldRepresentation",id:"label10",name:"Label10",type:"typeahead",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[{id:"bfca9766-7bc1-45cc-8ecf-cdad551e36e2",name:"name1",type:"string",value:""},{id:"3ed9f28a-dbae-463f-b991-47ef06658bb6",name:"name2",type:"string",value:""},{id:"a7710978-1e9c-4b54-a19c-c6267d2b19a2",name:"input02",type:"integer"}],gridsterForm:!1,globalDateFormat:"D-M-YYYY"}},this.simpleFormDefinition={formRepresentation:{id:1001,name:"SIMPLE_FORM_EXAMPLE",description:"",version:1,lastUpdatedBy:2,lastUpdatedByFullName:"Test01 01Test",lastUpdated:"2018-02-26T17:44:04.543+0000",stencilSetId:0,referenceId:null,taskId:"9999",formDefinition:{tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1519666726245",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"typeaheadField",name:"TypeaheadField",type:"typeahead",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:"https://jsonplaceholder.typicode.com/users",restResponsePath:null,restIdProperty:"id",restLabelProperty:"name",tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"RestFieldRepresentation",id:"radioButton",name:"RadioButtons",type:"radio-buttons",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:[{id:"option_1",name:"Option 1"},{id:"option_2",name:"Option 2"},{id:"option_3",name:"Option 3"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:2,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}]}},{fieldType:"ContainerRepresentation",id:"1519666735185",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"selectBox",name:"SelectBox",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:"manual",hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"1"},{id:"option_2",name:"2"},{id:"option_3",name:"3"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[{id:"bfca9766-7bc1-45cc-8ecf-cdad551e36e2",name:"name1",type:"string",value:""},{id:"3ed9f28a-dbae-463f-b991-47ef06658bb6",name:"name2",type:"string",value:""},{id:"a7710978-1e9c-4b54-a19c-c6267d2b19a2",name:"input02",type:"integer"}],customFieldsValueInfo:{},gridsterForm:!1}}},this.cloudFormDefinition={formRepresentation:{id:"text-form",name:"test-start-form",version:0,description:"",formDefinition:{tabs:[],fields:[{id:"1511517333638",type:"container",fieldType:"ContainerRepresentation",name:"Label",tab:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"texttest",name:"texttest",type:"text",value:null,required:!1,placeholder:"text",params:{existingColspan:2,maxColspan:6,inputMaskReversed:!0,inputMask:"0#",inputMaskPlaceholder:"(0-9)"}}],2:[{fieldType:"AttachFileFieldRepresentation",id:"attachfiletest",name:"attachfiletest",type:"upload",required:!0,colspan:2,placeholder:"attachfile",params:{existingColspan:2,maxColspan:2,fileSource:{serviceId:"local-file",name:"Local File"},multiple:!0,link:!1},visibilityCondition:{}}]}}],outcomes:[],metadata:{property1:"value1",property2:"value2"},variables:[{name:"variable1",type:"string",value:"value1"},{name:"variable2",type:"string",value:"value2"}]}}}}return e.prototype.getEasyForm=function(){return this.easyForm},e.prototype.getFormDefinition=function(){return this.formDefinition},e.prototype.getSimpleFormDefinition=function(){return this.simpleFormDefinition},e.prototype.getFormCloudDefinition=function(){return this.cloudFormDefinition},e}(),Hl=function(){function e(e,t,n,i){this.appConfigService=e,this.alfrescoApiService=t,this.userPreferencesService=n,this.storageService=i,this.forms=new $l}return e.prototype.setup=function(){var e=this,t=window.adf||{};t.getConfigField=function(t){return e.appConfigService.get(t)},t.setConfigField=function(t,n){e.appConfigService.config[t]=JSON.parse(n)},t.setStorageItem=function(t,n){e.storageService.setItem(t,n)},t.removeStorageItem=function(t){e.storageService.removeItem(t)},t.getStorageItem=function(t){return e.storageService.getItem(t)},t.setUserPreference=function(t,n){e.userPreferencesService.set(t,n)},t.setFormInEditor=function(t){e.forms.formDefinition=JSON.parse(t)},t.setCloudFormInEditor=function(t){e.forms.cloudFormDefinition=JSON.parse(t)},t.clearStorage=function(){e.storageService.clear()},t.apiReset=function(){e.alfrescoApiService.reset()},window.adf=t},e}();Hl.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Hl(t.ɵɵinject(Ie),t.ɵɵinject(Ce),t.ɵɵinject(Je),t.ɵɵinject(Ee))},token:Hl,providedIn:"root"}),Hl.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Hl.ctorParameters=function(){return[{type:Ie},{type:Ce},{type:Je},{type:Ee}]};var ql=function(){function e(e,t){this.oAuth2Service=e,this.appConfigService=t}return Object.defineProperty(e.prototype,"identityHost",{get:function(){return""+this.appConfigService.get("identityHost")},enumerable:!1,configurable:!0}),e.prototype.getGroups=function(){var e=this.identityHost+"/groups";return this.oAuth2Service.get({url:e})},e.prototype.getAvailableRoles=function(e){var t=this.identityHost+"/groups/"+e+"/role-mappings/realm/available";return this.oAuth2Service.get({url:t})},e.prototype.getAssignedRoles=function(e){var t=this.identityHost+"/groups/"+e+"/role-mappings/realm";return this.oAuth2Service.get({url:t})},e.prototype.assignRoles=function(e,t){var n=this.identityHost+"/groups/"+e+"/role-mappings/realm",i=JSON.stringify(t);return this.oAuth2Service.post({url:n,bodyParam:i})},e.prototype.removeRoles=function(e,t){var n=this.identityHost+"/groups/"+e+"/role-mappings/realm",i=JSON.stringify(t);return this.oAuth2Service.delete({url:n,bodyParam:i})},e.prototype.getEffectiveRoles=function(e){var t=this.identityHost+"/groups/"+e+"/role-mappings/realm/composite";return this.oAuth2Service.get({url:t})},e.prototype.queryGroups=function(e){var t=this,n=this.identityHost+"/groups",i={first:e.first||0,max:e.max||5};return this.getTotalGroupsCount().pipe(s.switchMap((function(a){return t.oAuth2Service.get({url:n,queryParams:i}).pipe(s.map((function(t){return{entries:t,pagination:{skipCount:e.first,maxItems:e.max,count:a.count,hasMoreItems:!1,totalItems:a.count}}})))})))},e.prototype.getTotalGroupsCount=function(){var e=this.identityHost+"/groups/count";return this.oAuth2Service.get({url:e})},e.prototype.createGroup=function(e){var t=this.identityHost+"/groups",n=e;return this.oAuth2Service.post({url:t,bodyParam:n})},e.prototype.updateGroup=function(e,t){var n=this.identityHost+"/groups/"+e,i=JSON.stringify(t);return this.oAuth2Service.put({url:n,bodyParam:i})},e.prototype.deleteGroup=function(e){var t=this.identityHost+"/groups/"+e;return this.oAuth2Service.delete({url:t})},e.prototype.findGroupsByName=function(e){if(""===e.name)return o.of([]);var t=this.identityHost+"/groups",n={search:e.name};return this.oAuth2Service.get({url:t,queryParams:n})},e.prototype.getGroupRoles=function(e){var t=this.buildRolesUrl(e);return this.oAuth2Service.get({url:t})},e.prototype.checkGroupHasRole=function(e,t){return this.getGroupRoles(e).pipe(s.map((function(e){var n=!1;return e&&e.length>0&&t.forEach((function(t){e.find((function(e){var n=e.name;return t===n}))&&(n=!0)})),n})))},e.prototype.getClientIdByApplicationName=function(e){var t=this.identityHost+"/clients",n={clientId:e};return this.oAuth2Service.get({url:t,queryParams:n}).pipe(s.map((function(e){return e&&e.length>0?e[0].id:""})))},e.prototype.getClientRoles=function(e,t){var n=this.identityHost+"/groups/"+e+"/role-mappings/clients/"+t;return this.oAuth2Service.get({url:n})},e.prototype.checkGroupHasClientApp=function(e,t){return this.getClientRoles(e,t).pipe(s.map((function(e){return e&&e.length>0})))},e.prototype.checkGroupHasAnyClientAppRole=function(e,t,n){return this.getClientRoles(e,t).pipe(s.map((function(e){var t=!1;return e.length>0&&n.forEach((function(n){e.find((function(e){return e.name===n}))&&(t=!0)})),t})))},e.prototype.buildRolesUrl=function(e){return this.identityHost+"/groups/"+e+"/role-mappings/realm/composite"},e}();ql.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new ql(t.ɵɵinject(Di),t.ɵɵinject(Ie))},token:ql,providedIn:"root"}),ql.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],ql.ctorParameters=function(){return[{type:Di},{type:Ie}]};var Yl=function(){function e(e,t,n){this.http=e,this.appConfig=t,this.logService=n,this.contextRoot="",this.identityHost="",this.contextRoot=this.appConfig.get("apiHost",""),this.identityHost=this.appConfig.get("identityHost")}return e.prototype.getRoles=function(e,t){var n=this;return void 0===e&&(e=0),void 0===t&&(t=5),this.http.get(this.identityHost+"/roles").pipe(s.map((function(i){return n.preparePaginationWithRoles(i,e,t)})),s.catchError((function(e){return n.handleError(e)})))},e.prototype.preparePaginationWithRoles=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=5),{entries:e.slice(t,t+n),pagination:{skipCount:t,maxItems:n,count:e.length,hasMoreItems:!1,totalItems:e.length}}},e.prototype.addRole=function(e){var t=this;if(e){var n=e;return this.http.post(this.identityHost+"/roles",n).pipe(s.catchError((function(e){return t.handleError(e)})))}return o.of()},e.prototype.deleteRole=function(e){var t=this;return this.http.delete(this.identityHost+"/roles-by-id/"+e.id).pipe(s.catchError((function(e){return t.handleError(e)})))},e.prototype.updateRole=function(e,t){var n=this;if(e&&t){var i=e;return this.http.put(this.identityHost+"/roles-by-id/"+t,i).pipe(s.catchError((function(e){return n.handleError(e)})))}return o.of()},e.prototype.handleError=function(e){return this.logService.error(e),o.throwError(e||"Server error")},e}();Yl.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Yl(t.ɵɵinject(l.HttpClient),t.ɵɵinject(Ie),t.ɵɵinject(Ae))},token:Yl,providedIn:"root"}),Yl.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Yl.ctorParameters=function(){return[{type:l.HttpClient},{type:Ie},{type:Ae}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Gl=function(){function e(e){this.injector=e}return e.prototype.loadExcludedUrlsRegex=function(){var e=this.authService.getBearerExcludedUrls();this.excludedUrlsRegex=e.map((function(e){return new RegExp(e,"gi")}))||[]},e.prototype.intercept=function(e,t){var n=this;if(this.authService=this.injector.get(De),!this.authService||!this.authService.getBearerExcludedUrls())return t.handle(e);this.excludedUrlsRegex||this.loadExcludedUrlsRegex();var i=e.url;return!!this.excludedUrlsRegex.find((function(e){return e.test(i)}))?t.handle(e).pipe(s.catchError((function(e){return o.throwError(e)}))):this.authService.addTokenToHeader(e.headers).pipe(s.mergeMap((function(i){var a=n.appendJsonContentType(i),r=e.clone({headers:a});return t.handle(r).pipe(s.catchError((function(e){return o.throwError(e)})))})))},e.prototype.appendJsonContentType=function(e){return e.set("Content-Type","application/json;charset=UTF-8")},e}();Gl.decorators=[{type:t.Injectable}],Gl.ctorParameters=function(){return[{type:t.Injector}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Wl=function(){};Wl.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,u.TranslateModule,yt],declarations:[Ft],exports:[Ft]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Xl=function(){function t(e,t,n){this.notificationService=e,this.storageService=t,this.cd=n,this.menuPositionX="after",this.menuPositionY="below",this.maxNotifications=5,this.onDestroy$=new o.Subject,this.notifications=[],this.paginatedNotifications=[]}return t.prototype.ngOnInit=function(){this.notifications=JSON.parse(this.storageService.getItem(t.NOTIFICATION_STORAGE))||[]},t.prototype.ngAfterViewInit=function(){var e=this;this.notificationService.notifications$.pipe(s.takeUntil(this.onDestroy$)).subscribe((function(t){e.addNewNotification(t),e.cd.detectChanges()}))},t.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},t.prototype.addNewNotification=function(e){this.notifications.unshift(e),this.notifications.length>t.MAX_NOTIFICATION_STACK_LENGTH&&this.notifications.shift(),this.saveNotifications(),this.createPagination()},t.prototype.saveNotifications=function(){this.storageService.setItem(t.NOTIFICATION_STORAGE,JSON.stringify(this.notifications.filter((function(t){return t.type!==e.NOTIFICATION_TYPE.RECURSIVE}))))},t.prototype.onMenuOpened=function(){this.createPagination()},t.prototype.onKeyPress=function(e){this.closeUserModal(e)},t.prototype.closeUserModal=function(e){27===e.keyCode&&this.trigger.closeMenu()},t.prototype.markAsRead=function(){this.notifications=[],this.paginatedNotifications=[],this.storageService.removeItem(t.NOTIFICATION_STORAGE),this.createPagination(),this.trigger.closeMenu()},t.prototype.createPagination=function(){this.pagination={skipCount:this.maxNotifications,maxItems:this.maxNotifications,totalItems:this.notifications.length,hasMoreItems:this.notifications.length>this.maxNotifications},this.paginatedNotifications=this.notifications.slice(0,this.pagination.skipCount)},t.prototype.loadMore=function(){this.pagination.skipCount=this.pagination.maxItems+this.pagination.skipCount,this.pagination.hasMoreItems=this.notifications.length>this.pagination.skipCount,this.paginatedNotifications=this.notifications.slice(0,this.pagination.skipCount)},t.prototype.hasMoreNotifications=function(){var e;return null===(e=this.pagination)||void 0===e?void 0:e.hasMoreItems},t.prototype.onNotificationClick=function(e){e.clickCallBack&&(e.clickCallBack(e.args),this.trigger.closeMenu())},t}();Xl.MAX_NOTIFICATION_STACK_LENGTH=100,Xl.NOTIFICATION_STORAGE="notification-history",Xl.decorators=[{type:t.Component,args:[{selector:"adf-notification-history",template:'<div (keyup)="onKeyPress($event)">\n    <button mat-button\n            [matMenuTriggerFor]="menu"\n            class="adf-notification-history-menu_button"\n            id="adf-notification-history-open-button"\n            (menuOpened)="onMenuOpened()">\n        <mat-icon matBadge="&#8288;"\n                  [matBadgeHidden]="!notifications.length"\n                  matBadgeColor="accent"\n                  matBadgeSize="small">notifications</mat-icon>\n    </button>\n    <mat-menu #menu="matMenu"\n              [xPosition]="menuPositionX"\n              [yPosition]="menuPositionY"\n              id="adf-notification-history-menu"\n              class="adf-notification-history-menu">\n\n        <div class="adf-notification-history-list"\n             (click)="$event.stopPropagation()">\n            <div mat-subheader>\n                <span>{{ \'NOTIFICATIONS.TITLE\' | translate }}</span>\n                <button (click)="markAsRead()"\n                        id="adf-notification-history-mark-as-read"\n                        mat-button\n                        color="accent"\n                        *ngIf="notifications.length">\n                    {{ \'NOTIFICATIONS.MARK_AS_READ\' | translate }}\n                </button>\n            </div>\n\n            <mat-divider></mat-divider>\n\n            <mat-list>\n                <ng-container *ngIf="notifications.length; else empty_list_template">\n                    <mat-list-item *ngFor="let notification of paginatedNotifications"\n                                   class="adf-notification-history-menu-item"\n                                   (click)="onNotificationClick(notification)">\n                        <div *ngIf="notification.initiator; else no_avatar"\n                             matListAvatar\n                             [outerHTML]="notification.initiator | usernameInitials:\'adf-notification-initiator-pic\'">\n                        </div>\n                        <ng-template #no_avatar>\n                            <mat-icon mat-list-icon\n                                      class="adf-notification-history-menu-initiator">{{ notification | notificationIcon\n                                }}</mat-icon>\n                        </ng-template>\n                        <p class="adf-notification-history-menu-message"\n                           *ngFor="let message of notification.messages"\n                           mat-line [matTooltip]="message" matTooltipShowDelay="1000">{{ message }}</p>\n                        <p class="adf-notification-history-menu-date"\n                           mat-line> {{notification.datetime | adfTimeAgo}} </p>\n                    </mat-list-item>\n                </ng-container>\n                <ng-template #empty_list_template>\n                    <mat-list-item id="adf-notification-history-component-no-message"\n                                   class="adf-notification-history-menu-no-message">\n                        <h4 mat-line>{{ \'NOTIFICATIONS.NO_MESSAGE\' | translate }}</h4>\n                    </mat-list-item>\n                </ng-template>\n            </mat-list>\n\n            <mat-divider></mat-divider>\n\n            <div class="adf-notification-history-load-more"\n                 *ngIf="hasMoreNotifications()">\n                <button mat-button\n                        (click)="loadMore()">\n                    {{ \'NOTIFICATIONS.LOAD_MORE\' | translate }}\n                </button>\n            </div>\n        </div>\n    </mat-menu>\n</div>\n',encapsulation:t.ViewEncapsulation.None,styles:[".adf-notification-history-menu_button.mat-button{border-radius:90%;height:40px;margin-right:0;min-width:40px;padding:0}.adf-notification-history-list .mat-subheader{justify-content:space-between}.adf-notification-history-menu-item{cursor:pointer}.adf-notification-history-menu-item:focus{background:var(--theme-bg-hover-color);outline:none}.adf-notification-history-menu-item:hover{background-color:var(--theme-bg-hover-color)}.adf-notification-history-menu-message,.adf-notification-history-menu-no-message{font-size:13px!important}.adf-notification-history-menu-date{font-size:12px!important}.adf-notification-history-menu-initiator{margin:4px}.adf-notification-initiator-pic{background:var(--theme-accent-color);border-radius:100px;color:var(--theme-colors-mat-grey);display:inline-block;font-size:18px;font-weight:bolder;height:40px;line-height:40px;min-width:40px;text-align:center;text-transform:uppercase;vertical-align:middle}.adf-notification-history-load-more{display:flex;justify-content:center;padding:10px}.mat-menu-panel.adf-notification-history-menu{max-height:500px;min-width:320px}.mat-menu-panel.adf-notification-history-menu .mat-menu-content{padding:0}"]}]}],Xl.ctorParameters=function(){return[{type:Nn},{type:Ee},{type:t.ChangeDetectorRef}]},Xl.propDecorators={trigger:[{type:t.ViewChild,args:[S.MatMenuTrigger,{static:!0}]}],menuPositionX:[{type:t.Input}],menuPositionY:[{type:t.Input}],maxNotifications:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Kl=function(){function t(){}return t.prototype.transform=function(t){if(t.icon)return t.icon;switch(t.type){case e.NOTIFICATION_TYPE.ERROR:return"error";case e.NOTIFICATION_TYPE.WARN:return"warning";default:return"info"}},t}();Kl.decorators=[{type:t.Pipe,args:[{name:"notificationIcon"}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Jl=function(){};Jl.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,Be,u.TranslateModule,yt,Mi],declarations:[Xl,Kl],exports:[Xl]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ql=B.trigger("transitionMessages",[B.state("active",B.style({"margin-left":"{{ margin-left }}px","margin-right":"{{ margin-right }}px",transform:"{{ transform }}"}),{params:{"margin-left":0,"margin-right":0,transform:"translateX(0%)"}}),B.state("inactive",B.style({"margin-left":"{{ margin-left }}px","margin-right":"{{ margin-right }}px",transform:"{{ transform }}"}),{params:{"margin-left":0,"margin-right":0,transform:"translateX(0%)"}}),B.state("no-animation",B.style({transform:"translateX(0%)",width:"100%"})),B.transition("active <=> inactive",B.animate("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))]),Zl=function(){function n(n){var i=this;this.userPreferencesService=n,this.autocomplete=!1,this.expandable=!0,this.inputType="text",this.liveSearchEnabled=!0,this.searchAutocomplete=!1,this.searchTerm="",this.debounceTime=0,this.collapseOnSubmit=!0,this.defaultState=e.SearchTextStateEnum.collapsed,this.collapseOnBlur=!0,this.showClearButton=!1,this.placeholder="",this.searchChange=new t.EventEmitter,this.submit=new t.EventEmitter,this.selectResult=new t.EventEmitter,this.reset=new t.EventEmitter,this.searchVisibility=new t.EventEmitter,this.animationStates={ltr:{active:{value:"active",params:{"margin-left":13}},inactive:{value:"inactive",params:{transform:"translateX(82%)"}}},rtl:{active:{value:"active",params:{"margin-right":13}},inactive:{value:"inactive",params:{transform:"translateX(-82%)"}}}},this.dir="ltr",this.onDestroy$=new o.Subject,this.toggleSearch=new o.Subject,this.valueChange=new o.Subject,this.toggleSearch.pipe(s.debounceTime(200),s.takeUntil(this.onDestroy$)).subscribe((function(){i.expandable&&(i.subscriptAnimationState=i.toggleAnimation(),"inactive"===i.subscriptAnimationState.value&&(i.searchTerm="",i.reset.emit(!0),document.activeElement.id===i.searchInput.nativeElement.id&&i.searchInput.nativeElement.blur()),i.emitVisibilitySearch())}))}return n.prototype.ngOnInit=function(){var e=this;this.userPreferencesService.select("textOrientation").pipe(s.takeUntil(this.onDestroy$)).subscribe((function(t){e.dir=t,e.subscriptAnimationState=e.getDefaultState(e.dir)})),this.subscriptAnimationState=this.getDefaultState(this.dir),this.setValueChangeHandler(),this.setupFocusEventHandlers()},n.prototype.applySearchFocus=function(e){"active"===e.toState&&this.isDefaultStateCollapsed()&&this.searchInput.nativeElement.focus()},n.prototype.getAutoComplete=function(){return this.autocomplete?"on":"off"},n.prototype.toggleAnimation=function(){return"ltr"===this.dir?"inactive"===this.subscriptAnimationState.value?{value:"active",params:{"margin-left":13}}:{value:"inactive",params:{transform:"translateX(82%)"}}:"inactive"===this.subscriptAnimationState.value?{value:"active",params:{"margin-right":13}}:{value:"inactive",params:{transform:"translateX(-82%)"}}},n.prototype.getDefaultState=function(e){return this.dir?this.getAnimationState(e):this.animationStates.ltr.inactive},n.prototype.getAnimationState=function(e){return this.expandable&&this.isDefaultStateExpanded()?this.animationStates[e].active:this.expandable?this.animationStates[e].inactive:{value:"no-animation"}},n.prototype.setupFocusEventHandlers=function(){var e=this;if(this.focusListener){var t=this.focusListener.pipe(s.debounceTime(50),s.filter((function(t){return e.isSearchBarActive()&&("blur"===t.type||"focusout"===t.type||"focus"===t.type)})),s.takeUntil(this.onDestroy$));this.focusSubscription=t.subscribe((function(t){"focus"===t.type?e.searchInput.nativeElement.focus():e.toggleSearchBar()}))}},n.prototype.setValueChangeHandler=function(){var e=this;this.valueChange.pipe(s.debounceTime(this.debounceTime),s.takeUntil(this.onDestroy$)).subscribe((function(t){e.searchChange.emit(t)}))},n.prototype.selectFirstResult=function(e){this.selectResult.emit(e)},n.prototype.onBlur=function(e){this.collapseOnBlur&&!e.relatedTarget&&this.resetSearch()},n.prototype.inputChange=function(e){this.valueChange.next(e)},n.prototype.toggleSearchBar=function(){this.toggleSearch&&this.toggleSearch.next()},n.prototype.searchSubmit=function(e){this.submit.emit(e),this.collapseOnSubmit&&this.toggleSearchBar()},n.prototype.activateToolbar=function(){return this.isSearchBarActive()||this.toggleSearchBar(),!1},n.prototype.isSearchBarActive=function(){return"active"===this.subscriptAnimationState.value},n.prototype.ngOnDestroy=function(){this.toggleSearch&&(this.toggleSearch.complete(),this.toggleSearch=null),this.focusSubscription&&(this.focusSubscription.unsubscribe(),this.focusSubscription=null,this.focusListener=null),this.onDestroy$.next(!0),this.onDestroy$.complete()},n.prototype.canShowClearSearch=function(){return this.showClearButton&&this.isSearchBarActive()},n.prototype.resetSearch=function(){this.isSearchBarActive()&&this.toggleSearchBar()},n.prototype.isDefaultStateCollapsed=function(){return this.defaultState===e.SearchTextStateEnum.collapsed},n.prototype.isDefaultStateExpanded=function(){return this.defaultState===e.SearchTextStateEnum.expanded},n.prototype.emitVisibilitySearch=function(){this.isSearchBarActive()?this.searchVisibility.emit(!0):this.searchVisibility.emit(!1)},n}();
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Zl.decorators=[{type:t.Component,args:[{selector:"adf-search-text-input",template:'<div class="adf-search-container" [attr.state]="subscriptAnimationState.value">\n    <div [@transitionMessages]="subscriptAnimationState"\n         (@transitionMessages.done)="applySearchFocus($event)">\n        <button mat-icon-button\n                *ngIf="expandable"\n                id="adf-search-button"\n                class="adf-search-button"\n                [title]="\'SEARCH.BUTTON.TOOLTIP\' | translate"\n                (click)="toggleSearchBar()"\n                (keyup.enter)="toggleSearchBar()">\n            <mat-icon [attr.aria-label]="\'SEARCH.BUTTON.ARIA-LABEL\' | translate">search</mat-icon>\n        </button>\n        <mat-form-field class="adf-input-form-field-divider">\n            <input matInput\n                   #searchInput\n                   [attr.aria-label]="\'SEARCH.INPUT.ARIA-LABEL\' | translate"\n                   [attr.type]="inputType"\n                   [autocomplete]="getAutoComplete()"\n                   id="adf-control-input"\n                   [(ngModel)]="searchTerm"\n                   [placeholder]="placeholder"\n                   (focus)="activateToolbar()"\n                   (blur)="onBlur($event)"\n                   (keyup.escape)="toggleSearchBar()"\n                   (keyup.arrowdown)="selectFirstResult($event)"\n                   (ngModelChange)="inputChange($event)"\n                   [searchAutocomplete]="searchAutocomplete ? searchAutocomplete : null"\n                   (keyup.enter)="searchSubmit($event)">\n            <button mat-icon-button matSuffix\n                    data-automation-id="adf-clear-search-button"\n                    class="adf-clear-search-button"\n                    *ngIf="canShowClearSearch()"\n                    (mousedown)="resetSearch()">\n                <mat-icon>clear</mat-icon>\n            </button>\n        </mat-form-field>\n    </div>\n</div>\n',animations:[Ql],encapsulation:t.ViewEncapsulation.None,host:{class:"adf-search-text-input"},styles:[".adf-search-container{overflow:hidden!important}.adf-search-button{left:-13px}[dir=rtl] .adf-search-button{right:-13px}[dir=ltr] .adf-search-button{left:-13px}.adf-search-fixed-text{line-height:normal}.adf-input-form-field-divider{font-size:16px}.adf-input-form-field-divider .mat-form-field-underline,.adf-input-form-field-divider .mat-form-field-underline .mat-form-field-ripple{background-color:var(--adf-search-input-bg-color)}.adf-highlight{color:var(--adf-search-input-highlight-color)}"]}]}],Zl.ctorParameters=function(){return[{type:Je}]},Zl.propDecorators={autocomplete:[{type:t.Input}],expandable:[{type:t.Input}],inputType:[{type:t.Input}],liveSearchEnabled:[{type:t.Input}],searchAutocomplete:[{type:t.Input}],searchTerm:[{type:t.Input}],debounceTime:[{type:t.Input}],focusListener:[{type:t.Input}],collapseOnSubmit:[{type:t.Input}],defaultState:[{type:t.Input}],collapseOnBlur:[{type:t.Input}],showClearButton:[{type:t.Input}],placeholder:[{type:t.Input}],searchChange:[{type:t.Output}],submit:[{type:t.Output}],selectResult:[{type:t.Output}],reset:[{type:t.Output}],searchVisibility:[{type:t.Output}],searchInput:[{type:t.ViewChild,args:["searchInput",{static:!0}]}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var es={provide:G.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return ts})),multi:!0},ts=function(){function e(e,t,n,i){this.element=e,this.ngZone=t,this.changeDetectorRef=n,this.document=i,this.onDestroy$=new o.Subject,this.autocomplete="off",this._panelOpen=!1,this.escapeEventStream=new o.Subject,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete(),this.escapeEventStream&&(this.escapeEventStream=null),this.closingActionsSubscription&&this.closingActionsSubscription.unsubscribe()},Object.defineProperty(e.prototype,"panelOpen",{get:function(){return this._panelOpen&&this.searchPanel.showPanel},enumerable:!1,configurable:!0}),e.prototype.openPanel=function(){this.searchPanel.isOpen=this._panelOpen=!0,this.closingActionsSubscription=this.subscribeToClosingActions()},e.prototype.closePanel=function(){this._panelOpen&&(this.closingActionsSubscription.unsubscribe(),this._panelOpen=!1,this.searchPanel.resetResults(),this.searchPanel.hidePanel(),this.changeDetectorRef.detectChanges())},Object.defineProperty(e.prototype,"panelClosingActions",{get:function(){return o.merge(this.escapeEventStream,this.outsideClickStream)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outsideClickStream",{get:function(){var e=this;return this.document?o.merge(o.fromEvent(this.document,"click"),o.fromEvent(this.document,"touchend")).pipe(s.filter((function(t){var n=t.target;return e._panelOpen&&n!==e.element.nativeElement})),s.takeUntil(this.onDestroy$)):o.of(null)},enumerable:!1,configurable:!0}),e.prototype.writeValue=function(e){var t=this;Promise.resolve(null).then((function(){return t.setTriggerValue(e)}))},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.handleKeydown=function(e){var t=e.keyCode;t===z.ESCAPE&&this.panelOpen?(this.escapeEventStream.next(),e.stopPropagation()):t===z.ENTER&&(this.escapeEventStream.next(),e.preventDefault())},e.prototype.handleInput=function(e){if(document.activeElement===e.target){var t=e.target.value;this.onChange(t),t&&this.searchPanel?(this.searchPanel.keyPressedStream.next(t),this.openPanel()):this.searchPanel&&(this.searchPanel.resetResults(),this.closePanel())}},e.prototype.isPanelOptionClicked=function(e){var t=!1;if(e&&this.searchPanel){var n=e.target;t=!this.isNoResultOption()&&!!this.searchPanel.panel&&!!this.searchPanel.panel.nativeElement.contains(n)}return t},e.prototype.isNoResultOption=function(){return!this.searchPanel||!this.searchPanel.results.list||0===this.searchPanel.results.list.entries.length},e.prototype.subscribeToClosingActions=function(){var e=this,t=this.ngZone.onStable.asObservable(),n=this.searchPanel.keyPressedStream.asObservable();return o.merge(t,n).pipe(s.switchMap((function(){return e.searchPanel.setVisibility(),e.panelClosingActions})),s.takeUntil(this.onDestroy$)).subscribe((function(t){return e.setValueAndClose(t)}))},e.prototype.setTriggerValue=function(e){var t=this.searchPanel&&this.searchPanel.displayWith?this.searchPanel.displayWith(e):e,n=null!=t?t:"";this.element.nativeElement.value=n},e.prototype.setValueAndClose=function(e){this.isPanelOptionClicked(e)&&!e.defaultPrevented&&(this.setTriggerValue(e.target.textContent.trim()),this.onChange(e.target.textContent.trim()),this.element.nativeElement.focus()),this.closePanel()},e}();ts.decorators=[{type:t.Directive,args:[{selector:"input[searchAutocomplete], textarea[searchAutocomplete]",host:{role:"combobox","[attr.autocomplete]":"autocomplete","aria-autocomplete":"list","[attr.aria-expanded]":"panelOpen.toString()","(blur)":"onTouched()","(input)":"handleInput($event)","(keydown)":"handleKeydown($event)"},providers:[es]}]}],ts.ctorParameters=function(){return[{type:t.ElementRef},{type:t.NgZone},{type:t.ChangeDetectorRef},{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[p.DOCUMENT]}]}]},ts.propDecorators={searchPanel:[{type:t.Input,args:["searchAutocomplete"]}],autocomplete:[{type:t.Input}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ns=function(){};ns.decorators=[{type:t.NgModule,args:[{declarations:[Zl,ts],imports:[p.CommonModule,u.TranslateModule,Be,G.FormsModule],exports:[Zl,ts]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var is=function(){};is.decorators=[{type:t.Component,args:[{selector:"adf-blank-page",template:""}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var as=function(){};as.decorators=[{type:t.NgModule,args:[{declarations:[is],exports:[is]}]}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var os=function(){function e(){}return e.prototype.login=function(){return new Promise((function(e){e("TICKET_4479f4d3bb155195879bfbb8d5206f433488a1b1")}))},e.prototype.logout=function(){return new Promise((function(e){e("logout")}))},e.prototype.changeConfig=function(){},e}(),rs=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i.config={application:{name:"Alfresco ADF Application"},ecmHost:"http://{hostname}{:port}/ecm",bpmHost:"http://{hostname}{:port}/bpm",logLevel:"silent"},i}return ae(n,t),n.prototype.load=function(){var t=this;return new Promise((function(n){t.status=e.Status.LOADED,t.onDataLoaded(t.config),n(t.config)}))},n}(Ie);rs.decorators=[{type:t.Injectable}],rs.ctorParameters=function(){return[{type:l.HttpClient},{type:d.ExtensionService}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ls={size:2,total:2,start:0,data:[{id:1,defaultAppId:null,name:"Sales-Fakes-App",description:"desc-fake1",modelId:22,theme:"theme-1-fake",icon:"glyphicon-asterisk",deploymentId:"111",tenantId:null},{id:2,defaultAppId:null,name:"health-care-Fake",description:"desc-fake2",modelId:33,theme:"theme-2-fake",icon:"glyphicon-asterisk",deploymentId:"444",tenantId:null}]},ss=function(){function e(){this.redirectUrl=null}return e.prototype.setRedirectUrl=function(e){this.redirectUrl=e},e.prototype.getRedirectUrl=function(){return this.redirectUrl?this.redirectUrl.url:null},e.prototype.login=function(e,t){return"fake-username"===e&&"fake-password"===t?o.of({type:"type",ticket:"ticket"}):"fake-username-CORS-error"===e&&"fake-password"===t?o.throwError({error:{crossDomain:!0,message:"ERROR: the network is offline, Origin is not allowed by Access-Control-Allow-Origin"}}):"fake-username-CSRF-error"===e&&"fake-password"===t?o.throwError({message:"ERROR: Invalid CSRF-token",status:403}):"fake-username-ECM-access-error"===e&&"fake-password"===t?o.throwError({message:"ERROR: 00170728 Access Denied.  The system is currently in read-only mode",status:403}):o.throwError("Fake server error")},e}(),ds={apps:[],capabilities:"fake-capability",company:"fake-company",created:"fake-create-date",email:"fakeBpm@fake.com",externalId:"fake-external-id",firstName:"fake-first-name",lastName:"fake-last-name",groups:[],id:"fake-id",lastUpdate:"fake-update-date",latestSyncTimeStamp:"fake-timestamp",password:"fake-password",pictureId:void 0,status:"fake-status",tenantId:"fake-tenant-id",tenantName:"fake-tenant-name",tenantPictureId:"fake-tenant-picture-id",type:"fake-type"},ps=new li({apps:[],capabilities:null,company:"fake-company",created:"fake-create-date",email:"fakeBpm@fake.com",externalId:"fake-external-id",firstName:"fake-bpm-first-name",lastName:"fake-bpm-last-name",groups:[],id:"fake-id",lastUpdate:"fake-update-date",latestSyncTimeStamp:"fake-timestamp",password:"fake-password",pictureId:12,status:"fake-status",tenantId:"fake-tenant-id",tenantName:"fake-tenant-name",tenantPictureId:"fake-tenant-picture-id",type:"fake-type"}),us={id:1,email:"fake-email@dom.com",firstName:"firstName",lastName:"lastName"},cs={size:2,total:2,start:0,data:[{id:1,message:"fake-message-1",created:"",createdBy:us},{id:2,message:"fake-message-2",created:"",createdBy:us}]},fs=new ti({id:1,message:"Test",created:new Date("2016-11-10T03:37:30.010+0000"),createdBy:new ei({id:13,firstName:"Wilbur",lastName:"Adams",email:"wilbur@app.com"})}),ms=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.isEnabled=function(){return!0},t.prototype.getItem=function(e){return this[e]&&this[e].data||null},t.prototype.setItem=function(e,t,n,i){this[e]={data:t,expiration:n,path:i}},t.prototype.clear=function(){var e=this;Object.keys(this).forEach((function(t){e.hasOwnProperty(t)&&"function"!=typeof e[t]&&(e[t]=void 0)}))},t}(xe);ms.decorators=[{type:t.Injectable}];
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var hs=new si({id:"fake-id",firstName:"fake-ecm-first-name",lastName:"fake-ecm-last-name",description:"i am a fake user for test",avatarId:"fake-avatar-id",email:"fakeEcm@ecmUser.com",skypeId:"fake-skype-id",googleId:"fake-googleId-id",instantMessageId:"fake-instantMessageId-id",company:null,jobTitle:"job-ecm-test",location:"fake location",mobile:"000000000",telephone:"11111111",statusUpdatedAt:"fake-date",userStatus:"active",enabled:!0,emailNotificationsEnabled:!0}),gs={id:"another-fake-id",firstName:"another-fake-first-name",lastName:"another",displayName:"admin.adf User",email:"admin.adf@alfresco.com",company:null,enabled:!0,emailNotificationsEnabled:!0},ys=new r.PersonPaging({list:{pagination:{count:2,hasMoreItems:!1,totalItems:2,skipCount:0,maxItems:100},entries:[{entry:hs},{entry:gs}]}});
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var vs=function(){function e(){}return e.keyDown=function(e){var t=document.createEvent("Event");t.keyCode=e,t.initEvent("keydown"),document.dispatchEvent(t)},e.keyUp=function(e){var t=document.createEvent("Event");t.keyCode=e,t.initEvent("keyup"),document.dispatchEvent(t)},e.resizeMobileView=function(){window.dispatchEvent(new Event("resize"))},e}(),bs={list:{pagination:{count:1,hasMoreItems:!1,totalItems:1,skipCount:0,maxItems:100},entries:[{entry:{id:"123",name:"MyDoc",content:{mimetype:"text/plain"},createdByUser:{displayName:"John Doe"},modifiedByUser:{displayName:"John Doe"}}}]}},ws={findNodes:function(){return Promise.resolve(bs)}},Is=function(){function e(){this.defaultLang="en",this.translate={onLangChange:new t.EventEmitter}}return e.prototype.addTranslationFolder=function(){},e.prototype.onTranslationChanged=function(){},e.prototype.use=function(){},e.prototype.loadTranslation=function(){},e.prototype.get=function(e){return o.of(e)},e.prototype.instant=function(e){return e},e}();
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Is.decorators=[{type:t.Injectable}];var Es=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.appConfig=t,i.storageService=n,i.alfrescoApi||i.initAlfrescoApi(),i}return ae(t,e),t.prototype.initialize=function(){var e=this;return new Promise((function(t){e.alfrescoApiInitialized.next(!0),t({})}))},t}(Ce);Es.decorators=[{type:t.Injectable}],Es.ctorParameters=function(){return[{type:Ie},{type:Ee}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Cs=new Fo({}),xs={id:"mock-group-id-1",name:"Mock Group 1",path:"/mock",subGroups:[]},Ss={id:"mock-group-id-2",name:"Mock Group 2",path:"",subGroups:[]},Ts={id:"mock-group-id-3",name:"Mock Group 3",path:"",subGroups:[]},As={id:"mock-group-id-4",name:"Mock Group 4",path:"",subGroups:[]},Os={id:"mock-group-id-5",name:"Mock Group 5",path:"",subGroups:[]},Rs=[xs,Ss,Ts,As,Os],Ds={id:"mock-app-id",name:"mock-app-name"},Ps=[{id:"role-id-1",name:"role-name-1"},{id:"role-id-2",name:"role-name-2"}],_s={oauth2Auth:{callCustomApi:function(){return Promise.resolve(Ps)}}},Ls={oauth2Auth:{callCustomApi:function(){return Promise.resolve([])}}},Fs={oauth2Auth:{callCustomApi:function(){return Promise.resolve(Rs)}}},ks=function(){return Promise.resolve()},Vs={oauth2Auth:{callCustomApi:ks}},Ns=function(){return Promise.resolve()},Ms={oauth2Auth:{callCustomApi:Ns}},Us=function(){return Promise.resolve()},js={oauth2Auth:{callCustomApi:Us}},Bs=function(){return Promise.resolve([Ds])},zs={oauth2Auth:{callCustomApi:Bs}},$s=[new di({id:"mock-role-id",name:"MOCK-ADMIN-ROLE"}),new di({id:"mock-role-id",name:"MOCK-USER-ROLE"}),new di({id:"mock-role-id",name:"MOCK-ROLE-1"})],Hs=[new di({name:"MOCK-ADMIN-ROLE"}),new di({name:"MOCK-USER-ROLE"})],qs=J.TestBed.resetTestingModule,Ys=function(){return J.TestBed.resetTestingModule=function(){return J.TestBed}},Gs=function(){return J.TestBed.resetTestingModule=qs};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Ws(e){return function(){return e.load()}}
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xs(e){return function(){return e}}var Ks=function(e,t,n,i){var a=this;this.document=e,this.rendererFactory=t,this.userPreferencesService=n,this.directionality=i;var o=this.rendererFactory.createRenderer(null,null);this.userPreferencesService.select("textOrientation").subscribe((function(e){o.setAttribute(a.document.body,"dir",e),a.directionality.value=e}))};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Js(e){return function(){return e}}
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Ks.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new Ks(t.ɵɵinject(p.DOCUMENT),t.ɵɵinject(t.RendererFactory2),t.ɵɵinject(Je),t.ɵɵinject(ee.Directionality))},token:Ks,providedIn:"root"}),Ks.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],Ks.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[p.DOCUMENT]}]},{type:t.RendererFactory2},{type:Je},{type:ee.Directionality}]};var Qs=function(){function e(e){e.addTranslationFolder("adf-core","assets/adf-core")}return e.forRoot=function(){return{ngModule:e,providers:[u.TranslateStore,u.TranslateService,{provide:u.TranslateLoader,useClass:Fl},{provide:t.APP_INITIALIZER,useFactory:Ws,deps:[Ce],multi:!0},{provide:t.APP_INITIALIZER,useFactory:Xs,deps:[Ks],multi:!0},{provide:t.APP_INITIALIZER,useFactory:Js,deps:[Vt],multi:!0}]}},e.forChild=function(){return{ngModule:e}},e}();Qs.decorators=[{type:t.NgModule,args:[{imports:[u.TranslateModule,d.ExtensionsModule,Yn,Ti,dl,yt,p.CommonModule,Ht,Wl,G.FormsModule,G.ReactiveFormsModule,ki,Li,Be,to,Mi,Si,Ke,Qa,Kr,ml,Wi,Qi,oa,Hn,qn,gl,Cl,El,vl,Jl,ns,as],exports:[Yn,Ti,dl,yt,p.CommonModule,Ht,Wl,Bn,G.FormsModule,G.ReactiveFormsModule,ki,Li,Be,to,Mi,Si,Ke,Qa,Kr,ml,Wi,Qi,oa,Hn,qn,u.TranslateModule,gl,Cl,vl,El,Jl,ns,as]}]}],Qs.ctorParameters=function(){return[{type:Ze}]};
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Zs=Xs,ed=Js,td=function(){};td.decorators=[{type:t.NgModule,args:[{imports:[Q.NoopAnimationsModule,Z.RouterTestingModule,l.HttpClientModule,u.TranslateModule.forRoot(),Qs.forRoot()],providers:[p.DatePipe,{provide:Ce,useClass:Es},{provide:Ie,useClass:rs},{provide:Ze,useClass:Is},{provide:xe,useClass:ms},{provide:t.APP_INITIALIZER,useFactory:Zs,deps:[Ks],multi:!0},{provide:t.APP_INITIALIZER,useFactory:ed,deps:[Vt],multi:!0}],exports:[Q.NoopAnimationsModule,Qs,u.TranslateModule]}]}],
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
e.ADF_AMOUNT_SETTINGS=qo,e.AboutApplicationModulesComponent=Ue,e.AboutGithubLinkComponent=te,e.AboutModule=Yn,e.AboutProductVersionComponent=Me,e.AboutServerSettingsComponent=je,e.ActivitiContentService=Yr,e.AlfrescoApiMock=os,e.AlfrescoApiService=Ce,e.AlfrescoApiServiceMock=Es,e.AllowableOperationsEnum=Ct,e.AmountEditorComponent=gr,e.AmountWidgetComponent=Yo,e.AppConfigModule=to,e.AppConfigPipe=eo,e.AppConfigService=Ie,e.AppConfigServiceMock=rs,e.AppsProcessService=Dl,e.AuthBearerInterceptor=Gl,e.AuthGuard=Sl,e.AuthGuardBase=xl,e.AuthGuardBpm=Al,e.AuthGuardEcm=Tl,e.AuthGuardSsoRoleService=Rl,e.AuthenticationMock=ss,e.AuthenticationService=De,e.BaseEvent=Kt,e.BaseUIEvent=Jt,e.BlankPageComponent=is,e.BlankPageModule=as,e.BooleanEditorComponent=lr,e.BoundaryDateFieldValidator=mo,e.BpmProductVersionModel=Pe,e.BpmUserModel=li,e.BpmUserService=Ai,e.ButtonsMenuComponent=hl,e.ButtonsMenuModule=gl,e.CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR=Sr,e.CardItemTypeService=Oa,e.CardViewArrayItemComponent=Aa,e.CardViewArrayItemModel=Ja,e.CardViewBaseItemModel=Ba,e.CardViewBoolItemComponent=ya,e.CardViewBoolItemModel=za,e.CardViewComponent=ga,e.CardViewContentProxyDirective=Ra,e.CardViewDateItemComponent=wa,e.CardViewDateItemModel=$a,e.CardViewDatetimeItemModel=Ha,e.CardViewFloatItemModel=Ya,e.CardViewIntItemModel=Ga,e.CardViewItemFloatValidator=La,e.CardViewItemIntValidator=_a,e.CardViewItemLengthValidator=Va,e.CardViewItemMatchValidator=Fa,e.CardViewItemMinMaxValidator=ka,e.CardViewKeyValuePairsItemComponent=Ca,e.CardViewKeyValuePairsItemModel=Xa,e.CardViewMapItemComponent=Ia,e.CardViewMapItemModel=Wa,e.CardViewModule=Qa,e.CardViewSelectItemComponent=Ea,e.CardViewSelectItemModel=Ka,e.CardViewTextItemComponent=ha,e.CardViewTextItemModel=qa,e.CardViewUpdateService=sa,e.CheckAllowableOperationDirective=At,e.CheckboxWidgetComponent=Go,e.ClipboardComponent=jn,e.ClipboardDirective=Un,e.ClipboardModule=Bn,e.ClipboardService=Mn,e.CommentContentService=cl,e.CommentListComponent=pl,e.CommentModel=ti,e.CommentProcessService=ul,e.CommentsComponent=fl,e.CommentsModule=ml,e.ContainerColumnModel=lo,e.ContainerModel=Po,e.ContainerWidgetComponent=zo,e.ContentLinkModel=Vo,e.ContentService=St,e.ContentWidgetComponent=$r,e.ContextMenuDirective=We,e.ContextMenuModule=Ke,e.ContextMenuOverlayService=Ge,e.CookieService=xe,e.CookieServiceMock=ms,e.CoreAutomationService=Hl,e.CoreModule=Qs,e.CoreTestingModule=td,e.CustomEmptyContentTemplateDirective=xn,e.CustomLoadingContentTemplateDirective=Sn,e.CustomNoPermissionTemplateDirective=Tn,e.DataCellEvent=dn,e.DataCellEventModel=sn,e.DataColumnComponent=Gt,e.DataColumnListComponent=Wt,e.DataColumnModule=Hn,e.DataRowActionEvent=un,e.DataRowActionModel=pn,e.DataRowEvent=ln,e.DataSorting=be,e.DataTableCellComponent=qt,e.DataTableComponent=cn,e.DataTableModule=qn,e.DataTableRowComponent=Yt,e.DataTableSchema=ra,e.DateCellComponent=fn,e.DateColumnHeaderComponent=$n,e.DateEditorComponent=dr,e.DateFieldValidator=co,e.DateTimeEditorComponent=cr,e.DateTimeFieldValidator=fo,e.DateTimeWidgetComponent=Lr,e.DateWidgetComponent=Xo,e.DebugAppConfigService=Za,e.DecimalNumberModel=ri,e.DecimalNumberPipe=ft,e.DeletedNodesApiService=kl,e.DialogModule=Wl,e.DirectiveModule=Ht,e.DiscoveryApiService=Ne,e.DisplayTextWidgetComponent=Ko,e.DocumentWidgetComponent=Jo,e.DownloadService=xt,e.DownloadZipDialogComponent=Ft,e.DownloadZipService=Pt,e.DropZoneDirective=zn,e.DropdownEditorComponent=fr,e.DropdownWidgetComponent=Qo,e.DynamicComponentMapper=Ta,e.DynamicComponentResolver=Sa,e.DynamicTableModel=or,e.DynamicTableWidgetComponent=rr,e.EXTENDIBLE_COMPONENT=Tt,e.EcmCompanyModel=ni,e.EcmModelService=Mo,e.EcmProductVersionModel=Ve,e.EcmUserModel=si,e.EcmUserService=Oi,e.EditJsonDialogComponent=An,e.EditJsonDialogModule=Xr,e.EmptyContentComponent=wl,e.EmptyListBodyDirective=gn,e.EmptyListComponent=mn,e.EmptyListFooterDirective=yn,e.EmptyListHeaderDirective=hn,e.ErrorContentComponent=bl,e.ErrorMessageModel=so,e.ErrorWidgetComponent=yr,e.EventMock=vs,e.ExternalAlfrescoApiService=Bl,e.FORM_FIELD_VALIDATORS=So,e.FavoritesApiService=Vl,e.FileModel=tn,e.FileSizeCellComponent=vn,e.FileSizePipe=et,e.FileTypePipe=pt,e.FileUploadCompleteEvent=an,e.FileUploadDeleteEvent=on,e.FileUploadErrorEvent=rn,e.FileUploadEvent=nn,e.FileUploadOptions=Qt,e.FileUtils=pe,e.FileViewerWidgetComponent=Vr,e.FixedValueFieldValidator=xo,e.FormBaseComponent=Br,e.FormBaseModule=Kr,e.FormErrorEvent=Wr,e.FormEvent=Ao,e.FormFieldComponent=jr,e.FormFieldEvent=Oo,e.FormFieldModel=To,e.FormFieldTypes=io,e.FormListComponent=zr,e.FormModel=Fo,e.FormOutcomeEvent=ko,e.FormOutcomeModel=Lo,e.FormRendererComponent=qr,e.FormRenderingService=Ur,e.FormService=Uo,e.FormWidgetModel=oo,e.FormatSpacePipe=dt,e.FullNamePipe=st,e.FunctionalGroupWidgetComponent=vr,e.HeaderFilterTemplateDirective=Cn,e.HeaderLayoutComponent=Jr,e.HighlightDirective=vt,e.HighlightPipe=ot,e.HighlightTransformService=at,e.HostSettingsComponent=Fi,e.HostSettingsModule=ki,e.HyperlinkWidgetComponent=br,e.IconComponent=Il,e.IconModule=El,e.IdentityGroupService=ql,e.IdentityRoleModel=di,e.IdentityRoleService=Yl,e.IdentityUserService=Pi,e.ImgViewerComponent=ui,e.InfinitePaginationComponent=Ni,e.InfiniteSelectScrollDirective=jt,e.InfoDrawerButtonsDirective=ta,e.InfoDrawerComponent=aa,e.InfoDrawerContentDirective=na,e.InfoDrawerLayoutComponent=Zi,e.InfoDrawerModule=oa,e.InfoDrawerTabComponent=ia,e.InfoDrawerTitleDirective=ea,e.InitialUsernamePipe=lt,e.InputMaskDirective=Tr,e.JSON_TYPE=Ri,e.JsonCellComponent=Rn,e.JsonWidgetComponent=Fr,e.JwtHelperService=Oe,e.LanguageMenuComponent=Ki,e.LanguageMenuModule=Qi,e.LanguagePickerComponent=Ji,e.LanguageService=Xi,e.LayoutContainerComponent=el,e.LibraryFavoriteDirective=Bt,e.LibraryMembershipDirective=$t,e.LicenseModel=Le,e.LoadingContentTemplateDirective=wn,e.LocalizedDatePipe=ct,e.LocalizedRolePipe=mt,e.LocationCellComponent=bn,e.LockService=zl,e.LogService=Ae,e.LoginComponent=$i,e.LoginDialogComponent=Yi,e.LoginDialogPanelComponent=Gi,e.LoginDialogService=jl,e.LoginErrorEvent=ji,e.LoginFooterDirective=qi,e.LoginHeaderDirective=Hi,e.LoginModule=Wi,e.LoginSubmitEvent=Bi,e.LoginSuccessEvent=zi,e.LogoutDirective=bt,e.MASK_DIRECTIVE=Mr,e.MOMENT_DATE_FORMATS=ue,e.MaterialModule=Be,e.MaxDateFieldValidator=go,e.MaxDateTimeFieldValidator=vo,e.MaxLengthFieldValidator=wo,e.MaxValueFieldValidator=Eo,e.MediaPlayerComponent=ci,e.MimeTypeIconPipe=nt,e.MinDateFieldValidator=ho,e.MinDateTimeFieldValidator=yo,e.MinLengthFieldValidator=bo,e.MinValueFieldValidator=Io,e.MomentDateAdapter=me,e.MomentDatePipe=ht,e.MomentDateTimePipe=gt,e.MultiValuePipe=ut,e.MultilineTextWidgetComponentComponent=wr,e.NoContentTemplateDirective=In,e.NoPermissionTemplateDirective=En,e.NodeDeleteDirective=wt,e.NodeDownloadDirective=kt,e.NodeFavoriteDirective=It,e.NodeMetadata=_t,e.NodeNameTooltipPipe=it,e.NodeRestoreDirective=Rt,e.NodeService=Gr,e.NodesApiService=Lt,e.NotificationHistoryComponent=Xl,e.NotificationHistoryModule=Jl,e.NotificationService=Nn,e.NumberFieldValidator=uo,e.NumberWidgetComponent=Ir,e.OAuth2Service=Di,e.ObjectDataColumn=ve,e.ObjectDataRow=ye,e.ObjectDataTableAdapter=we,e.ObjectUtils=ne,e.PageTitleService=Pl,e.PaginationComponent=Vi,e.PaginationModel=ai,e.PaginationModule=Mi,e.PdfPasswordDialogComponent=fi,e.PdfThumbComponent=gi,e.PdfThumbListComponent=yi,e.PdfViewerComponent=hi,e.PeopleContentService=Ol,e.PeopleProcessService=Er,e.PeopleWidgetComponent=Cr,e.PermissionsEnum=Et,e.PipeModule=yt,e.ProcessContentService=Rr,e.RadioButtonsWidgetComponent=xr,e.RedirectionModel=ii,e.RegExFieldValidator=Co,e.RenditionsService=_l,e.RequestPaginationModel=oi,e.RequiredFieldValidator=po,e.RestoreMessageModel=Ot,e.RowEditorComponent=mr,e.SEARCH_AUTOCOMPLETE_VALUE_ACCESSOR=es,e.SearchConfigurationService=Nl,e.SearchService=Ml,e.SearchTextInputComponent=Zl,e.SearchTextModule=ns,e.SearchTriggerDirective=ts,e.SelectFilterInputComponent=Pa,e.SharedLinksApiService=Ul,e.SidebarActionMenuComponent=tl,e.SidebarMenuDirective=nl,e.SidebarMenuExpandIconDirective=al,e.SidebarMenuTitleIconDirective=il,e.SidenavLayoutComponent=sl,e.SidenavLayoutContentDirective=ol,e.SidenavLayoutHeaderDirective=rl,e.SidenavLayoutModule=dl,e.SidenavLayoutNavigationDirective=ll,e.SitesService=zt,e.SortingPickerComponent=yl,e.SortingPickerModule=vl,e.StartFormCustomButtonDirective=Hr,e.StorageService=Ee,e.TRANSLATION_PROVIDER=Qe,e.TabModel=_o,e.TabsWidgetComponent=$o,e.TemplateModule=Cl,e.TextEditorComponent=hr,e.TextWidgetComponent=Ar,e.ThumbnailService=tt,e.TimeAgoPipe=rt,e.ToolbarComponent=xi,e.ToolbarDividerComponent=Ei,e.ToolbarModule=Si,e.ToolbarTitleComponent=Ci,e.TooltipCardDirective=Ut,e.TranslateLoaderService=Fl,e.TranslationMock=Is,e.TranslationService=Ze,e.TxtViewerComponent=vi,e.TypeaheadWidgetComponent=Or,e.UnknownFormatComponent=bi,e.UnknownWidgetComponent=Ho,e.UploadDirective=Dt,e.UploadFolderWidgetComponent=kr,e.UploadService=Qn,e.UploadWidgetComponent=Dr,e.UploadWidgetContentLinkModel=No,e.UserInfoComponent=_i,e.UserInfoModule=Li,e.UserPreferencesService=Je,e.UserProcessModel=ei,e.ValidateDynamicTableRowEvent=er,e.ValidateFormEvent=Do,e.ValidateFormFieldEvent=Ro,e.VersionCompatibilityDirective=Nt,e.VersionCompatibilityService=Vt,e.VersionModel=_e,e.VersionModuleModel=ke,e.VersionStatusModel=Fe,e.ViewUtilService=Gn,e.ViewerComponent=pi,e.ViewerExtensionDirective=Ii,e.ViewerModule=Ti,e.ViewerMoreActionsComponent=Wn,e.ViewerOpenWithComponent=Xn,e.ViewerSidebarComponent=Kn,e.ViewerToolbarActionsComponent=wi,e.ViewerToolbarComponent=Jn,e.WIDGET_DIRECTIVES=Nr,e.WidgetComponent=jo,e.WidgetVisibilityService=Zo,e.applicationDetailsMockApi=zs,e.clientRoles=Hs,e.complexVisibilityJsonNotVisible={id:47591,name:"Test-visibility",description:"",version:4,lastUpdatedBy:13,lastUpdatedByFullName:"romano romano",lastUpdated:"2019-06-11T11:  04:  36.870+0000",stencilSetId:0,referenceId:null,formDefinition:{tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1560246123312",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label",name:"Label",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label1",name:"Label1",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:"1560246128696",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label4",name:"Label4",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label3",name:"Label3",type:"text",value:"OPSSS",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:"1560246126964",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label2",name:"Label2",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label5",name:"Label5",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:{leftFormFieldId:"label",leftRestResponseId:null,operator:"==",rightValue:"aaa",rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"and",nextCondition:{leftFormFieldId:"label1",leftRestResponseId:null,operator:"!=",rightValue:"aaa",rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"and",nextCondition:{leftFormFieldId:"label2",leftRestResponseId:null,operator:"!empty",rightValue:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"or",nextCondition:{leftFormFieldId:"label3",leftRestResponseId:null,operator:"empty",rightValue:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:null,nextCondition:null}}}}}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1}},e.complexVisibilityJsonVisible={id:47591,name:"Test-visibility",description:"",version:4,lastUpdatedBy:13,lastUpdatedByFullName:"romano romano",lastUpdated:"2019-06-11T11:  04:  36.870+0000",stencilSetId:0,referenceId:null,formDefinition:{tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1560246123312",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label",name:"Label",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label1",name:"Label1",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:"1560246128696",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label4",name:"Label4",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label3",name:"Label3",type:"text",value:"",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:"1560246126964",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label2",name:"Label2",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label5",name:"Label5",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:{leftFormFieldId:"label",leftRestResponseId:null,operator:"==",rightValue:"aaa",rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"and",nextCondition:{leftFormFieldId:"label1",leftRestResponseId:null,operator:"!=",rightValue:"aaa",rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"and",nextCondition:{leftFormFieldId:"label2",leftRestResponseId:null,operator:"!empty",rightValue:null,rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"or",nextCondition:{leftFormFieldId:"label3",leftRestResponseId:null,operator:"empty",rightValue:null,rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:null,nextCondition:null}}}}}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1}},e.createGroupMappingApi=Vs,e.createNewPersonMock={id:"fake-id",firstName:"fake-ecm-first-name",lastName:"fake-ecm-last-name",description:"i am a fake user for test",password:"fake-avatar-id",email:"fakeEcm@ecmUser.com"},e.deleteGroupMappingApi=js,e.error=Ln,e.fakeApps=ls,e.fakeBpmEditedUser={apps:[],capabilities:"fake-capability",company:"fake-company",created:"fake-create-date",email:"fakeBpm@fake.com",externalId:"fake-external-id",firstName:"fake-first-name",lastName:"fake-last-name",groups:[],id:"fake-id",lastUpdate:"fake-update-date",latestSyncTimeStamp:"fake-timestamp",password:"fake-password",pictureId:"src/assets/images/bpmImg.gif",status:"fake-status",tenantId:"fake-tenant-id",tenantName:"fake-tenant-name",tenantPictureId:"fake-tenant-picture-id",type:"fake-type"},e.fakeBpmUser=ps,e.fakeBpmUserNoImage=ds,e.fakeEcmCompany={organization:"company-fake-name",address1:"fake-address-1",address2:"fake-address-2",address3:"fake-address-3",postcode:"fAk1",telephone:"00000000",fax:"11111111",email:"fakeCompany@fake.com"},e.fakeEcmEditedUser={id:"fake-id",firstName:null,lastName:"fake-last-name",description:"i am a fake user for test",avatarId:"fake-avatar-id",email:"fakeEcm@ecmUser.com",skypeId:"fake-skype-id",googleId:"fake-googleId-id",instantMessageId:"fake-instantMessageId-id",company:null,jobTitle:"test job",location:"fake location",mobile:"000000000",telephone:"11111111",statusUpdatedAt:"fake-date",userStatus:"active",enabled:!0,emailNotificationsEnabled:!0},e.fakeEcmUser=hs,e.fakeEcmUser2=gs,e.fakeEcmUserList=ys,e.fakeEcmUserNoImage={id:"fake-id",firstName:"fake-first-name",lastName:"fake-last-name",description:"i am a fake user for test",avatarId:null,email:"fakeEcm@ecmUser.com",skypeId:"fake-skype-id",googleId:"fake-googleId-id",instantMessageId:"fake-instantMessageId-id",company:null,jobTitle:null,location:"fake location",mobile:"000000000",telephone:"11111111",statusUpdatedAt:"fake-date",userStatus:"active",enabled:!0,emailNotificationsEnabled:!0},e.fakeForm={id:1001,name:"ISSUE_FORM",processDefinitionId:"ISSUE_APP:1:2504",processDefinitionName:"ISSUE_APP",processDefinitionKey:"ISSUE_APP",taskId:"7506",taskDefinitionKey:"sid-F67A2996-1684-4774-855A-4591490081FD",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1498212398417",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"dropdownId",name:"Label",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"test1"},{id:"option_2",name:"test2"},{id:"option_3",name:"test3"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"RestFieldRepresentation",id:"radio",name:"radio",type:"radio-buttons",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:[{id:"option_1",name:"Option 1"},{id:"option_2",name:"Option 2"},{id:"option_3",name:"Option 3"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:2,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}]}},{fieldType:"ContainerRepresentation",id:"1498212413062",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"date",name:"date",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.fakeFormChainedVisibilityJson={id:"8800",name:"FORM_VISIBILITYl_CHAIN",processDefinitionId:"PROCESS_TEST:  9:  9999",processDefinitionName:"PROCESS_TEST",processDefinitionKey:"PROCESS_TEST",taskId:"999",taskName:"TEST",fields:[{fieldType:"ContainerRepresentation",id:"1615506402205",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"installments",name:"Installments",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"RestFieldRepresentation",id:"schedule",name:"Schedule",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"ANNUAL",name:"Annual"},{id:"QUARTERLY",name:"Quarterly"},{id:"MONTHLY",name:"Monthly"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}]}},{fieldType:"ContainerRepresentation",id:1615506384790,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"showtext",name:"Show text",type:"readonly-text",value:"This test is shown when the visibility logic is displayed.\nThis should only show under the following conditions:\nAnnual and installment > 5\nQuarterly and installment > 20\nMonthly and installment > 60",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:{leftFormFieldId:"schedule",leftRestResponseId:null,operator:"==",rightValue:"ANNUAL",rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"and",nextCondition:{leftFormFieldId:"installments",leftRestResponseId:null,operator:">",rightValue:5,rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"or",nextCondition:{leftFormFieldId:"schedule",leftRestResponseId:null,operator:"==",rightValue:"QUARTERLY",rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"and",nextCondition:{leftFormFieldId:"installments",leftRestResponseId:null,operator:">",rightValue:20,rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"or",nextCondition:{leftFormFieldId:"schedule",leftRestResponseId:null,operator:"==",rightValue:"MONTHLY",rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"and",nextCondition:{leftFormFieldId:"installments",leftRestResponseId:null,operator:">",rightValue:60,rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"",nextCondition:null}}}}}}}],2:[]}}],variables:[{id:"e621e8ff-42a6-499c-8121-33c7c35d8641",name:"age",type:"integer",value:11},{id:"4f8aa99e-8526-429c-9d99-809978489d96",name:"name",type:"string",value:"abc"},{id:"0207b649-ff07-4f3a-a589-d10afa507b9b",name:"dob",type:"date",value:"2019-05-13"}]},e.fakeFormCheckBoxVisibilityJson={referenceId:"33033",name:"test_condition_form",description:"",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1623514352532",name:"Label",type:"container",value:"null",required:"false",readOnly:"false",overrideId:"false",colspan:"1",placeholder:"null",minLength:"0",maxLength:"0",minValue:"null",maxValue:"null",regexPattern:"null",optionType:"null",hasEmptyValue:"null",options:"null",restUrl:"null",restResponsePath:"null",restIdProperty:"null",restLabelProperty:"null",tab:"null",className:"null",dateDisplayFormat:"null",layout:"null",sizeX:"2",sizeY:"1",row:"-1",col:"-1",visibilityCondition:"null",numberOfColumns:"2",fields:{1:[{fieldType:"FormFieldRepresentation",id:"a",name:"A",type:"boolean",value:"null",required:"false",readOnly:"false",overrideId:"false",colspan:"1",placeholder:"null",minLength:"0",maxLength:"0",minValue:"null",maxValue:"null",regexPattern:"null",optionType:"null",hasEmptyValue:"null",options:"null",restUrl:"null",restResponsePath:"null",restIdProperty:"null",restLabelProperty:"null",tab:"null",className:"null",params:{existingColspan:"1",maxColspan:"2"},dateDisplayFormat:"null",layout:{row:"-1",column:"-1",colspan:"1"},sizeX:"1",sizeY:"1",row:"-1",col:"-1",visibilityCondition:"null"}],2:[{fieldType:"FormFieldRepresentation",id:"b",name:"B",type:"boolean",value:"null",required:"false",readOnly:"false",overrideId:"false",colspan:"1",placeholder:"null",minLength:"0",maxLength:"0",minValue:"null",maxValue:"null",regexPattern:"null",optionType:"null",hasEmptyValue:"null",options:"null",restUrl:"null",restResponsePath:"null",restIdProperty:"null",restLabelProperty:"null",tab:"null",className:"null",params:{existingColspan:"1",maxColspan:"1"},dateDisplayFormat:"null",layout:{row:"-1",column:"-1",colspan:"1"},sizeX:"1",sizeY:"1",row:"-1",col:"-1",visibilityCondition:"null"}]}},{fieldType:"ContainerRepresentation",id:"1623514356352",name:"Label",type:"container",value:"null",required:"false",readOnly:"false",overrideId:"false",colspan:"1",placeholder:"null",minLength:"0",maxLength:"0",minValue:"null",maxValue:"null",regexPattern:"null",optionType:"null",hasEmptyValue:"null",options:"null",restUrl:"null",restResponsePath:"null",restIdProperty:"null",restLabelProperty:"null",tab:"null",className:"null",dateDisplayFormat:"null",layout:"null",sizeX:"2",sizeY:"1",row:"-1",col:"-1",visibilityCondition:"null",numberOfColumns:"2",fields:{1:[{fieldType:"FormFieldRepresentation",id:"c",name:"C",type:"boolean",value:"null",required:"false",readOnly:"false",overrideId:"false",colspan:"1",placeholder:"null",minLength:"0",maxLength:"0",minValue:"null",maxValue:"null",regexPattern:"null",optionType:"null",hasEmptyValue:"null",options:"null",restUrl:"null",restResponsePath:"null",restIdProperty:"null",restLabelProperty:"null",tab:"null",className:"null",params:{existingColspan:"1",maxColspan:"2"},dateDisplayFormat:"null",layout:{row:"-1",column:"-1",colspan:"1"},sizeX:"1",sizeY:"1",row:"-1",col:"-1",visibilityCondition:"null"}],2:[{fieldType:"FormFieldRepresentation",id:"d",name:"D",type:"boolean",value:"null",required:"false",readOnly:"false",overrideId:"false",colspan:"1",placeholder:"null",minLength:"0",maxLength:"0",minValue:"null",maxValue:"null",regexPattern:"null",optionType:"null",hasEmptyValue:"null",options:"null",restUrl:"null",restResponsePath:"null",restIdProperty:"null",restLabelProperty:"null",tab:"null",className:"null",params:{existingColspan:"1",maxColspan:"1"},dateDisplayFormat:"null",layout:{row:"-1",column:"-1",colspan:"1"},sizeX:"1",sizeY:"1",row:"-1",col:"-1",visibilityCondition:"null"}]}},{fieldType:"ContainerRepresentation",id:"1623514409166",name:"Label",type:"container",value:"null",required:"false",readOnly:"false",overrideId:"false",colspan:"1",placeholder:"null",minLength:"0",maxLength:"0",minValue:"null",maxValue:"null",regexPattern:"null",optionType:"null",hasEmptyValue:"null",options:"null",restUrl:"null",restResponsePath:"null",restIdProperty:"null",restLabelProperty:"null",tab:"null",className:"null",dateDisplayFormat:"null",layout:"null",sizeX:"2",sizeY:"1",row:"-1",col:"-1",visibilityCondition:"null",numberOfColumns:"2",fields:{1:[{fieldType:"FormFieldRepresentation",id:"a_b_c_d",name:"Textfield ( A && B || C && D)",type:"text",value:"null",required:"false",readOnly:"false",overrideId:"true",colspan:"1",placeholder:"null",minLength:"0",maxLength:"0",minValue:"null",maxValue:"null",regexPattern:"null",optionType:"null",hasEmptyValue:"null",options:"null",restUrl:"null",restResponsePath:"null",restIdProperty:"null",restLabelProperty:"null",tab:"null",className:"null",params:{existingColspan:"1",maxColspan:"2"},dateDisplayFormat:"null",layout:{row:"-1",column:"-1",colspan:"1"},sizeX:"1",sizeY:"1",row:"-1",col:"-1",visibilityCondition:{leftFormFieldId:"a",leftRestResponseId:"null",operator:"==",rightValue:"true",rightType:"null",rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"and",nextCondition:{leftFormFieldId:"b",leftRestResponseId:"null",operator:"==",rightValue:"true",rightType:"null",rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"or",nextCondition:{leftFormFieldId:"c",leftRestResponseId:"null",operator:"==",rightValue:"true",rightType:"null",rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"and",nextCondition:{leftFormFieldId:"d",leftRestResponseId:"null",operator:"==",rightValue:"true",rightType:"null",rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"",nextCondition:"null"}}}}}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:"false"},e.fakeFormJson={id:"9999",name:"FORM_VISIBILITY",processDefinitionId:"PROCESS_TEST:  9:  9999",processDefinitionName:"PROCESS_TEST",processDefinitionKey:"PROCESS_TEST",taskId:"999",taskName:"TEST",fields:[{fieldType:"ContainerRepresentation",id:"000000000000000000",name:"Label",type:"container",value:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"FIELD_TEST",name:"FIELD_TEST",type:"text",value:"RIGHT_FORM_FIELD_VALUE",visibilityCondition:null,isVisible:!0},{fieldType:"FormFieldRepresentation",id:"FIELD_WITH_CONDITION",name:"FIELD_WITH_CONDITION",type:"text",value:"field_with_condition_value",visibilityCondition:null,isVisible:!0},{fieldType:"FormFieldRepresentation",id:"LEFT_FORM_FIELD_ID",name:"LEFT_FORM_FIELD_NAME",type:"text",value:"LEFT_FORM_FIELD_VALUE",visibilityCondition:null,isVisible:!0}],2:[{fieldType:"FormFieldRepresentation",id:"RIGHT_FORM_FIELD_ID",name:"RIGHT_FORM_FIELD_NAME",type:"text",value:"RIGHT_FORM_FIELD_VALUE",visibilityCondition:null,isVisible:!0}]}}],variables:[{id:"e621e8ff-42a6-499c-8121-33c7c35d8641",name:"age",type:"integer",value:11},{id:"4f8aa99e-8526-429c-9d99-809978489d96",name:"name",type:"string",value:"abc"},{id:"0207b649-ff07-4f3a-a589-d10afa507b9b",name:"dob",type:"date",value:"2019-05-13"}]},e.fakeProcessComment=fs,e.fakeRendition={entry:{id:"pdf",content:{mimeType:"application/pdf",mimeTypeName:"Adobe PDF Document"},status:"NOT_CREATED"}},e.fakeRenditionCreated={entry:{id:"pdf",content:{mimeType:"application/pdf",mimeTypeName:"Adobe PDF Document"},status:"CREATED"}},e.fakeRenditionsList={list:{pagination:{count:6,hasMoreItems:!1,totalItems:6,skipCount:0,maxItems:100},entries:[{entry:{id:"avatar",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"avatar32",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"doclib",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"imgpreview",content:{mimeType:"image/jpeg",mimeTypeName:"JPEG Image"},status:"NOT_CREATED"}},{entry:{id:"medium",content:{mimeType:"image/jpeg",mimeTypeName:"JPEG Image"},status:"NOT_CREATED"}},{entry:{id:"pdf",content:{mimeType:"application/pdf",mimeTypeName:"Adobe PDF Document"},status:"NOT_CREATED"}}]}},e.fakeRenditionsListWithACreated={list:{pagination:{count:6,hasMoreItems:!1,totalItems:6,skipCount:0,maxItems:100},entries:[{entry:{id:"avatar",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"avatar32",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"doclib",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"imgpreview",content:{mimeType:"image/jpeg",mimeTypeName:"JPEG Image"},status:"NOT_CREATED"}},{entry:{id:"medium",content:{mimeType:"image/jpeg",mimeTypeName:"JPEG Image"},status:"NOT_CREATED"}},{entry:{id:"pdf",content:{mimeType:"application/pdf",mimeTypeName:"Adobe PDF Document"},status:"CREATED"}}]}},e.fakeSearch=bs,e.fakeTaskProcessVariableModels=[{id:"TEST_VAR_1",type:"string",value:"test_value_1"},{id:"TEST_VAR_2",type:"string",value:"test_value_2"},{id:"TEST_VAR_3",type:"string",value:"test_value_3"}],e.fakeTasksComment=cs,e.fakeUser1=us,e.fakeUser2={id:1001,email:"some-one@somegroup.com",firstName:"some",lastName:"one"},e.formDefVisibilitiFieldDependsOnNextOne={id:19,processDefinitionId:"visibility:1:148",processDefinitionName:"visibility",processDefinitionKey:"visibility",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1506960847579",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"country",name:"country",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"france"},{id:"option_2",name:"uk"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:{leftType:"field",leftValue:"name",operator:"==",rightValue:"italy",rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"",nextCondition:null},endpoint:null,requestHeaders:null}],2:[{fieldType:"FormFieldRepresentation",id:"name",name:"name",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefVisibilitiFieldDependsOnPreviousOne={id:19,processDefinitionId:"visibility:1:148",processDefinitionName:"visibility",processDefinitionKey:"visibility",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1506960847579",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"name",name:"name",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"RestFieldRepresentation",id:"country",name:"country",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"france"},{id:"option_2",name:"uk"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:{leftType:"field",leftValue:"name",operator:"==",rightValue:"italy",rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"",nextCondition:null},endpoint:null,requestHeaders:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefinitionDropdownField={id:21,name:"dropdownDefinition",processDefinitionId:"textDefinition:2:163",processDefinitionName:"textDefinition",processDefinitionKey:"textDefinition",taskId:"169",taskDefinitionKey:"sid-D941F49F-2B04-4FBB-9B49-9E95991993E8",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507046026940",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"country",name:"country",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"united kingdom"},{id:"option_2",name:"italy"},{id:"option_3",name:"france"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefinitionRequiredField={id:21,name:"dropdownDefinition",processDefinitionId:"textDefinition:2:163",processDefinitionName:"textDefinition",processDefinitionKey:"textDefinition",taskId:"169",taskDefinitionKey:"sid-D941F49F-2B04-4FBB-9B49-9E95991993E8",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507046026940",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"country",name:"country",type:"dropdown",value:"Choose one...",required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"united kingdom"},{id:"option_2",name:"italy"},{id:"option_3",name:"france"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefinitionTwoTextFields={id:20,name:"formTextDefinition",processDefinitionId:"textDefinition:1:153",processDefinitionName:"textDefinition",processDefinitionKey:"textDefinition",taskId:"159",taskDefinitionKey:"sid-D941F49F-2B04-4FBB-9B49-9E95991993E8",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507044399260",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"firstname",name:"firstName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"lastname",name:"lastName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formModelTabs={formRepresentation:{id:16,name:"start event",description:"",version:2,lastUpdatedBy:4,lastUpdatedByFullName:"User Test",lastUpdated:"2017-10-04T13:00:03.030+0000",stencilSetId:null,referenceId:null,formDefinition:{tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507037668653",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"AmountFieldRepresentation",id:"label",name:"Label",type:"amount",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,enableFractions:!1,currency:null}],2:[{fieldType:"FormFieldRepresentation",id:"label1",name:"Label1",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:"1507037670167",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label2",name:"Label2",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1}}},e.formReadonlyTwoTextFields={id:22,name:"formTextDefinition",processDefinitionId:"textDefinition:3:182",processDefinitionName:"textDefinition",processDefinitionKey:"textDefinition",taskId:"188",taskDefinitionKey:"sid-D941F49F-2B04-4FBB-9B49-9E95991993E8",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507044399260",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"firstname",name:"firstName",type:"readonly",value:"fakeFirstName",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2,field:{id:"firstname",name:"firstName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:0,sizeY:0,row:0,col:0,visibilityCondition:null}},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"lastname",name:"lastName",type:"readonly",value:"fakeLastName",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1,field:{id:"lastname",name:"lastName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:0,sizeY:0,row:0,col:0,visibilityCondition:null}},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formTest=Cs,e.formValues={test_1:"value_1",test_2:"value_2",test_3:"value_1",test_4:"dropdown_id",test_5:"dropdown_label",dropdown:{id:"dropdown_id",name:"dropdown_label"}},e.getFakeUserWithContentAdminCapability=function(){var e=Object.assign(Object.assign({},hs),{capabilities:{isAdmin:!0}});return{entry:new r.Person(e)}},e.getFakeUserWithContentUserCapability=function(){var e=Object.assign(Object.assign({},hs),{capabilities:{isAdmin:!1}});return{entry:new r.Person(e)}},e.groupsMockApi=Fs,e.info=Pn,e.mockApplicationDetails=Ds,e.mockError={error:{errorKey:"Search failed",statusCode:400,briefSummary:"08220082 search failed",stackTrace:"For security reasons the stack trace is no longer displayed, but the property is kept for previous versions.",descriptionURL:"https://api-explorer.alfresco.com"}},e.mockIdentityGroup1=xs,e.mockIdentityGroup2=Ss,e.mockIdentityGroup3=Ts,e.mockIdentityGroup4=As,e.mockIdentityGroup5=Os,e.mockIdentityGroups=Rs,e.mockIdentityGroupsCount={count:10},e.mockIdentityRoles=$s,e.mockToken="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiZmFtaWx5X25hbWUiOiJEb2UiLCJnaXZlbl9uYW1lIjoiSm9obiIsImFkbWluIjp0cnVlLCJlbWFpbCI6ImpvaG5Eb2VAZ21haWwuY29tIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiam9obkRvZTEiLCJqdGkiOiI2MmQ3YjA4NS1hNTJjLTRjZmEtYjA2Zi1hODFhN2IwNjRjZDIiLCJpYXQiOjE1NDM0MTA0NzcsImV4cCI6MTU0MzQxNTIxM30.pSP86kmX3keuU5E3ndaOUq2TzKdJRsuMnBdFz3Y-UEU",e.noRoleMappingApi=Ls,e.roleMappingApi=_s,e.roleMappingMock=Ps,e.rootInitiator=Dn,e.searchAnimation=Ql,e.searchMockApi=ws,e.setupTestBed=function(e){beforeAll((function(t){localStorage.clear(),sessionStorage.clear(),qs(),Ys(),J.TestBed.configureTestingModule(e),J.TestBed.compileComponents().then((function(){J.TestBed.resetTestingModule=function(){return J.TestBed},t()})).catch(t.fail)})),afterAll((function(){return Gs()}))},e.startFormAmountWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"amount",name:"amount widget",type:"amount",value:null}]}}]},e.startFormDateWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"date",name:"date",type:"date",value:null}]}}]},e.startFormDropdownDefinitionMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"RestFieldRepresentation",id:"mockTypeDropDown",name:"mock DropDown",type:"dropdown",value:"Chooseone...",required:!1,readOnly:!1,overrideId:!1,options:[{id:"empty",name:"Chooseone..."},{id:"opt1",name:"Option-1"},{id:"opt2",name:"Option-2"},{id:"opt3",name:"Option-3"},{id:"opt2",name:"Option-3"}]}]}}]},e.startFormNumberWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"number",name:"number widget",type:"integer",value:null}]}}]},e.startFormRadioButtonWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"RestFieldRepresentation",id:"radio-but",name:"radio-buttons",type:"radio-buttons",value:null}]}}]},e.startFormTextDefinitionMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"mocktext",name:"mockText",type:"text",value:null}]}}]},e.startMockForm={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",processDefinitionName:"ClaimReviewProcess",processDefinitionKey:"ClaimReviewProcess",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"clientname",name:"ClientName",type:"text",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"policyno",name:"PolicyNo",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterPolicyName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953270269,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"billAmount",name:"BillAmount",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterBillAmount",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"billdate",name:"BillDate",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:"billdate",params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953280930,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"claimtype",name:"ClaimType",type:"dropdown",value:"Chooseone...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Chooseone..."},{id:"cashless",name:"Cashless"},{id:"reimbursement",name:"Reimbursement"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"FormFieldRepresentation",id:"hospitalName",name:"HospitalName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterHospitalName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[{id:"approve",name:"Approve"},{id:"complete",name:"Complete"},{id:"start_process",name:"Start Process"}],javascriptEvents:[],className:"",style:"",metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D - M - YYYY"},e.startMockFormWithTab={id:4,taskName:"Mock Title",processDefinitionId:"ClaimReviewProcess:2: 93",processDefinitionName:"ClaimReviewProcess",processDefinitionKey:"ClaimReviewProcess",tabs:[{id:"form1",name:"Tab 1"},{id:"form2",name:"Tab 2"}],fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"clientname",name:"ClientName",type:"text",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"policyno",name:"PolicyNo",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterPolicyName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953270269,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"billAmount",name:"BillAmount",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterBillAmount",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"billdate",name:"BillDate",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:"billdate",params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953280930,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"claimtype",name:"ClaimType",type:"dropdown",value:"Chooseone...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Chooseone..."},{id:"cashless",name:"Cashless"},{id:"reimbursement",name:"Reimbursement"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"FormFieldRepresentation",id:"hospitalName",name:"HospitalName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterHospitalName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[{id:"approve",name:"Approve"},{id:"complete",name:"Complete"}],javascriptEvents:[],className:"",style:"",metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D - M - YYYY"},e.tabInvalidFormVisibility={id:"form-0668939d-34b2-440c-ab4d-01ab8b05a881",name:"tab-visibility",description:"",version:0,standalone:!0,tabs:[{id:"a8a4718d-5019-4852-9645-bba9b8253d86",title:"tab1",visibilityCondition:{leftType:"field",leftValue:"Text1",operator:"==",rightValue:"showtab",rightType:"value",nextConditionOperator:"",nextCondition:null}},{id:"bb9033ca-55ef-432a-8120-bffc8a179ebb",title:"tab2",visibilityCondition:null}],formDefinition:{fields:[{id:"093270a5-6e28-4cf0-a72a-09731c0d59fd",name:"Label",type:"container",tab:"a8a4718d-5019-4852-9645-bba9b8253d86",numberOfColumns:2,fields:{1:[{id:"Number1",name:"Number1",type:"integer",colspan:1,placeholder:null,minValue:null,maxValue:null,required:!1,visibilityCondition:null,params:{existingColspan:1,maxColspan:2}},{id:"Number2",name:"Number2",type:"integer",colspan:1,placeholder:null,minValue:null,maxValue:null,required:!1,visibilityCondition:{leftType:"field",leftValue:"Text2",operator:"==",rightValue:"shownumber",rightType:"value",nextConditionOperator:"",nextCondition:null},params:{existingColspan:1,maxColspan:2}}],2:[{id:"Text2",name:"Text2",type:"text",required:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,regexPattern:null,visibilityCondition:null,params:{existingColspan:1,maxColspan:2}}]}},{id:"c33579eb-3514-42cc-832d-2998d06a3eab",name:"Label",type:"container",tab:"bb9033ca-55ef-432a-8120-bffc8a179ebb",numberOfColumns:2,fields:{1:[{id:"Text1",name:"Text1",type:"text",required:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,regexPattern:null,visibilityCondition:null,params:{existingColspan:1,maxColspan:2}}],2:[]}}],outcomes:[],metadata:{},variables:[]}},e.tabVisibilityJsonMock={id:45231,name:"visibility-form",description:"",version:2,lastUpdatedBy:4255,lastUpdatedByFullName:"first last",lastUpdated:"2019-08-26T08: 04: 02.091+0000",stencilSetId:null,referenceId:null,tabs:[{id:"tab1",title:"tab1",visibilityCondition:null},{id:"tab2",title:"Tab2",visibilityCondition:{leftFormFieldId:"label",leftRestResponseId:null,operator:"==",rightValue:"text",rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"",nextCondition:null}}],formDefinition:{fields:[{fieldType:"ContainerRepresentation",id:"1566806229182",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label",name:"Label",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1}},e.transformKeyToObject=la,e.updateGroupMappingApi=Ms,e.warning=_n,e.ɵ0=Na,e.ɵ1=Ma,e.ɵ2=Ua,e.ɵ3=ks,e.ɵ4=Ns,e.ɵ5=Us,e.ɵ6=Bs,e.ɵa=da,e.ɵb=Da,e.ɵc=qe,e.ɵd=He,e.ɵe=ze,e.ɵf=$e,e.ɵg=Mt,e.ɵh=mi,e.ɵj=nr,e.ɵk=Qr,e.ɵl=Zr,e.ɵm=xa,e.ɵn=Kl,e.ɵo=Ws,e.ɵp=Xs,e.ɵq=Ks,e.ɵr=Js,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=adf-core.umd.min.js.map