import { Injectable } from '@angular/core';
import { QueriesApi, SearchApi } from '@alfresco/js-api';
import { Subject, from, throwError } from 'rxjs';
import { AlfrescoApiService } from './alfresco-api.service';
import { SearchConfigurationService } from './search-configuration.service';
import * as i0 from "@angular/core";
import * as i1 from "./alfresco-api.service";
import * as i2 from "./search-configuration.service";
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from './alfresco-api.service';
import * as ɵngcc2 from './search-configuration.service';
export class SearchService {
    constructor(apiService, searchConfigurationService) {
        this.apiService = apiService;
        this.searchConfigurationService = searchConfigurationService;
        this.dataLoaded = new Subject();
    }
    get queriesApi() {
        var _a;
        this._queriesApi = (_a = this._queriesApi) !== null && _a !== void 0 ? _a : new QueriesApi(this.apiService.getInstance());
        return this._queriesApi;
    }
    get searchApi() {
        var _a;
        this._searchApi = (_a = this._searchApi) !== null && _a !== void 0 ? _a : new SearchApi(this.apiService.getInstance());
        return this._searchApi;
    }
    getNodeQueryResults(term, options) {
        const promise = this.queriesApi.findNodes(term, options);
        promise.then((nodePaging) => {
            this.dataLoaded.next(nodePaging);
        }).catch((err) => this.handleError(err));
        return from(promise);
    }
    search(searchTerm, maxResults, skipCount) {
        const searchQuery = Object.assign(this.searchConfigurationService.generateQueryBody(searchTerm, maxResults, skipCount));
        const promise = this.searchApi.search(searchQuery);
        promise.then((nodePaging) => {
            this.dataLoaded.next(nodePaging);
        }).catch((err) => this.handleError(err));
        return from(promise);
    }
    searchByQueryBody(queryBody) {
        const promise = this.searchApi.search(queryBody);
        promise.then((nodePaging) => {
            this.dataLoaded.next(nodePaging);
        }).catch((err) => this.handleError(err));
        return from(promise);
    }
    handleError(error) {
        return throwError(error || 'Server error');
    }
}
SearchService.ɵfac = function SearchService_Factory(t) { return new (t || SearchService)(ɵngcc0.ɵɵinject(ɵngcc1.AlfrescoApiService), ɵngcc0.ɵɵinject(ɵngcc2.SearchConfigurationService)); };
SearchService.ɵprov = i0.ɵɵdefineInjectable({ factory: function SearchService_Factory() { return new SearchService(i0.ɵɵinject(i1.AlfrescoApiService), i0.ɵɵinject(i2.SearchConfigurationService)); }, token: SearchService, providedIn: "root" });
SearchService.ctorParameters = () => [
    { type: AlfrescoApiService },
    { type: SearchConfigurationService }
];
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(SearchService, [{
        type: Injectable,
        args: [{
                providedIn: 'root'
            }]
    }], function () { return [{ type: ɵngcc1.AlfrescoApiService }, { type: ɵngcc2.SearchConfigurationService }]; }, null); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VhcmNoLnNlcnZpY2UuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2hvbWUvdHJhdmlzL2J1aWxkL0FsZnJlc2NvL2FsZnJlc2NvLW5nMi1jb21wb25lbnRzL2xpYi9jb3JlL3NlcnZpY2VzL3NlYXJjaC5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlCQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBYyxVQUFVLEVBQThCLFNBQVMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2pHLE9BQU8sRUFBYyxPQUFPLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUM3RCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUM1RTtBQUVzQjtBQUlWOzs7O0FBRlosTUFBTSxPQUFPLGFBQWE7QUFDMUIsSUFlSSxZQUFvQixVQUE4QixFQUM5QiwwQkFBc0Q7QUFDOUUsUUFGd0IsZUFBVSxHQUFWLFVBQVUsQ0FBb0I7QUFBQyxRQUMvQiwrQkFBMEIsR0FBMUIsMEJBQTBCLENBQTRCO0FBQUMsUUFmM0UsZUFBVSxHQUE2QixJQUFJLE9BQU8sRUFBRSxDQUFDO0FBQ3pELElBZUksQ0FBQztBQUNMLElBZEksSUFBSSxVQUFVO0FBQUs7QUFDbkIsUUFBSSxJQUFJLENBQUMsV0FBVyxTQUFHLElBQUksQ0FBQyxXQUFXLG1DQUFJLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztBQUM3RixRQUFRLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztBQUNoQyxJQUFJLENBQUM7QUFDTCxJQUVJLElBQUksU0FBUztBQUFLO0FBQ2pCLFFBQUcsSUFBSSxDQUFDLFVBQVUsU0FBRyxJQUFJLENBQUMsVUFBVSxtQ0FBSSxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7QUFDMUYsUUFBUSxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7QUFDL0IsSUFBSSxDQUFDO0FBQ0wsSUFXSSxtQkFBbUIsQ0FBQyxJQUFZLEVBQUUsT0FBdUI7QUFBSSxRQUN6RCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDakUsUUFDUSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsVUFBc0IsRUFBRSxFQUFFO0FBQ2hELFlBQVksSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDN0MsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNqRCxRQUNRLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzdCLElBQUksQ0FBQztBQUNMLElBUUksTUFBTSxDQUFDLFVBQWtCLEVBQUUsVUFBa0IsRUFBRSxTQUFpQjtBQUFJLFFBQ2hFLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLDBCQUEwQixDQUFDLGlCQUFpQixDQUFDLFVBQVUsRUFBRSxVQUFVLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQztBQUNoSSxRQUFRLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQzNELFFBQ1EsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLFVBQXNCLEVBQUUsRUFBRTtBQUNoRCxZQUFZLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQzdDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDakQsUUFDUSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM3QixJQUFJLENBQUM7QUFDTCxJQU1JLGlCQUFpQixDQUFDLFNBQW9CO0FBQUksUUFDdEMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDekQsUUFDUSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsVUFBc0IsRUFBRSxFQUFFO0FBQ2hELFlBQVksSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDN0MsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNqRCxRQUNRLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzdCLElBQUksQ0FBQztBQUNMLElBQ1ksV0FBVyxDQUFDLEtBQVU7QUFBSSxRQUM5QixPQUFPLFVBQVUsQ0FBQyxLQUFLLElBQUksY0FBYyxDQUFDLENBQUM7QUFDbkQsSUFBSSxDQUFDO0FBQ0w7NExBQUM7QUFDRCxtUEF6RUs7QUFBQztFQUhMLFVBQVUsU0FBQyxyQkFLRyxZQVJOLGtCQUFrQjtLQUl2QixVQUFVLEVBQUUsTUFBTSxjQUNyQixyQ0FMOEIsWUFDdEIsMEJBQTBCO0FBQUc7Ozs7OztnSUFBRTtBQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTm9kZVBhZ2luZywgUXVlcmllc0FwaSwgUXVlcnlCb2R5LCBSZXN1bHRTZXRQYWdpbmcsIFNlYXJjaEFwaSB9IGZyb20gJ0BhbGZyZXNjby9qcy1hcGknO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgU3ViamVjdCwgZnJvbSwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQWxmcmVzY29BcGlTZXJ2aWNlIH0gZnJvbSAnLi9hbGZyZXNjby1hcGkuc2VydmljZSc7XG5pbXBvcnQgeyBTZWFyY2hDb25maWd1cmF0aW9uU2VydmljZSB9IGZyb20gJy4vc2VhcmNoLWNvbmZpZ3VyYXRpb24uc2VydmljZSc7XG5cbkBJbmplY3RhYmxlKHtcbiAgICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgU2VhcmNoU2VydmljZSB7XG5cbiAgICBkYXRhTG9hZGVkOiBTdWJqZWN0PFJlc3VsdFNldFBhZ2luZz4gPSBuZXcgU3ViamVjdCgpO1xuXG4gICAgX3F1ZXJpZXNBcGk6IFF1ZXJpZXNBcGk7XG4gICAgZ2V0IHF1ZXJpZXNBcGkoKTogUXVlcmllc0FwaSB7XG4gICAgICAgIHRoaXMuX3F1ZXJpZXNBcGkgPSB0aGlzLl9xdWVyaWVzQXBpID8/IG5ldyBRdWVyaWVzQXBpKHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1ZXJpZXNBcGk7XG4gICAgfVxuXG4gICAgX3NlYXJjaEFwaTogU2VhcmNoQXBpO1xuICAgIGdldCBzZWFyY2hBcGkoKTogU2VhcmNoQXBpIHtcbiAgICAgICAgdGhpcy5fc2VhcmNoQXBpID0gdGhpcy5fc2VhcmNoQXBpID8/IG5ldyBTZWFyY2hBcGkodGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VhcmNoQXBpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpU2VydmljZTogQWxmcmVzY29BcGlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgc2VhcmNoQ29uZmlndXJhdGlvblNlcnZpY2U6IFNlYXJjaENvbmZpZ3VyYXRpb25TZXJ2aWNlKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIGxpc3Qgb2Ygbm9kZXMgdGhhdCBtYXRjaCB0aGUgZ2l2ZW4gc2VhcmNoIGNyaXRlcmlhLlxuICAgICAqIEBwYXJhbSB0ZXJtIFRlcm0gdG8gc2VhcmNoIGZvclxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgZm9yIGRlbGl2ZXJ5IG9mIHRoZSBzZWFyY2ggcmVzdWx0c1xuICAgICAqIEByZXR1cm5zIExpc3Qgb2Ygbm9kZXMgcmVzdWx0aW5nIGZyb20gdGhlIHNlYXJjaFxuICAgICAqL1xuICAgIGdldE5vZGVRdWVyeVJlc3VsdHModGVybTogc3RyaW5nLCBvcHRpb25zPzogU2VhcmNoT3B0aW9ucyk6IE9ic2VydmFibGU8Tm9kZVBhZ2luZz4ge1xuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5xdWVyaWVzQXBpLmZpbmROb2Rlcyh0ZXJtLCBvcHRpb25zKTtcblxuICAgICAgICBwcm9taXNlLnRoZW4oKG5vZGVQYWdpbmc6IE5vZGVQYWdpbmcpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxvYWRlZC5uZXh0KG5vZGVQYWdpbmcpO1xuICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpO1xuXG4gICAgICAgIHJldHVybiBmcm9tKHByb21pc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgc2VhcmNoLlxuICAgICAqIEBwYXJhbSBzZWFyY2hUZXJtIFRlcm0gdG8gc2VhcmNoIGZvclxuICAgICAqIEBwYXJhbSBtYXhSZXN1bHRzIE1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIGluIHRoZSBsaXN0IG9mIHJlc3VsdHNcbiAgICAgKiBAcGFyYW0gc2tpcENvdW50IE51bWJlciBvZiBoaWdoZXItcmFua2VkIGl0ZW1zIHRvIHNraXAgb3ZlciBpbiB0aGUgbGlzdFxuICAgICAqIEByZXR1cm5zIExpc3Qgb2Ygc2VhcmNoIHJlc3VsdHNcbiAgICAgKi9cbiAgICBzZWFyY2goc2VhcmNoVGVybTogc3RyaW5nLCBtYXhSZXN1bHRzOiBudW1iZXIsIHNraXBDb3VudDogbnVtYmVyKTogT2JzZXJ2YWJsZTxSZXN1bHRTZXRQYWdpbmc+IHtcbiAgICAgICAgY29uc3Qgc2VhcmNoUXVlcnkgPSBPYmplY3QuYXNzaWduKHRoaXMuc2VhcmNoQ29uZmlndXJhdGlvblNlcnZpY2UuZ2VuZXJhdGVRdWVyeUJvZHkoc2VhcmNoVGVybSwgbWF4UmVzdWx0cywgc2tpcENvdW50KSk7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnNlYXJjaEFwaS5zZWFyY2goc2VhcmNoUXVlcnkpO1xuXG4gICAgICAgIHByb21pc2UudGhlbigobm9kZVBhZ2luZzogTm9kZVBhZ2luZykgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYXRhTG9hZGVkLm5leHQobm9kZVBhZ2luZyk7XG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSk7XG5cbiAgICAgICAgcmV0dXJuIGZyb20ocHJvbWlzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBzZWFyY2ggd2l0aCBpdHMgcGFyYW1ldGVycyBzdXBwbGllZCBieSBhIFF1ZXJ5Qm9keSBvYmplY3QuXG4gICAgICogQHBhcmFtIHF1ZXJ5Qm9keSBPYmplY3QgY29udGFpbmluZyB0aGUgc2VhcmNoIHBhcmFtZXRlcnNcbiAgICAgKiBAcmV0dXJucyBMaXN0IG9mIHNlYXJjaCByZXN1bHRzXG4gICAgICovXG4gICAgc2VhcmNoQnlRdWVyeUJvZHkocXVlcnlCb2R5OiBRdWVyeUJvZHkpOiBPYnNlcnZhYmxlPFJlc3VsdFNldFBhZ2luZz4ge1xuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5zZWFyY2hBcGkuc2VhcmNoKHF1ZXJ5Qm9keSk7XG5cbiAgICAgICAgcHJvbWlzZS50aGVuKChub2RlUGFnaW5nOiBOb2RlUGFnaW5nKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGFMb2FkZWQubmV4dChub2RlUGFnaW5nKTtcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKTtcblxuICAgICAgICByZXR1cm4gZnJvbShwcm9taXNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKGVycm9yOiBhbnkpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihlcnJvciB8fCAnU2VydmVyIGVycm9yJyk7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlYXJjaE9wdGlvbnMge1xuICAgIC8qKiBUaGUgbnVtYmVyIG9mIGVudGl0aWVzIHRoYXQgZXhpc3QgaW4gdGhlIGNvbGxlY3Rpb24gYmVmb3JlIHRob3NlIGluY2x1ZGVkIGluIHRoaXMgbGlzdC4gKi9cbiAgICBza2lwQ291bnQ/OiBudW1iZXI7XG5cbiAgICAvKiogVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRvIHJldHVybiBpbiB0aGUgbGlzdC4gKi9cbiAgICBtYXhJdGVtcz86IG51bWJlcjtcblxuICAgIC8qKiBUaGUgaWQgb2YgdGhlIG5vZGUgdG8gc3RhcnQgdGhlIHNlYXJjaCBmcm9tLiBTdXBwb3J0cyB0aGUgYWxpYXNlcyAtbXktLCAtcm9vdC0gYW5kIC1zaGFyZWQtLiAqL1xuICAgIHJvb3ROb2RlSWQ/OiBzdHJpbmc7XG5cbiAgICAvKiogUmVzdHJpY3QgdGhlIHJldHVybmVkIHJlc3VsdHMgdG8gb25seSB0aG9zZSBvZiB0aGUgZ2l2ZW4gbm9kZSB0eXBlIGFuZCBpdHMgc3ViLXR5cGVzLiAqL1xuICAgIG5vZGVUeXBlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG5vZGUuIFRoZSBhdmFpbGFibGUgb3B0aW9uYWwgZmllbGRzIGFyZTpcbiAgICAgKiBgYWxsb3dhYmxlT3BlcmF0aW9uc2AsIGBhc3BlY3ROYW1lc2AsIGBpc0xpbmtgLCBgaXNMb2NrZWRgLCBgcGF0aGAgYW5kIGBwcm9wZXJ0aWVzYC5cbiAgICAgKi9cbiAgICBpbmNsdWRlPzogc3RyaW5nW107XG5cbiAgICAvKipcbiAgICAgKiBTdHJpbmcgdG8gY29udHJvbCB0aGUgb3JkZXIgb2YgdGhlIGVudGl0aWVzIHJldHVybmVkIGluIGEgbGlzdC4gWW91IGNhbiB1c2UgdGhpc1xuICAgICAqIHBhcmFtZXRlciB0byBzb3J0IHRoZSBsaXN0IGJ5IG9uZSBvciBtb3JlIGZpZWxkcy4gRWFjaCBmaWVsZCBoYXMgYSBkZWZhdWx0IHNvcnQgb3JkZXIsXG4gICAgICogd2hpY2ggaXMgbm9ybWFsbHkgYXNjZW5kaW5nIG9yZGVyIChidXQgc2VlIHRoZSBKUy1BUEkgZG9jcyB0byBjaGVjayBpZiBhbnkgZmllbGRzIHVzZWRcbiAgICAgKiBpbiBhIG1ldGhvZCBoYXZlIGEgZGVzY2VuZGluZyBkZWZhdWx0IHNlYXJjaCBvcmRlcikuIFRvIHNvcnQgdGhlIGVudGl0aWVzIGluIGEgc3BlY2lmaWNcbiAgICAgKiBvcmRlciwgeW91IGNhbiB1c2UgdGhlIFwiQVNDXCIgYW5kIFwiREVTQ1wiIGtleXdvcmRzIGZvciBhbnkgZmllbGQuXG4gICAgICovXG4gICAgb3JkZXJCeT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgZmllbGQgbmFtZXMuIFlvdSBjYW4gdXNlIHRoaXMgcGFyYW1ldGVyIHRvIHJlc3RyaWN0IHRoZSBmaWVsZHMgcmV0dXJuZWQgd2l0aGluXG4gICAgICogYSByZXNwb25zZSBpZiwgZm9yIGV4YW1wbGUsIHlvdSB3YW50IHRvIHNhdmUgb24gb3ZlcmFsbCBiYW5kd2lkdGguIFRoZSBsaXN0IGFwcGxpZXMgdG8gYVxuICAgICAqIHJldHVybmVkIGluZGl2aWR1YWwgZW50aXR5IG9yIGVudHJpZXMgd2l0aGluIGEgY29sbGVjdGlvbi4gSWYgdGhlIEFQSSBtZXRob2QgYWxzbyBzdXBwb3J0c1xuICAgICAqIHRoZSBgaW5jbHVkZWAgcGFyYW1ldGVyLCB0aGVuIHRoZSBmaWVsZHMgc3BlY2lmaWVkIGluIHRoZSBpbmNsdWRlIHBhcmFtZXRlciBhcmUgcmV0dXJuZWQgaW5cbiAgICAgKiBhZGRpdGlvbiB0byB0aG9zZSBzcGVjaWZpZWQgaW4gdGhlIGZpZWxkcyBwYXJhbWV0ZXIuXG4gICAgICovXG4gICAgZmllbGRzPzogc3RyaW5nW107XG59XG4iXX0=