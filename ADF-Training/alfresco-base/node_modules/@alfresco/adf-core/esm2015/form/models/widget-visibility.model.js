/*!
 * @license
 * Copyright 2019 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
export class WidgetVisibilityModel {
    constructor(json) {
        this.json = json;
        if (json) {
            this.operator = json.operator;
            this.nextCondition = new WidgetVisibilityModel(json.nextCondition);
            this.nextConditionOperator = json.nextConditionOperator;
            this.rightRestResponseId = json.rightRestResponseId;
            this.rightFormFieldId = json.rightFormFieldId;
            this.leftFormFieldId = json.leftFormFieldId;
            this.leftRestResponseId = json.leftRestResponseId;
        }
        else {
            this.json = {};
        }
    }
    get leftType() {
        if (this.leftFormFieldId) {
            return WidgetTypeEnum.field;
        }
        else if (this.leftRestResponseId) {
            return WidgetTypeEnum.variable;
        }
        else if (!!this.json.leftType) {
            return this.json.leftType;
        }
        return null;
    }
    set leftType(leftType) {
        this.json.leftType = leftType;
    }
    get leftValue() {
        if (this.json.leftValue) {
            return this.json.leftValue;
        }
        else if (this.leftFormFieldId) {
            return this.leftFormFieldId;
        }
        else {
            return this.leftRestResponseId;
        }
    }
    set leftValue(leftValue) {
        this.json.leftValue = leftValue;
    }
    get rightType() {
        if (!!this.json.rightType) {
            return this.json.rightType;
        }
        else if (this.json.rightValue) {
            return WidgetTypeEnum.value;
        }
        else if (this.rightRestResponseId) {
            return WidgetTypeEnum.variable;
        }
        else if (this.rightFormFieldId) {
            return WidgetTypeEnum.field;
        }
        return null;
    }
    set rightType(rightType) {
        this.json.rightType = rightType;
    }
    get rightValue() {
        if (this.json.rightValue) {
            return this.json.rightValue;
        }
        else if (this.rightFormFieldId) {
            return this.rightFormFieldId;
        }
        else {
            return this.rightRestResponseId;
        }
    }
    set rightValue(rightValue) {
        this.json.rightValue = rightValue;
    }
}
export var WidgetTypeEnum;
(function (WidgetTypeEnum) {
    WidgetTypeEnum["field"] = "field";
    WidgetTypeEnum["variable"] = "variable";
    WidgetTypeEnum["value"] = "value";
})(WidgetTypeEnum || (WidgetTypeEnum = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0LXZpc2liaWxpdHkubW9kZWwuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhdmlzL2J1aWxkL0FsZnJlc2NvL2FsZnJlc2NvLW5nMi1jb21wb25lbnRzL2xpYi9jb3JlLyIsInNvdXJjZXMiOlsiZm9ybS9tb2RlbHMvd2lkZ2V0LXZpc2liaWxpdHkubW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7OztHQWVHO0FBRUgsTUFBTSxPQUFPLHFCQUFxQjtJQVM5QixZQUFvQixJQUFVO1FBQVYsU0FBSSxHQUFKLElBQUksQ0FBTTtRQUMxQixJQUFJLElBQUksRUFBRTtZQUNOLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUM5QixJQUFJLENBQUMsYUFBYSxHQUFHLElBQUkscUJBQXFCLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQ25FLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUMscUJBQXFCLENBQUM7WUFDeEQsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztZQUNwRCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDO1lBQzlDLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQztZQUM1QyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDO1NBQ3JEO2FBQU07WUFDSCxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztTQUNsQjtJQUNMLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDUixJQUFJLElBQUksQ0FBQyxlQUFlLEVBQUU7WUFDdEIsT0FBTyxjQUFjLENBQUMsS0FBSyxDQUFDO1NBQy9CO2FBQU0sSUFBSSxJQUFJLENBQUMsa0JBQWtCLEVBQUU7WUFDaEMsT0FBTyxjQUFjLENBQUMsUUFBUSxDQUFDO1NBQ2xDO2FBQU0sSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDN0IsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztTQUM3QjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxJQUFJLFFBQVEsQ0FBQyxRQUFnQjtRQUN6QixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7SUFDbEMsQ0FBQztJQUVELElBQUksU0FBUztRQUNULElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDckIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztTQUM5QjthQUFNLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtZQUM3QixPQUFPLElBQUksQ0FBQyxlQUFlLENBQUM7U0FDL0I7YUFBTTtZQUNILE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDO1NBQ2xDO0lBQ0wsQ0FBQztJQUVELElBQUksU0FBUyxDQUFDLFNBQWM7UUFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxJQUFJLFNBQVM7UUFDVCxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUN2QixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1NBQzlCO2FBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUM3QixPQUFPLGNBQWMsQ0FBQyxLQUFLLENBQUM7U0FDL0I7YUFBTSxJQUFJLElBQUksQ0FBQyxtQkFBbUIsRUFBRTtZQUNqQyxPQUFPLGNBQWMsQ0FBQyxRQUFRLENBQUM7U0FDbEM7YUFBTSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUM5QixPQUFPLGNBQWMsQ0FBQyxLQUFLLENBQUM7U0FDL0I7UUFFRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsSUFBSSxTQUFTLENBQUMsU0FBaUI7UUFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDVixJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ3RCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7U0FDL0I7YUFBTSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUM5QixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztTQUNoQzthQUFNO1lBQ0gsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUM7U0FDbkM7SUFDTCxDQUFDO0lBRUQsSUFBSSxVQUFVLENBQUMsVUFBZTtRQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDdEMsQ0FBQztDQUNKO0FBRUQsTUFBTSxDQUFOLElBQVksY0FJWDtBQUpELFdBQVksY0FBYztJQUN0QixpQ0FBZSxDQUFBO0lBQ2YsdUNBQXFCLENBQUE7SUFDckIsaUNBQWUsQ0FBQTtBQUNuQixDQUFDLEVBSlcsY0FBYyxLQUFkLGNBQWMsUUFJekIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgY2xhc3MgV2lkZ2V0VmlzaWJpbGl0eU1vZGVsIHtcbiAgICByaWdodFJlc3RSZXNwb25zZUlkPzogc3RyaW5nO1xuICAgIHJpZ2h0Rm9ybUZpZWxkSWQ/OiBzdHJpbmc7XG4gICAgbGVmdFJlc3RSZXNwb25zZUlkPzogc3RyaW5nO1xuICAgIGxlZnRGb3JtRmllbGRJZD86IHN0cmluZztcbiAgICBvcGVyYXRvcjogc3RyaW5nO1xuICAgIG5leHRDb25kaXRpb246IFdpZGdldFZpc2liaWxpdHlNb2RlbDtcbiAgICBuZXh0Q29uZGl0aW9uT3BlcmF0b3I6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUganNvbj86IGFueSkge1xuICAgICAgICBpZiAoanNvbikge1xuICAgICAgICAgICAgdGhpcy5vcGVyYXRvciA9IGpzb24ub3BlcmF0b3I7XG4gICAgICAgICAgICB0aGlzLm5leHRDb25kaXRpb24gPSBuZXcgV2lkZ2V0VmlzaWJpbGl0eU1vZGVsKGpzb24ubmV4dENvbmRpdGlvbik7XG4gICAgICAgICAgICB0aGlzLm5leHRDb25kaXRpb25PcGVyYXRvciA9IGpzb24ubmV4dENvbmRpdGlvbk9wZXJhdG9yO1xuICAgICAgICAgICAgdGhpcy5yaWdodFJlc3RSZXNwb25zZUlkID0ganNvbi5yaWdodFJlc3RSZXNwb25zZUlkO1xuICAgICAgICAgICAgdGhpcy5yaWdodEZvcm1GaWVsZElkID0ganNvbi5yaWdodEZvcm1GaWVsZElkO1xuICAgICAgICAgICAgdGhpcy5sZWZ0Rm9ybUZpZWxkSWQgPSBqc29uLmxlZnRGb3JtRmllbGRJZDtcbiAgICAgICAgICAgIHRoaXMubGVmdFJlc3RSZXNwb25zZUlkID0ganNvbi5sZWZ0UmVzdFJlc3BvbnNlSWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmpzb24gPSB7fTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBsZWZ0VHlwZSgpOiBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy5sZWZ0Rm9ybUZpZWxkSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBXaWRnZXRUeXBlRW51bS5maWVsZDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxlZnRSZXN0UmVzcG9uc2VJZCkge1xuICAgICAgICAgICAgcmV0dXJuIFdpZGdldFR5cGVFbnVtLnZhcmlhYmxlO1xuICAgICAgICB9IGVsc2UgaWYgKCEhdGhpcy5qc29uLmxlZnRUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5qc29uLmxlZnRUeXBlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHNldCBsZWZ0VHlwZShsZWZ0VHlwZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuanNvbi5sZWZ0VHlwZSA9IGxlZnRUeXBlO1xuICAgIH1cblxuICAgIGdldCBsZWZ0VmFsdWUoKTogYW55IHtcbiAgICAgICAgaWYgKHRoaXMuanNvbi5sZWZ0VmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmpzb24ubGVmdFZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubGVmdEZvcm1GaWVsZElkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZWZ0Rm9ybUZpZWxkSWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZWZ0UmVzdFJlc3BvbnNlSWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXQgbGVmdFZhbHVlKGxlZnRWYWx1ZTogYW55KSB7XG4gICAgICAgIHRoaXMuanNvbi5sZWZ0VmFsdWUgPSBsZWZ0VmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IHJpZ2h0VHlwZSgpOiBzdHJpbmcge1xuICAgICAgICBpZiAoISF0aGlzLmpzb24ucmlnaHRUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5qc29uLnJpZ2h0VHlwZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmpzb24ucmlnaHRWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIFdpZGdldFR5cGVFbnVtLnZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmlnaHRSZXN0UmVzcG9uc2VJZCkge1xuICAgICAgICAgICAgcmV0dXJuIFdpZGdldFR5cGVFbnVtLnZhcmlhYmxlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmlnaHRGb3JtRmllbGRJZCkge1xuICAgICAgICAgICAgcmV0dXJuIFdpZGdldFR5cGVFbnVtLmZpZWxkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc2V0IHJpZ2h0VHlwZShyaWdodFR5cGU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmpzb24ucmlnaHRUeXBlID0gcmlnaHRUeXBlO1xuICAgIH1cblxuICAgIGdldCByaWdodFZhbHVlKCk6IGFueSB7XG4gICAgICAgIGlmICh0aGlzLmpzb24ucmlnaHRWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuanNvbi5yaWdodFZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmlnaHRGb3JtRmllbGRJZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmlnaHRGb3JtRmllbGRJZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJpZ2h0UmVzdFJlc3BvbnNlSWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXQgcmlnaHRWYWx1ZShyaWdodFZhbHVlOiBhbnkpIHtcbiAgICAgICAgdGhpcy5qc29uLnJpZ2h0VmFsdWUgPSByaWdodFZhbHVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGVudW0gV2lkZ2V0VHlwZUVudW0ge1xuICAgIGZpZWxkID0gJ2ZpZWxkJyxcbiAgICB2YXJpYWJsZSA9ICd2YXJpYWJsZScsXG4gICAgdmFsdWUgPSAndmFsdWUnXG59XG4iXX0=