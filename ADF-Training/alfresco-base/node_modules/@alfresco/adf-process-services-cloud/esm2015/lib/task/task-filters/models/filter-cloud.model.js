/*!
 * @license
 * Copyright 2019 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { DateRangeFilterService } from '../../../common/date-range-filter/date-range-filter.service';
export class TaskFilterCloudModel {
    constructor(obj) {
        this.dateRangeFilterService = new DateRangeFilterService();
        if (obj) {
            this.id = obj.id || Math.random().toString(36).substr(2, 9);
            this.name = obj.name || null;
            this.key = obj.key || null;
            this.icon = obj.icon || null;
            this.index = obj.index || null;
            this.appName = obj.appName || obj.appName === '' ? obj.appName : null;
            this.status = obj.status || null;
            this.sort = obj.sort || null;
            this.assignee = obj.assignee || null;
            this.order = obj.order || null;
            this.owner = obj.owner || null;
            this.processDefinitionName = obj.processDefinitionName || null;
            this.processDefinitionId = obj.processDefinitionId || null;
            this.processInstanceId = obj.processInstanceId || null;
            this.createdDate = obj.createdDate || null;
            this.dueDateType = obj.dueDateType || null;
            this.dueDate = obj.dueDate || null;
            this._dueDateFrom = obj._dueDateFrom || null;
            this._dueDateTo = obj._dueDateTo || null;
            this.taskName = obj.taskName || null;
            this.taskId = obj.taskId || null;
            this.parentTaskId = obj.parentTaskId || null;
            this.priority = obj.priority || null;
            this.standalone = obj.standalone || null;
            this.lastModifiedFrom = obj.lastModifiedFrom || null;
            this.lastModifiedTo = obj.lastModifiedTo || null;
            this.completedBy = obj.completedBy || null;
            this.completedDateType = obj.completedDateType || null;
            this.completedFrom = obj._completedFrom || null;
            this.completedTo = obj._completedTo || null;
            this.completedDate = obj.completedDate || null;
            this.createdDateType = obj.createdDateType || null;
            this.createdFrom = obj._createdFrom || null;
            this.createdTo = obj._createdTo || null;
            this.candidateGroups = obj.candidateGroups || null;
            this.showCounter = obj.showCounter || false;
        }
    }
    set dueDateFrom(dueDateFrom) {
        this._dueDateFrom = dueDateFrom;
    }
    set dueDateTo(dueDateTo) {
        this._dueDateTo = dueDateTo;
    }
    get dueDateFrom() {
        if (this.isDateRangeType(this.dueDateType)) {
            return this._dueDateFrom;
        }
        return this.getStartDate(this.dueDateType);
    }
    get dueDateTo() {
        if (this.isDateRangeType(this.dueDateType)) {
            return this._dueDateTo;
        }
        return this.getEndDate(this.dueDateType);
    }
    set completedFrom(completedFrom) {
        this._completedFrom = completedFrom;
    }
    set completedTo(completedTo) {
        this._completedTo = completedTo;
    }
    get completedFrom() {
        if (this.isDateRangeType(this.completedDateType)) {
            return this._completedFrom;
        }
        return this.getStartDate(this.completedDateType);
    }
    get completedTo() {
        if (this.isDateRangeType(this.completedDateType)) {
            return this._completedTo;
        }
        return this.getEndDate(this.completedDateType);
    }
    set createdFrom(createdFrom) {
        this._createdFrom = createdFrom;
    }
    set createdTo(createdTo) {
        this._createdTo = createdTo;
    }
    get createdFrom() {
        if (this.isDateRangeType(this.createdDateType)) {
            return this._createdFrom;
        }
        return this.getStartDate(this.createdDateType);
    }
    get createdTo() {
        if (this.isDateRangeType(this.createdDateType)) {
            return this._createdTo;
        }
        return this.getEndDate(this.createdDateType);
    }
    getStartDate(key) {
        return this.dateRangeFilterService.getDateRange(key).startDate;
    }
    getEndDate(key) {
        return this.dateRangeFilterService.getDateRange(key).endDate;
    }
    isDateRangeType(type) {
        return !!this.dateRangeFilterService.isDateRangeType(type);
    }
}
export var AssignmentType;
(function (AssignmentType) {
    AssignmentType["CURRENT_USER"] = "CURRENT_USER";
    AssignmentType["UNASSIGNED"] = "UNASSIGNED";
    AssignmentType["CANDIDATE_GROUPS"] = "CANDIDATE_GROUPS";
})(AssignmentType || (AssignmentType = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLWNsb3VkLm1vZGVsLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL3RyYXZpcy9idWlsZC9BbGZyZXNjby9hbGZyZXNjby1uZzItY29tcG9uZW50cy9saWIvcHJvY2Vzcy1zZXJ2aWNlcy1jbG91ZC9zcmMvIiwic291cmNlcyI6WyJsaWIvdGFzay90YXNrLWZpbHRlcnMvbW9kZWxzL2ZpbHRlci1jbG91ZC5tb2RlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7O0dBZUc7QUFHSCxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw2REFBNkQsQ0FBQztBQUlyRyxNQUFNLE9BQU8sb0JBQW9CO0lBeUM3QixZQUFZLEdBQVM7UUFGYiwyQkFBc0IsR0FBRyxJQUFJLHNCQUFzQixFQUFFLENBQUM7UUFHMUQsSUFBSSxHQUFHLEVBQUU7WUFDTCxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzVELElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUM7WUFDN0IsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQztZQUMzQixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDO1lBQzdCLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUM7WUFDL0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUMsT0FBTyxJQUFJLEdBQUcsQ0FBQyxPQUFPLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDdEUsSUFBSSxDQUFDLE1BQU0s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S0FBZCxjQUFjLFFBSXpCIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRGF0ZUNsb3VkRmlsdGVyVHlwZSB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9kYXRlLWNsb3VkLWZpbHRlci5tb2RlbCc7XG5pbXBvcnQgeyBEYXRlUmFuZ2VGaWx0ZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2RhdGUtcmFuZ2UtZmlsdGVyL2RhdGUtcmFuZ2UtZmlsdGVyLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29tcG9uZW50U2VsZWN0aW9uTW9kZSB9IGZyb20gJy4uLy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IElkZW50aXR5VXNlck1vZGVsLCBJZGVudGl0eUdyb3VwTW9kZWwgfSBmcm9tICdAYWxmcmVzY28vYWRmLWNvcmUnO1xuXG5leHBvcnQgY2xhc3MgVGFza0ZpbHRlckNsb3VkTW9kZWwgIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBrZXk6IHN0cmluZztcbiAgICBpY29uOiBzdHJpbmc7XG4gICAgaW5kZXg6IG51bWJlcjtcbiAgICBhcHBOYW1lOiBzdHJpbmc7XG4gICAgc3RhdHVzOiBzdHJpbmc7XG4gICAgc29ydDogc3RyaW5nO1xuICAgIGFzc2lnbmVlOiBzdHJpbmc7XG4gICAgY2FuZGlkYXRlR3JvdXBzOiBJZGVudGl0eUdyb3VwTW9kZWxbXTtcbiAgICBvcmRlcjogc3RyaW5nO1xuICAgIG93bmVyOiBzdHJpbmc7XG4gICAgcHJvY2Vzc0RlZmluaXRpb25OYW1lPzogc3RyaW5nO1xuICAgIHByb2Nlc3NEZWZpbml0aW9uSWQ6IHN0cmluZztcbiAgICBwcm9jZXNzSW5zdGFuY2VJZDogc3RyaW5nO1xuICAgIGNyZWF0ZWREYXRlOiBEYXRlO1xuICAgIGR1ZURhdGVUeXBlOiBEYXRlQ2xvdWRGaWx0ZXJUeXBlO1xuICAgIGR1ZURhdGU6IERhdGU7XG4gICAgdGFza05hbWU6IHN0cmluZztcbiAgICB0YXNrSWQ6IHN0cmluZztcbiAgICBwYXJlbnRUYXNrSWQ6IHN0cmluZztcbiAgICBwcmlvcml0eTogbnVtYmVyO1xuICAgIHN0YW5kYWxvbmU6IGJvb2xlYW47XG4gICAgbGFzdE1vZGlmaWVkRnJvbTogc3RyaW5nO1xuICAgIGxhc3RNb2RpZmllZFRvOiBzdHJpbmc7XG4gICAgY29tcGxldGVkRGF0ZVR5cGU6IERhdGVDbG91ZEZpbHRlclR5cGU7XG4gICAgY3JlYXRlZERhdGVUeXBlOiBEYXRlQ2xvdWRGaWx0ZXJUeXBlO1xuICAgIGFzc2lnbm1lbnRUeXBlOiBBc3NpZ25tZW50VHlwZTtcbiAgICBjb21wbGV0ZWREYXRlOiBEYXRlO1xuICAgIGNvbXBsZXRlZEJ5OiBJZGVudGl0eVVzZXJNb2RlbDtcbiAgICBzaG93Q291bnRlcjogYm9vbGVhbjtcblxuICAgIHByaXZhdGUgX2NvbXBsZXRlZEZyb206IHN0cmluZztcbiAgICBwcml2YXRlIF9jb21wbGV0ZWRUbzogc3RyaW5nO1xuICAgIHByaXZhdGUgX2R1ZURhdGVGcm9tOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfZHVlRGF0ZVRvOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfY3JlYXRlZEZyb206IHN0cmluZztcbiAgICBwcml2YXRlIF9jcmVhdGVkVG86IHN0cmluZztcbiAgICBwcml2YXRlIGRhdGVSYW5nZUZpbHRlclNlcnZpY2UgPSBuZXcgRGF0ZVJhbmdlRmlsdGVyU2VydmljZSgpO1xuXG4gICAgY29uc3RydWN0b3Iob2JqPzogYW55KSB7XG4gICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSBvYmouaWQgfHwgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gb2JqLm5hbWUgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMua2V5ID0gb2JqLmtleSB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5pY29uID0gb2JqLmljb24gfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBvYmouaW5kZXggfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYXBwTmFtZSA9IG9iai5hcHBOYW1lIHx8IG9iai5hcHBOYW1lID09PSAnJyA/IG9iai5hcHBOYW1lIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gb2JqLnN0YXR1cyB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5zb3J0ID0gb2JqLnNvcnQgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYXNzaWduZWUgPSBvYmouYXNzaWduZWUgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMub3JkZXIgPSBvYmoub3JkZXIgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMub3duZXIgPSBvYmoub3duZXIgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0RlZmluaXRpb25OYW1lID0gb2JqLnByb2Nlc3NEZWZpbml0aW9uTmFtZSB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzRGVmaW5pdGlvbklkID0gb2JqLnByb2Nlc3NEZWZpbml0aW9uSWQgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0luc3RhbmNlSWQgPSBvYmoucHJvY2Vzc0luc3RhbmNlSWQgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZERhdGUgPSBvYmouY3JlYXRlZERhdGUgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZHVlRGF0ZVR5cGUgPSBvYmouZHVlRGF0ZVR5cGUgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZHVlRGF0ZSA9IG9iai5kdWVEYXRlIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9kdWVEYXRlRnJvbSA9IG9iai5fZHVlRGF0ZUZyb20gfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2R1ZURhdGVUbyA9IG9iai5fZHVlRGF0ZVRvIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLnRhc2tOYW1lID0gb2JqLnRhc2tOYW1lIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLnRhc2tJZCA9IG9iai50YXNrSWQgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMucGFyZW50VGFza0lkID0gb2JqLnBhcmVudFRhc2tJZCB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5wcmlvcml0eSA9IG9iai5wcmlvcml0eSB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5zdGFuZGFsb25lID0gb2JqLnN0YW5kYWxvbmUgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFzdE1vZGlmaWVkRnJvbSA9IG9iai5sYXN0TW9kaWZpZWRGcm9tIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhc3RNb2RpZmllZFRvID0gb2JqLmxhc3RNb2RpZmllZFRvIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlZEJ5ID0gb2JqLmNvbXBsZXRlZEJ5IHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlZERhdGVUeXBlID0gb2JqLmNvbXBsZXRlZERhdGVUeXBlIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlZEZyb20gPSBvYmouX2NvbXBsZXRlZEZyb20gfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVkVG8gPSBvYmouX2NvbXBsZXRlZFRvIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlZERhdGUgPSBvYmouY29tcGxldGVkRGF0ZSB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVkRGF0ZVR5cGUgPSBvYmouY3JlYXRlZERhdGVUeXBlIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZWRGcm9tID0gb2JqLl9jcmVhdGVkRnJvbSB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVkVG8gPSBvYmouX2NyZWF0ZWRUbyB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5jYW5kaWRhdGVHcm91cHMgPSBvYmouY2FuZGlkYXRlR3JvdXBzIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLnNob3dDb3VudGVyID0gb2JqLnNob3dDb3VudGVyIHx8IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0IGR1ZURhdGVGcm9tKGR1ZURhdGVGcm9tOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fZHVlRGF0ZUZyb20gPSBkdWVEYXRlRnJvbTtcbiAgICB9XG5cbiAgICBzZXQgZHVlRGF0ZVRvKGR1ZURhdGVUbzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2R1ZURhdGVUbyA9IGR1ZURhdGVUbztcbiAgICB9XG5cbiAgICBnZXQgZHVlRGF0ZUZyb20oKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGF0ZVJhbmdlVHlwZSh0aGlzLmR1ZURhdGVUeXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2R1ZURhdGVGcm9tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN0YXJ0RGF0ZSh0aGlzLmR1ZURhdGVUeXBlKTtcbiAgICB9XG5cbiAgICBnZXQgZHVlRGF0ZVRvKCkge1xuICAgICAgICBpZiAodGhpcy5pc0RhdGVSYW5nZVR5cGUodGhpcy5kdWVEYXRlVHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kdWVEYXRlVG87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RW5kRGF0ZSh0aGlzLmR1ZURhdGVUeXBlKTtcbiAgICB9XG5cbiAgICBzZXQgY29tcGxldGVkRnJvbShjb21wbGV0ZWRGcm9tOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY29tcGxldGVkRnJvbSA9IGNvbXBsZXRlZEZyb207XG4gICAgfVxuXG4gICAgc2V0IGNvbXBsZXRlZFRvKGNvbXBsZXRlZFRvOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY29tcGxldGVkVG8gPSBjb21wbGV0ZWRUbztcbiAgICB9XG5cbiAgICBnZXQgY29tcGxldGVkRnJvbSgpOiBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy5pc0RhdGVSYW5nZVR5cGUodGhpcy5jb21wbGV0ZWREYXRlVHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb21wbGV0ZWRGcm9tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN0YXJ0RGF0ZSh0aGlzLmNvbXBsZXRlZERhdGVUeXBlKTtcbiAgICB9XG5cbiAgICBnZXQgY29tcGxldGVkVG8oKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEYXRlUmFuZ2VUeXBlKHRoaXMuY29tcGxldGVkRGF0ZVR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29tcGxldGVkVG87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RW5kRGF0ZSh0aGlzLmNvbXBsZXRlZERhdGVUeXBlKTtcbiAgICB9XG5cbiAgICBzZXQgY3JlYXRlZEZyb20oY3JlYXRlZEZyb206IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jcmVhdGVkRnJvbSA9IGNyZWF0ZWRGcm9tO1xuICAgIH1cblxuICAgIHNldCBjcmVhdGVkVG8oY3JlYXRlZFRvOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY3JlYXRlZFRvID0gY3JlYXRlZFRvO1xuICAgIH1cblxuICAgIGdldCBjcmVhdGVkRnJvbSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEYXRlUmFuZ2VUeXBlKHRoaXMuY3JlYXRlZERhdGVUeXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZWRGcm9tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN0YXJ0RGF0ZSh0aGlzLmNyZWF0ZWREYXRlVHlwZSk7XG4gICAgfVxuXG4gICAgZ2V0IGNyZWF0ZWRUbygpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEYXRlUmFuZ2VUeXBlKHRoaXMuY3JlYXRlZERhdGVUeXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZWRUbztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRFbmREYXRlKHRoaXMuY3JlYXRlZERhdGVUeXBlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFN0YXJ0RGF0ZShrZXk6IERhdGVDbG91ZEZpbHRlclR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZVJhbmdlRmlsdGVyU2VydmljZS5nZXREYXRlUmFuZ2Uoa2V5KS5zdGFydERhdGU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRFbmREYXRlKGtleTogRGF0ZUNsb3VkRmlsdGVyVHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRlUmFuZ2VGaWx0ZXJTZXJ2aWNlLmdldERhdGVSYW5nZShrZXkpLmVuZERhdGU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0RhdGVSYW5nZVR5cGUodHlwZTogRGF0ZUNsb3VkRmlsdGVyVHlwZSkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmRhdGVSYW5nZUZpbHRlclNlcnZpY2UuaXNEYXRlUmFuZ2VUeXBlKHR5cGUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZXJ2aWNlVGFza0ZpbHRlckNsb3VkTW9kZWwge1xuICAgIGlkPzogc3RyaW5nO1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAga2V5Pzogc3RyaW5nO1xuICAgIGljb24/OiBzdHJpbmc7XG4gICAgaW5kZXg/OiBudW1iZXI7XG4gICAgYXBwTmFtZT86IHN0cmluZztcbiAgICBzdGF0dXM/OiBzdHJpbmc7XG4gICAgc29ydD86IHN0cmluZztcbiAgICBvcmRlcj86IHN0cmluZztcbiAgICBhY3Rpdml0eU5hbWU/OiBzdHJpbmc7XG4gICAgYWN0aXZpdHlUeXBlPzogc3RyaW5nO1xuICAgIGNvbXBsZXRlZERhdGU/OiBEYXRlO1xuICAgIGVsZW1lbnRJZD86IHN0cmluZztcbiAgICBleGVjdXRpb25JZD86IHN0cmluZztcbiAgICBwcm9jZXNzRGVmaW5pdGlvbklkPzogc3RyaW5nO1xuICAgIHByb2Nlc3NEZWZpbml0aW9uS2V5Pzogc3RyaW5nO1xuICAgIHByb2Nlc3NEZWZpbml0aW9uVmVyc2lvbj86IG51bWJlcjtcbiAgICBwcm9jZXNzSW5zdGFuY2VJZD86IHN0cmluZztcbiAgICBzZXJ2aWNlVGFza0lkPzogc3RyaW5nO1xuICAgIHNlcnZpY2VGdWxsTmFtZT86IHN0cmluZztcbiAgICBzZXJ2aWNlTmFtZT86IHN0cmluZztcbiAgICBzZXJ2aWNlVmVyc2lvbj86IHN0cmluZztcbiAgICBzdGFydGVkRGF0ZT86IERhdGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsdGVyUGFyYW1zTW9kZWwge1xuICAgIGlkPzogc3RyaW5nO1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAga2V5Pzogc3RyaW5nO1xuICAgIGluZGV4PzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRhc2tGaWx0ZXJBY3Rpb24ge1xuICAgIGFjdGlvblR5cGU/OiBzdHJpbmc7XG4gICAgaWNvbj86IHN0cmluZztcbiAgICB0b29sdGlwPzogc3RyaW5nO1xuICAgIGZpbHRlcj86IFRhc2tGaWx0ZXJDbG91ZE1vZGVsIHwgU2VydmljZVRhc2tGaWx0ZXJDbG91ZE1vZGVsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbHRlck9wdGlvbnMge1xuICAgIGxhYmVsPzogc3RyaW5nO1xuICAgIHZhbHVlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZW51bSBBc3NpZ25tZW50VHlwZSB7XG4gICAgQ1VSUkVOVF9VU0VSID0gJ0NVUlJFTlRfVVNFUicsXG4gICAgVU5BU1NJR05FRCA9ICdVTkFTU0lHTkVEJyxcbiAgICBDQU5ESURBVEVfR1JPVVBTID0gJ0NBTkRJREFURV9HUk9VUFMnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFza0ZpbHRlclByb3BlcnRpZXMge1xuICAgIGxhYmVsPzogc3RyaW5nO1xuICAgIHR5cGU/OiBzdHJpbmc7XG4gICAgdmFsdWU/OiBhbnk7XG4gICAga2V5Pzogc3RyaW5nO1xuICAgIGF0dHJpYnV0ZXM/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfTtcbiAgICBvcHRpb25zPzogRmlsdGVyT3B0aW9uc1tdO1xuICAgIGRhdGVGaWx0ZXJPcHRpb25zPzogRGF0ZUNsb3VkRmlsdGVyVHlwZVtdO1xuICAgIHNlbGVjdGlvbk1vZGU/OiBDb21wb25lbnRTZWxlY3Rpb25Nb2RlO1xufVxuIl19