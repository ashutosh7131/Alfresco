/*!
 * @license
 * Copyright 2019 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { Component, Input, Output, EventEmitter, ViewEncapsulation } from '@angular/core';
import { FormBuilder } from '@angular/forms';
import { DateAdapter } from '@angular/material/core';
import { MatDialog } from '@angular/material/dialog';
import { debounceTime, filter, takeUntil, finalize, switchMap } from 'rxjs/operators';
import { Subject } from 'rxjs';
import moment from 'moment-es6';
import { AppsProcessCloudService } from '../../../app/services/apps-process-cloud.service';
import { ProcessFilterCloudModel } from '../models/process-filter-cloud.model';
import { TranslationService, UserPreferencesService, UserPreferenceValues } from '@alfresco/adf-core';
import { ProcessFilterCloudService } from '../services/process-filter-cloud.service';
import { ProcessFilterDialogCloudComponent } from './process-filter-dialog-cloud.component';
import { ProcessCloudService } from '../../services/process-cloud.service';
import { DateCloudFilterType } from '../../../models/date-cloud-filter.model';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/forms';
import * as ɵngcc2 from '@angular/material/dialog';
import * as ɵngcc3 from '@angular/material/core';
import * as ɵngcc4 from '@alfresco/adf-core';
import * as ɵngcc5 from '../services/process-filter-cloud.service';
import * as ɵngcc6 from '../../../app/services/apps-process-cloud.service';
import * as ɵngcc7 from '../../services/process-cloud.service';
import * as ɵngcc8 from '@angular/material/expansion';
import * as ɵngcc9 from '@angular/common';
import * as ɵngcc10 from '@angular/flex-layout/flex';
import * as ɵngcc11 from '@angular/material/button';
import * as ɵngcc12 from '@angular/material/tooltip';
import * as ɵngcc13 from '@angular/material/progress-spinner';
import * as ɵngcc14 from '@angular/material/form-field';
import * as ɵngcc15 from '@angular/material/select';
import * as ɵngcc16 from '@angular/material/input';
import * as ɵngcc17 from '@angular/material/datepicker';
import * as ɵngcc18 from '@angular/material/icon';
import * as ɵngcc19 from '../../../common/date-range-filter/date-range-filter.component';
import * as ɵngcc20 from '../../../people/components/people-cloud.component';
import * as ɵngcc21 from '@ngx-translate/core';

function EditProcessFilterCloudComponent_mat_expansion_panel_header_2_ng_container_1_mat_panel_title_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "mat-panel-title", 10);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r5 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(2, 1, ctx_r5.processFilter.name));
} }
function EditProcessFilterCloudComponent_mat_expansion_panel_header_2_ng_container_1_span_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span");
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(2, 1, "ADF_CLOUD_EDIT_PROCESS_FILTER.TITLE"), "");
} }
function EditProcessFilterCloudComponent_mat_expansion_panel_header_2_ng_container_1_div_4_ng_container_1_button_1_Template(rf, ctx) { if (rf & 1) {
    const _r12 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 13);
    ɵngcc0.ɵɵlistener("click", function EditProcessFilterCloudComponent_mat_expansion_panel_header_2_ng_container_1_div_4_ng_container_1_button_1_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r12); const filterAction_r10 = ctx.$implicit; const ctx_r11 = ɵngcc0.ɵɵnextContext(5); return ctx_r11.executeFilterActions(filterAction_r10); });
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵelement(2, "adf-icon", 14);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const filterAction_r10 = ctx.$implicit;
    const ctx_r9 = ɵngcc0.ɵɵnextContext(5);
    ɵngcc0.ɵɵpropertyInterpolate("matTooltip", ɵngcc0.ɵɵpipeBind1(1, 4, filterAction_r10.tooltip));
    ɵngcc0.ɵɵproperty("disabled", ctx_r9.isDisabledAction(filterAction_r10));
    ɵngcc0.ɵɵattribute("data-automation-id", "adf-filter-action-" + filterAction_r10.actionType);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("value", filterAction_r10.icon);
} }
function EditProcessFilterCloudComponent_mat_expansion_panel_header_2_ng_container_1_div_4_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, EditProcessFilterCloudComponent_mat_expansion_panel_header_2_ng_container_1_div_4_ng_container_1_button_1_Template, 3, 6, "button", 12);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r8 = ɵngcc0.ɵɵnextContext(4);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngForOf", ctx_r8.processFilterActions);
} }
function EditProcessFilterCloudComponent_mat_expansion_panel_header_2_ng_container_1_div_4_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 11);
    ɵngcc0.ɵɵtemplate(1, EditProcessFilterCloudComponent_mat_expansion_panel_header_2_ng_container_1_div_4_ng_container_1_Template, 2, 1, "ng-container", 3);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r7 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r7.toggleFilterActions);
} }
function EditProcessFilterCloudComponent_mat_expansion_panel_header_2_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, EditProcessFilterCloudComponent_mat_expansion_panel_header_2_ng_container_1_mat_panel_title_1_Template, 3, 3, "mat-panel-title", 7);
    ɵngcc0.ɵɵelementStart(2, "mat-panel-description", 8);
    ɵngcc0.ɵɵtemplate(3, EditProcessFilterCloudComponent_mat_expansion_panel_header_2_ng_container_1_span_3_Template, 3, 3, "span", 3);
    ɵngcc0.ɵɵtemplate(4, EditProcessFilterCloudComponent_mat_expansion_panel_header_2_ng_container_1_div_4_Template, 2, 1, "div", 9);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r2 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r2.showProcessFilterName);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r2.showTitle);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r2.showFilterActions);
} }
function EditProcessFilterCloudComponent_mat_expansion_panel_header_2_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 15);
    ɵngcc0.ɵɵelement(1, "mat-spinner", 16);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("diameter", 30);
} }
function EditProcessFilterCloudComponent_mat_expansion_panel_header_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "mat-expansion-panel-header", 4);
    ɵngcc0.ɵɵtemplate(1, EditProcessFilterCloudComponent_mat_expansion_panel_header_2_ng_container_1_Template, 5, 3, "ng-container", 5);
    ɵngcc0.ɵɵtemplate(2, EditProcessFilterCloudComponent_mat_expansion_panel_header_2_ng_template_2_Template, 2, 1, "ng-template", null, 6, ɵngcc0.ɵɵtemplateRefExtractor);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const _r3 = ɵngcc0.ɵɵreference(3);
    const ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r0.isLoading)("ngIfElse", _r3);
} }
function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_1_mat_option_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "mat-option", 14);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const propertyOption_r24 = ctx.$implicit;
    const processFilterProperty_r15 = ɵngcc0.ɵɵnextContext(2).$implicit;
    ɵngcc0.ɵɵproperty("value", propertyOption_r24.value);
    ɵngcc0.ɵɵattribute("data-automation-id", "adf-cloud-edit-process-property-options-" + processFilterProperty_r15.key);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(2, 3, propertyOption_r24.label));
} }
function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "mat-form-field", 24);
    ɵngcc0.ɵɵelementStart(1, "mat-select", 25);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵtemplate(3, EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_1_mat_option_3_Template, 3, 5, "mat-option", 26);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const processFilterProperty_r15 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("floatLabel", "auto");
    ɵngcc0.ɵɵattribute("data-automation-id", processFilterProperty_r15.key);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(2, 6, processFilterProperty_r15.label));
    ɵngcc0.ɵɵproperty("formControlName", processFilterProperty_r15.key);
    ɵngcc0.ɵɵattribute("data-automation-id", "adf-cloud-edit-process-property-" + processFilterProperty_r15.key);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngForOf", processFilterProperty_r15.options);
} }
function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_2_mat_option_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "mat-option", 14);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const propertyOption_r28 = ctx.$implicit;
    const processFilterProperty_r15 = ɵngcc0.ɵɵnextContext(2).$implicit;
    ɵngcc0.ɵɵproperty("value", propertyOption_r28.value);
    ɵngcc0.ɵɵattribute("data-automation-id", "adf-cloud-edit-process-property-options-" + processFilterProperty_r15.key);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(2, 3, propertyOption_r28.label), " ");
} }
function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "mat-form-field", 24);
    ɵngcc0.ɵɵelementStart(1, "mat-select", 27);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵtemplate(3, EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_2_mat_option_3_Template, 3, 5, "mat-option", 26);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const processFilterProperty_r15 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("floatLabel", "auto");
    ɵngcc0.ɵɵattribute("data-automation-id", processFilterProperty_r15.key);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(2, 7, processFilterProperty_r15.label));
    ɵngcc0.ɵɵproperty("formControlName", processFilterProperty_r15.key)("multiple", true);
    ɵngcc0.ɵɵattribute("data-automation-id", "adf-cloud-edit-process-property-" + processFilterProperty_r15.key);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngForOf", processFilterProperty_r15.options);
} }
function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "mat-form-field", 24);
    ɵngcc0.ɵɵelement(1, "input", 28);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const processFilterProperty_r15 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("floatLabel", "auto");
    ɵngcc0.ɵɵattribute("data-automation-id", processFilterProperty_r15.key);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(2, 5, processFilterProperty_r15.label));
    ɵngcc0.ɵɵproperty("formControlName", processFilterProperty_r15.key);
    ɵngcc0.ɵɵattribute("data-automation-id", "adf-cloud-edit-process-property-" + processFilterProperty_r15.key);
} }
function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_4_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "mat-form-field", 24);
    ɵngcc0.ɵɵelement(1, "input", 29);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const processFilterProperty_r15 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("floatLabel", "auto");
    ɵngcc0.ɵɵattribute("data-automation-id", processFilterProperty_r15.key);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(2, 5, processFilterProperty_r15.label));
    ɵngcc0.ɵɵproperty("formControlName", processFilterProperty_r15.key);
    ɵngcc0.ɵɵattribute("data-automation-id", "adf-cloud-edit-process-property-" + processFilterProperty_r15.key);
} }
function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_5_div_10_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "div", 34);
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(4, "mat-icon", 35);
    ɵngcc0.ɵɵtext(5, "warning");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 1, "ADF_CLOUD_EDIT_PROCESS_FILTER.ERROR.DATE"));
} }
function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_5_Template(rf, ctx) { if (rf & 1) {
    const _r36 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "mat-form-field", 24);
    ɵngcc0.ɵɵelementStart(1, "mat-label");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(4, "input", 30);
    ɵngcc0.ɵɵlistener("keyup", function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_5_Template_input_keyup_4_listener($event) { ɵngcc0.ɵɵrestoreView(_r36); const processFilterProperty_r15 = ɵngcc0.ɵɵnextContext().$implicit; const ctx_r35 = ɵngcc0.ɵɵnextContext(3); return ctx_r35.onDateChanged($event.srcElement.value, processFilterProperty_r15); })("dateChange", function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_5_Template_input_dateChange_4_listener($event) { ɵngcc0.ɵɵrestoreView(_r36); const processFilterProperty_r15 = ɵngcc0.ɵɵnextContext().$implicit; const ctx_r38 = ɵngcc0.ɵɵnextContext(3); return ctx_r38.onDateChanged($event.value, processFilterProperty_r15); });
    ɵngcc0.ɵɵpipe(5, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(6, "mat-datepicker-toggle", 31);
    ɵngcc0.ɵɵelement(7, "mat-datepicker", null, 32);
    ɵngcc0.ɵɵelementStart(9, "div", 33);
    ɵngcc0.ɵɵtemplate(10, EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_5_div_10_Template, 6, 3, "div", 3);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const _r33 = ɵngcc0.ɵɵreference(8);
    const processFilterProperty_r15 = ɵngcc0.ɵɵnextContext().$implicit;
    const ctx_r20 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵproperty("floatLabel", "auto");
    ɵngcc0.ɵɵattribute("data-automation-id", processFilterProperty_r15.key);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 11, processFilterProperty_r15.label));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(5, 13, processFilterProperty_r15.label));
    ɵngcc0.ɵɵproperty("formControlName", processFilterProperty_r15.key)("matDatepicker", _r33);
    ɵngcc0.ɵɵattribute("data-automation-id", "adf-cloud-edit-process-property-" + processFilterProperty_r15.key);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("for", _r33);
    ɵngcc0.ɵɵattribute("data-automation-id", "adf-cloud-edit-process-property-date-toggle-" + processFilterProperty_r15.key);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵattribute("data-automation-id", "adf-cloud-edit-process-property-date-picker-" + processFilterProperty_r15.key);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r20.hasError(processFilterProperty_r15));
} }
function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_adf_cloud_date_range_filter_6_Template(rf, ctx) { if (rf & 1) {
    const _r42 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "adf-cloud-date-range-filter", 36);
    ɵngcc0.ɵɵlistener("dateTypeChange", function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_adf_cloud_date_range_filter_6_Template_adf_cloud_date_range_filter_dateTypeChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r42); const processFilterProperty_r15 = ɵngcc0.ɵɵnextContext().$implicit; const ctx_r41 = ɵngcc0.ɵɵnextContext(3); return ctx_r41.onDateTypeChange($event, processFilterProperty_r15); })("dateChanged", function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_adf_cloud_date_range_filter_6_Template_adf_cloud_date_range_filter_dateChanged_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r42); const processFilterProperty_r15 = ɵngcc0.ɵɵnextContext().$implicit; const ctx_r44 = ɵngcc0.ɵɵnextContext(3); return ctx_r44.onDateRangeFilterChanged($event, processFilterProperty_r15); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const processFilterProperty_r15 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("processFilterProperty", processFilterProperty_r15)("options", processFilterProperty_r15.dateFilterOptions);
} }
function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_div_7_Template(rf, ctx) { if (rf & 1) {
    const _r48 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 37);
    ɵngcc0.ɵɵelementStart(1, "adf-cloud-people", 38);
    ɵngcc0.ɵɵlistener("changedUsers", function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_div_7_Template_adf_cloud_people_changedUsers_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r48); const processFilterProperty_r15 = ɵngcc0.ɵɵnextContext().$implicit; const ctx_r47 = ɵngcc0.ɵɵnextContext(3); return ctx_r47.onChangedUser($event, processFilterProperty_r15); });
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const processFilterProperty_r15 = ɵngcc0.ɵɵnextContext().$implicit;
    const ctx_r22 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("preSelectUsers", ctx_r22.initiatorOptions)("title", processFilterProperty_r15.label)("validate", true)("appName", ctx_r22.appName)("mode", processFilterProperty_r15.selectionMode);
} }
function EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_1_Template, 4, 8, "mat-form-field", 21);
    ɵngcc0.ɵɵtemplate(2, EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_2_Template, 4, 9, "mat-form-field", 21);
    ɵngcc0.ɵɵtemplate(3, EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_3_Template, 3, 7, "mat-form-field", 21);
    ɵngcc0.ɵɵtemplate(4, EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_4_Template, 3, 7, "mat-form-field", 21);
    ɵngcc0.ɵɵtemplate(5, EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_mat_form_field_5_Template, 11, 15, "mat-form-field", 21);
    ɵngcc0.ɵɵtemplate(6, EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_adf_cloud_date_range_filter_6_Template, 1, 2, "adf-cloud-date-range-filter", 22);
    ɵngcc0.ɵɵtemplate(7, EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_div_7_Template, 2, 5, "div", 23);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const processFilterProperty_r15 = ctx.$implicit;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", processFilterProperty_r15.type === "select");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", processFilterProperty_r15.type === "multi-select");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", processFilterProperty_r15.type === "text");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", processFilterProperty_r15.type === "number");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", processFilterProperty_r15.type === "date");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", processFilterProperty_r15.type === "date-range");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", processFilterProperty_r15.type === "people");
} }
function EditProcessFilterCloudComponent_ng_container_3_form_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "form", 18);
    ɵngcc0.ɵɵelementStart(1, "div", 19);
    ɵngcc0.ɵɵtemplate(2, EditProcessFilterCloudComponent_ng_container_3_form_1_ng_container_2_Template, 8, 7, "ng-container", 20);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r13 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵproperty("formGroup", ctx_r13.editProcessFilterForm);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngForOf", ctx_r13.processFilterProperties);
} }
function EditProcessFilterCloudComponent_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, EditProcessFilterCloudComponent_ng_container_3_form_1_Template, 3, 2, "form", 17);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r1.editProcessFilterForm);
} }
export class EditProcessFilterCloudComponent {
    constructor(formBuilder, dialog, dateAdapter, userPreferencesService, translateService, processFilterCloudService, appsProcessCloudService, processCloudService) {
        this.formBuilder = formBuilder;
        this.dialog = dialog;
        this.dateAdapter = dateAdapter;
        this.userPreferencesService = userPreferencesService;
        this.translateService = translateService;
        this.processFilterCloudService = processFilterCloudService;
        this.appsProcessCloudService = appsProcessCloudService;
        this.processCloudService = processCloudService;
        this.DATE_FORMAT = 'DD/MM/YYYY';
        this.appName = '';
        this.role = '';
        this.filterProperties = EditProcessFilterCloudComponent.DEFAULT_PROCESS_FILTER_PROPERTIES;
        this.sortProperties = EditProcessFilterCloudComponent.DEFAULT_SORT_PROPERTIES;
        this.actions = EditProcessFilterCloudComponent.DEFAULT_ACTIONS;
        this.showFilterActions = true;
        this.showTitle = true;
        this.showProcessFilterName = true;
        this.filterChange = new EventEmitter();
        this.action = new EventEmitter();
        this.filterHasBeenChanged = false;
        this.status = [
            { value: '', label: 'ADF_CLOUD_PROCESS_FILTERS.STATUS.ALL' },
            { value: 'RUNNING', label: 'ADF_CLOUD_PROCESS_FILTERS.STATUS.RUNNING' },
            { value: 'SUSPENDED', label: 'ADF_CLOUD_PROCESS_FILTERS.STATUS.SUSPENDED' },
            { value: 'CANCELLED', label: 'ADF_CLOUD_PROCESS_FILTERS.STATUS.CANCELLED' },
            { value: 'COMPLETED', label: 'ADF_CLOUD_PROCESS_FILTERS.STATUS.COMPLETED' }
        ];
        this.directions = [
            { value: 'ASC', label: 'ADF_CLOUD_PROCESS_FILTERS.DIRECTION.ASCENDING' },
            { value: 'DESC', label: 'ADF_CLOUD_PROCESS_FILTERS.DIRECTION.DESCENDING' }
        ];
        this.actionDisabledForDefault = [
            EditProcessFilterCloudComponent.ACTION_SAVE,
            EditProcessFilterCloudComponent.ACTION_DELETE
        ];
        this.applicationNames = [];
        this.allProcessDefinitionNamesOption = {
            label: 'ADF_CLOUD_PROCESS_FILTERS.STATUS.ALL',
            value: ''
        };
        this.processDefinitionNames = [];
        this.processFilterProperties = [];
        this.processFilterActions = [];
        this.toggleFilterActions = false;
        this.appVersionOptions = [];
        this.initiatorOptions = [];
        this.onDestroy$ = new Subject();
        this.isLoading = false;
    }
    get processFilter() {
        return this._filter;
    }
    set processFilter(value) {
        const isChanged = this.isFilterChanged(this._filter, value);
        this._filter = value;
        if (value === null || value === void 0 ? void 0 : value.appName) {
            this.appName = value.appName;
        }
        if (value === null || value === void 0 ? void 0 : value.id) {
            this.id = value.id;
        }
        this.processFilterProperties = this.createAndFilterProperties();
        this.processFilterActions = this.createAndFilterActions();
        this.buildForm(this.processFilterProperties);
        if (isChanged) {
            this.filterChange.emit(value);
        }
    }
    ngOnInit() {
        this.userPreferencesService
            .select(UserPreferenceValues.Locale)
            .pipe(takeUntil(this.onDestroy$))
            .subscribe(locale => this.dateAdapter.setLocale(locale));
    }
    ngOnChanges(changes) {
        const id = changes['id'];
        if (id && id.currentValue !== id.previousValue) {
            this.retrieveProcessFilterAndBuildForm();
        }
    }
    ngOnDestroy() {
        this.onDestroy$.next(true);
        this.onDestroy$.complete();
    }
    buildForm(processFilterProperties) {
        this.editProcessFilterForm = this.formBuilder.group(this.getFormControlsConfig(processFilterProperties));
        this.onFilterChange();
    }
    getFormControlsConfig(processFilterProperties) {
        const properties = processFilterProperties.map((property) => {
            if (!!property.attributes) {
                return this.getAttributesControlConfig(property);
            }
            else {
                return { [property.key]: property.value };
            }
        });
        return properties.reduce(((result, current) => Object.assign(result, current)), {});
    }
    getAttributesControlConfig(property) {
        return Object.values(property.attributes).reduce((result, key) => {
            result[key] = property.value[key];
            return result;
        }, {});
    }
    retrieveProcessFilterAndBuildForm() {
        this.isLoading = true;
        this.processFilterCloudService
            .getFilterById(this.appName, this.id)
            .pipe(finalize(() => this.isLoading = false))
            .subscribe(response => {
            this.filterHasBeenChanged = false;
            this.processFilter = new ProcessFilterCloudModel(Object.assign({}, response || {}, this.processFilter || {}));
        });
    }
    onFilterChange() {
        if (this.filterChangeSub) {
            this.filterChangeSub.unsubscribe();
            this.filterChangeSub = null;
        }
        this.filterChangeSub = this.editProcessFilterForm.valueChanges
            .pipe(debounceTime(500), filter(() => this.isFormValid()), takeUntil(this.onDestroy$))
            .subscribe((formValues) => {
            this.setLastModifiedToFilter(formValues);
            const newValue = new ProcessFilterCloudModel(Object.assign({}, this.processFilter, formValues));
            const changed = !this.compareFilters(newValue, this.processFilter);
            this.filterHasBeenChanged = changed;
            if (changed) {
                this._filter = newValue;
                this.filterChange.emit(newValue);
            }
        });
    }
    createAndFilterProperties() {
        this.checkMandatoryFilterProperties();
        if (this.filterProperties.includes('appName')) {
            this.getRunningApplications();
        }
        if (this.filterProperties.includes('processDefinitionName')) {
            this.getProcessDefinitions();
        }
        if (this.filterProperties.includes('appVersionMultiple')) {
            this.getAppVersionOptions();
        }
        if (this.filterProperties.includes('initiator')) {
            this.initiatorOptions = !!this.processFilter.initiator
                ? this.processFilter.initiator.split(',').map(username => Object.assign({}, { username: username }))
                : [];
        }
        const defaultProperties = this.createProcessFilterProperties(this.processFilter);
        let filteredProperties = defaultProperties.filter((filterProperty) => this.isValidProperty(this.filterProperties, filterProperty.key));
        if (!this.filterProperties.includes('sort')) {
            filteredProperties = filteredProperties.filter(property => property.key !== 'order');
        }
        if (this.filterProperties.includes('lastModified')) {
            filteredProperties = [
                ...filteredProperties,
                ...this.createLastModifiedProperty(this.processFilter)
            ];
        }
        return filteredProperties;
    }
    checkMandatoryFilterProperties() {
        if (this.filterProperties === undefined || this.filterProperties.length === 0) {
            this.filterProperties = EditProcessFilterCloudComponent.DEFAULT_PROCESS_FILTER_PROPERTIES;
        }
    }
    isValidProperty(filterProperties, key) {
        return filterProperties ? filterProperties.indexOf(key) >= 0 : true;
    }
    get createSortProperties() {
        this.checkMandatorySortProperties();
        const defaultSortProperties = this.createProcessSortProperties();
        return defaultSortProperties.filter((sortProperty) => this.isValidProperty(this.sortProperties, sortProperty.key));
    }
    getAppVersionOptions() {
        this.appVersionOptions = [];
        this.processCloudService.getApplicationVersions(this.appName).subscribe((appVersions) => {
            appVersions.forEach(appVersion => {
                this.appVersionOptions.push({ label: appVersion.entry.version, value: appVersion.entry.version });
            });
        });
    }
    checkMandatorySortProperties() {
        if (this.sortProperties === undefined || this.sortProperties.length === 0) {
            this.sortProperties = EditProcessFilterCloudComponent.DEFAULT_SORT_PROPERTIES;
        }
    }
    createAndFilterActions() {
        this.checkMandatoryActions();
        const actions = this.createFilterActions();
        return actions.filter((action) => this.isValidAction(this.actions, action));
    }
    checkMandatoryActions() {
        if (this.actions === undefined || this.actions.length === 0) {
            this.actions = EditProcessFilterCloudComponent.DEFAULT_ACTIONS;
        }
    }
    isValidAction(actions, action) {
        return actions ? actions.indexOf(action.actionType) >= 0 : true;
    }
    isFormValid() {
        return this.editProcessFilterForm.valid;
    }
    getPropertyController(property) {
        return this.editProcessFilterForm.get(property.key);
    }
    onDateChanged(newDateValue, dateProperty) {
        if (newDateValue) {
            const controller = this.getPropertyController(dateProperty);
            if (newDateValue.isValid()) {
                controller.setValue(newDateValue);
                controller.setErrors(null);
            }
            else {
                controller.setErrors({ invalid: true });
            }
        }
    }
    onDateTypeChange(dateType, property) {
        this.editProcessFilterForm.get(property.attributes.dateType).setValue(dateType);
    }
    onDateRangeFilterChanged(dateRange, property) {
        var _a, _b;
        this.editProcessFilterForm.get((_a = property.attributes) === null || _a === void 0 ? void 0 : _a.from).setValue(dateRange.startDate ? dateRange.startDate : null);
        this.editProcessFilterForm.get((_b = property.attributes) === null || _b === void 0 ? void 0 : _b.to).setValue(dateRange.endDate ? dateRange.endDate : null);
        this.editProcessFilterForm.get(property.attributes.dateType).setValue(DateCloudFilterType.RANGE);
    }
    onChangedUser(users, processProperty) {
        this.getPropertyController(processProperty).setValue(users.map(user => user.username).join(','));
    }
    hasError(property) {
        const controller = this.getPropertyController(property);
        return controller.errors && controller.errors.invalid;
    }
    compareFilters(editedQuery, currentQuery) {
        return JSON.stringify(editedQuery).toLowerCase() === JSON.stringify(currentQuery).toLowerCase();
    }
    getRunningApplications() {
        this.applicationNames = [];
        this.appsProcessCloudService
            .getDeployedApplicationsByStatus('RUNNING', this.role)
            .subscribe((applications) => {
            if (applications && applications.length > 0) {
                applications.map((application) => {
                    this.applicationNames.push({ label: application.name, value: application.name });
                });
            }
        });
    }
    getProcessDefinitions() {
        this.processDefinitionNames = [];
        this.processCloudService.getProcessDefinitions(this.appName).subscribe((processDefinitions) => {
            if (processDefinitions && processDefinitions.length > 0) {
                this.processDefinitionNames.push(this.allProcessDefinitionNamesOption);
                processDefinitions.map((processDefinition) => {
                    this.processDefinitionNames.push({ label: processDefinition.name, value: processDefinition.name });
                });
            }
        });
    }
    executeFilterActions(action) {
        if (action.actionType === EditProcessFilterCloudComponent.ACTION_SAVE) {
            this.save(action);
        }
        else if (action.actionType === EditProcessFilterCloudComponent.ACTION_SAVE_AS) {
            this.saveAs(action);
        }
        else if (action.actionType === EditProcessFilterCloudComponent.ACTION_DELETE) {
            this.delete(action);
        }
    }
    save(saveAction) {
        this.processFilterCloudService
            .updateFilter(this.processFilter)
            .subscribe(() => {
            saveAction.filter = this.processFilter;
            this.filterHasBeenChanged = false;
            this.action.emit(saveAction);
        });
    }
    delete(deleteAction) {
        this.processFilterCloudService
            .deleteFilter(this.processFilter)
            .pipe(filter((filters) => {
            deleteAction.filter = this.processFilter;
            this.action.emit(deleteAction);
            return filters.length === 0;
        }), switchMap(() => this.restoreDefaultProcessFilters()))
            .subscribe(() => { });
    }
    saveAs(saveAsAction) {
        const dialogRef = this.dialog.open(ProcessFilterDialogCloudComponent, {
            data: {
                name: this.translateService.instant(this.processFilter.name)
            },
            height: 'auto',
            minWidth: '30%'
        });
        dialogRef.afterClosed().subscribe((result) => {
            if (result && result.action === ProcessFilterDialogCloudComponent.ACTION_SAVE) {
                const filterId = Math.random().toString(36).substr(2, 9);
                const filterKey = this.getSanitizeFilterName(result.name);
                const newFilter = {
                    name: result.name,
                    icon: result.icon,
                    id: filterId,
                    key: 'custom-' + filterKey
                };
                const resultFilter = Object.assign({}, this.processFilter, newFilter);
                this.processFilterCloudService
                    .addFilter(resultFilter)
                    .subscribe(() => {
                    saveAsAction.filter = resultFilter;
                    this.filterHasBeenChanged = false;
                    this.action.emit(saveAsAction);
                });
            }
        });
    }
    getSanitizeFilterName(filterName) {
        const nameWithHyphen = this.replaceSpaceWithHyphen(filterName.trim());
        return nameWithHyphen.toLowerCase();
    }
    replaceSpaceWithHyphen(name) {
        const regExt = new RegExp(' ', 'g');
        return name.replace(regExt, '-');
    }
    restoreDefaultProcessFilters() {
        return this.processFilterCloudService.getProcessFilters(this.appName);
    }
    onExpand() {
        this.toggleFilterActions = true;
    }
    onClose() {
        this.toggleFilterActions = false;
    }
    isDisabledAction(action) {
        return (this.processFilterCloudService.isDefaultFilter(this.processFilter.name) &&
            this.actionDisabledForDefault.includes(action.actionType)) ? true : this.hasFilterChanged(action);
    }
    hasFilterChanged(action) {
        return action.actionType === EditProcessFilterCloudComponent.ACTION_SAVE ||
            action.actionType === EditProcessFilterCloudComponent.ACTION_SAVE_AS ?
            !this.filterHasBeenChanged : false;
    }
    setLastModifiedToFilter(formValues) {
        if (formValues.lastModifiedTo && Date.parse(formValues.lastModifiedTo.toString())) {
            const lastModifiedToFilterValue = moment(formValues.lastModifiedTo);
            lastModifiedToFilterValue.set({
                hour: 23,
                minute: 59,
                second: 59
            });
            formValues.lastModifiedTo = lastModifiedToFilterValue.toDate();
        }
    }
    createFilterActions() {
        return [
            {
                actionType: EditProcessFilterCloudComponent.ACTION_SAVE,
                icon: 'adf:save',
                tooltip: 'ADF_CLOUD_EDIT_PROCESS_FILTER.TOOL_TIP.SAVE'
            },
            {
                actionType: EditProcessFilterCloudComponent.ACTION_SAVE_AS,
                icon: 'adf:save-as',
                tooltip: 'ADF_CLOUD_EDIT_PROCESS_FILTER.TOOL_TIP.SAVE_AS'
            },
            {
                actionType: EditProcessFilterCloudComponent.ACTION_DELETE,
                icon: 'delete',
                tooltip: 'ADF_CLOUD_EDIT_PROCESS_FILTER.TOOL_TIP.DELETE'
            }
        ];
    }
    createLastModifiedProperty(filterModel) {
        let lastModifiedFrom;
        let lastModifiedTo;
        if (filterModel.lastModifiedFrom) {
            lastModifiedFrom = moment(filterModel.lastModifiedFrom);
        }
        if (filterModel.lastModifiedTo) {
            lastModifiedTo = moment(filterModel.lastModifiedTo);
        }
        return [
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.LAST_MODIFIED_DATE_FORM',
                type: 'date',
                key: 'lastModifiedFrom',
                value: lastModifiedFrom
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.LAST_MODIFIED_TO',
                type: 'date',
                key: 'lastModifiedTo',
                value: lastModifiedTo
            }
        ];
    }
    createProcessSortProperties() {
        return [
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.ID',
                key: 'id',
                value: 'id'
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.PROCESS_NAME',
                key: 'name',
                value: 'name'
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.START_DATE',
                key: 'startDate',
                value: 'startDate'
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.STATUS',
                key: 'status',
                value: 'status'
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.STARTED_BY',
                key: 'initiator',
                value: 'initiator'
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.APP_NAME',
                key: 'appName',
                value: 'appName'
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.APP_VERSION',
                key: 'appVersion',
                value: 'appVersion'
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.PROCESS_INS_ID',
                key: 'processInstanceId',
                value: 'processInstanceId'
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.PROCESS_DEF_ID',
                key: 'processDefinitionId',
                value: 'processDefinitionId'
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.PROCESS_DEF_NAME',
                key: 'processDefinitionName',
                value: 'processDefinitionName'
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.PROCESS_DEF_KEY',
                key: 'processDefinitionKey',
                value: 'processDefinitionKey'
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.LAST_MODIFIED',
                key: 'lastModified',
                value: 'lastModified'
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.BUSINESS_KEY',
                key: 'businessKey',
                value: 'businessKey'
            }
        ];
    }
    isFilterChanged(oldValue, newValue) {
        const oldJson = JSON.stringify(this.processFilterCloudService.writeQueryParams(oldValue || {}, this.filterProperties));
        const newJson = JSON.stringify(this.processFilterCloudService.writeQueryParams(newValue || {}, this.filterProperties));
        return oldJson !== newJson;
    }
    createProcessFilterProperties(filterModel) {
        const appVersionMultiple = [];
        if (filterModel.appVersion) {
            appVersionMultiple.push(Array.isArray(filterModel.appVersion)
                ? filterModel.appVersion.map(entry => entry.toString())
                : `${filterModel.appVersion}`);
        }
        return [
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.APP_NAME',
                type: 'select',
                key: 'appName',
                value: filterModel.appName || '',
                options: this.applicationNames
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.APP_VERSION',
                type: 'number',
                key: 'appVersion',
                value: filterModel.appVersion
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.APP_VERSION',
                type: 'multi-select',
                key: 'appVersionMultiple',
                value: appVersionMultiple,
                options: this.appVersionOptions
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.PROCESS_INS_ID',
                type: 'text',
                key: 'processInstanceId',
                value: filterModel.processInstanceId || ''
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.PROCESS_NAME',
                type: 'text',
                key: 'processName',
                value: filterModel.processName || ''
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.PROCESS_DEF_NAME',
                type: 'select',
                key: 'processDefinitionName',
                value: filterModel.processDefinitionName || '',
                options: this.processDefinitionNames
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.STATUS',
                type: 'select',
                key: 'status',
                value: filterModel.status || this.status[0].value,
                options: this.status
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.PROCESS_DEF_ID',
                type: 'text',
                key: 'processDefinitionId',
                value: filterModel.processDefinitionId || ''
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.PROCESS_DEF_KEY',
                type: 'text',
                key: 'processDefinitionKey',
                value: filterModel.processDefinitionKey || ''
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.SORT',
                type: 'select',
                key: 'sort',
                value: filterModel.sort || this.createSortProperties[0].value,
                options: this.createSortProperties
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.DIRECTION',
                type: 'select',
                key: 'order',
                value: filterModel.order || this.directions[0].value,
                options: this.directions
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.COMPLETED_DATE',
                type: 'date',
                key: 'completedDate',
                value: filterModel.completedDate || false
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.STARTED_BY',
                type: 'people',
                key: 'initiator',
                value: filterModel.initiator,
                selectionMode: 'multiple'
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.COMPLETED_DATE',
                type: 'date-range',
                key: 'completedDateRange',
                attributes: { dateType: 'completedDateType', from: '_completedFrom', to: '_completedTo' },
                value: {
                    completedDateType: filterModel.completedDateType || null,
                    _completedFrom: filterModel.completedFrom || null,
                    _completedTo: filterModel.completedTo || null
                }
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.STARTED_DATE',
                type: 'date-range',
                key: 'startedDateRange',
                attributes: { dateType: 'startedDateType', from: '_startFrom', to: '_startTo' },
                value: {
                    startedDateType: filterModel.startedDateType || null,
                    _startFrom: filterModel.startFrom || null,
                    _startTo: filterModel.startTo || null
                }
            },
            {
                label: 'ADF_CLOUD_EDIT_PROCESS_FILTER.LABEL.SUSPENDED_DATE',
                type: 'date-range',
                key: 'suspendedDateRange',
                attributes: { dateType: 'suspendedDateType', from: '_suspendedFrom', to: '_suspendedTo' },
                value: {
                    suspendedDateType: filterModel.suspendedDateType || null,
                    _suspendedFrom: filterModel.suspendedFrom || null,
                    _suspendedTo: filterModel.suspendedTo || null
                }
            }
        ];
    }
}
EditProcessFilterCloudComponent.ɵfac = function EditProcessFilterCloudComponent_Factory(t) { return new (t || EditProcessFilterCloudComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.FormBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.MatDialog), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.DateAdapter), ɵngcc0.ɵɵdirectiveInject(ɵngcc4.UserPreferencesService), ɵngcc0.ɵɵdirectiveInject(ɵngcc4.TranslationService), ɵngcc0.ɵɵdirectiveInject(ɵngcc5.ProcessFilterCloudService), ɵngcc0.ɵɵdirectiveInject(ɵngcc6.AppsProcessCloudService), ɵngcc0.ɵɵdirectiveInject(ɵngcc7.ProcessCloudService)); };
EditProcessFilterCloudComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: EditProcessFilterCloudComponent, selectors: [["adf-cloud-edit-process-filter"]], inputs: { appName: "appName", role: "role", filterProperties: "filterProperties", sortProperties: "sortProperties", actions: "actions", showFilterActions: "showFilterActions", showTitle: "showTitle", showProcessFilterName: "showProcessFilterName", processFilter: "processFilter", id: "id" }, outputs: { filterChange: "filterChange", action: "action" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 4, vars: 3, consts: [[3, "hideToggle"], [3, "afterExpand", "closed"], ["id", "adf-edit-process-filter-expansion-header", 4, "ngIf"], [4, "ngIf"], ["id", "adf-edit-process-filter-expansion-header"], [4, "ngIf", "ngIfElse"], ["loadingTemplate", ""], ["fxLayoutAlign", "space-between center", "id", "adf-edit-process-filter-title-id", 4, "ngIf"], ["fxLayoutAlign", "space-between center", "id", "adf-edit-process-filter-sub-title-id"], ["class", "adf-cloud-edit-process-filter-actions", 4, "ngIf"], ["fxLayoutAlign", "space-between center", "id", "adf-edit-process-filter-title-id"], [1, "adf-cloud-edit-process-filter-actions"], ["mat-icon-button", "", 3, "matTooltip", "disabled", "click", 4, "ngFor", "ngForOf"], ["mat-icon-button", "", 3, "matTooltip", "disabled", "click"], [3, "value"], [1, "adf-cloud-edit-process-filter-loading-margin"], [3, "diameter"], [3, "formGroup", 4, "ngIf"], [3, "formGroup"], ["fxLayout", "row wrap", "fxLayout.xs", "column", "fxLayoutGap", "10px", "fxLayoutAlign", "start center"], [4, "ngFor", "ngForOf"], ["fxFlex", "23%", 3, "floatLabel", 4, "ngIf"], [3, "processFilterProperty", "options", "dateTypeChange", "dateChanged", 4, "ngIf"], ["fxFlex", "23%", 4, "ngIf"], ["fxFlex", "23%", 3, "floatLabel"], [3, "placeholder", "formControlName"], [3, "value", 4, "ngFor", "ngForOf"], [3, "placeholder", "formControlName", "multiple"], ["matInput", "", "type", "text", 3, "formControlName", "placeholder"], ["matInput", "", "type", "number", "min", "0", 3, "formControlName", "placeholder"], ["matInput", "", 3, "formControlName", "matDatepicker", "placeholder", "keyup", "dateChange"], ["matSuffix", "", 3, "for"], ["dateController", ""], [1, "adf-edit-process-filter-date-error-container"], [1, "adf-error-text"], [1, "adf-error-icon"], [3, "processFilterProperty", "options", "dateTypeChange", "dateChanged"], ["fxFlex", "23%"], [3, "preSelectUsers", "title", "validate", "appName", "mode", "changedUsers"]], template: function EditProcessFilterCloudComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "mat-accordion", 0);
        ɵngcc0.ɵɵelementStart(1, "mat-expansion-panel", 1);
        ɵngcc0.ɵɵlistener("afterExpand", function EditProcessFilterCloudComponent_Template_mat_expansion_panel_afterExpand_1_listener() { return ctx.onExpand(); })("closed", function EditProcessFilterCloudComponent_Template_mat_expansion_panel_closed_1_listener() { return ctx.onClose(); });
        ɵngcc0.ɵɵtemplate(2, EditProcessFilterCloudComponent_mat_expansion_panel_header_2_Template, 4, 2, "mat-expansion-panel-header", 2);
        ɵngcc0.ɵɵtemplate(3, EditProcessFilterCloudComponent_ng_container_3_Template, 2, 1, "ng-container", 3);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("hideToggle", ctx.isLoading);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", ctx.processFilter);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.isLoading);
    } }, directives: [ɵngcc8.MatAccordion, ɵngcc8.MatExpansionPanel, ɵngcc9.NgIf, ɵngcc8.MatExpansionPanelHeader, ɵngcc8.MatExpansionPanelDescription, ɵngcc10.DefaultLayoutAlignDirective, ɵngcc8.MatExpansionPanelTitle, ɵngcc9.NgForOf, ɵngcc11.MatButton, ɵngcc12.MatTooltip, ɵngcc4.IconComponent, ɵngcc13.MatSpinner, ɵngcc1.ɵangular_packages_forms_forms_y, ɵngcc1.NgControlStatusGroup, ɵngcc1.FormGroupDirective, ɵngcc10.DefaultLayoutDirective, ɵngcc10.DefaultLayoutGapDirective, ɵngcc14.MatFormField, ɵngcc10.DefaultFlexDirective, ɵngcc15.MatSelect, ɵngcc1.NgControlStatus, ɵngcc1.FormControlName, ɵngcc3.MatOption, ɵngcc16.MatInput, ɵngcc1.DefaultValueAccessor, ɵngcc1.NumberValueAccessor, ɵngcc14.MatLabel, ɵngcc17.MatDatepickerInput, ɵngcc17.MatDatepickerToggle, ɵngcc14.MatSuffix, ɵngcc17.MatDatepicker, ɵngcc18.MatIcon, ɵngcc19.DateRangeFilterComponent, ɵngcc20.PeopleCloudComponent], pipes: [ɵngcc21.TranslatePipe], styles: [".adf-edit-process-filter-date-error-container{height:20px;margin-top:12px;position:absolute;width:100%}.adf-edit-process-filter-date-error-container>div{display:flex;flex-flow:row;justify-content:flex-start}.adf-edit-process-filter-date-error-container .adf-error-text{color:var(--theme-warn-color);font-size:11px;height:16px;line-height:1.33;padding-right:8px;width:auto}.adf-edit-process-filter-date-error-container .adf-error-icon{color:var(--theme-warn-color);font-size:16px}.adf-cloud-edit-process-filter-loading-margin{margin-left:calc(50% - 50px);margin-right:calc(50% - 50px)}"], encapsulation: 2 });
EditProcessFilterCloudComponent.ACTION_SAVE = 'save';
EditProcessFilterCloudComponent.ACTION_SAVE_AS = 'saveAs';
EditProcessFilterCloudComponent.ACTION_DELETE = 'delete';
EditProcessFilterCloudComponent.DEFAULT_PROCESS_FILTER_PROPERTIES = ['status', 'sort', 'order', 'lastModified'];
EditProcessFilterCloudComponent.DEFAULT_SORT_PROPERTIES = ['id', 'name', 'status', 'startDate'];
EditProcessFilterCloudComponent.DEFAULT_ACTIONS = ['save', 'saveAs', 'delete'];
EditProcessFilterCloudComponent.ctorParameters = () => [
    { type: FormBuilder },
    { type: MatDialog },
    { type: DateAdapter },
    { type: UserPreferencesService },
    { type: TranslationService },
    { type: ProcessFilterCloudService },
    { type: AppsProcessCloudService },
    { type: ProcessCloudService }
];
EditProcessFilterCloudComponent.propDecorators = {
    appName: [{ type: Input }],
    role: [{ type: Input }],
    id: [{ type: Input }],
    filterProperties: [{ type: Input }],
    sortProperties: [{ type: Input }],
    actions: [{ type: Input }],
    showFilterActions: [{ type: Input }],
    showTitle: [{ type: Input }],
    showProcessFilterName: [{ type: Input }],
    filterChange: [{ type: Output }],
    action: [{ type: Output }],
    processFilter: [{ type: Input }]
};
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(EditProcessFilterCloudComponent, [{
        type: Component,
        args: [{
                selector: 'adf-cloud-edit-process-filter',
                template: "<mat-accordion [hideToggle]=\"isLoading\">\n    <mat-expansion-panel (afterExpand)=\"onExpand()\" (closed)=\"onClose()\">\n        <mat-expansion-panel-header *ngIf=\"processFilter\" id=\"adf-edit-process-filter-expansion-header\">\n            <ng-container *ngIf=\"!isLoading; else loadingTemplate\">\n                <mat-panel-title *ngIf=\"showProcessFilterName\" fxLayoutAlign=\"space-between center\" id=\"adf-edit-process-filter-title-id\">{{processFilter.name | translate}}</mat-panel-title>\n                <mat-panel-description fxLayoutAlign=\"space-between center\" id=\"adf-edit-process-filter-sub-title-id\">\n                    <span *ngIf=\"showTitle\"> {{ 'ADF_CLOUD_EDIT_PROCESS_FILTER.TITLE' | translate}}</span>\n                    <div *ngIf=\"showFilterActions\" class=\"adf-cloud-edit-process-filter-actions\">\n                        <ng-container *ngIf=\"toggleFilterActions\">\n                            <button *ngFor=\"let filterAction of processFilterActions\" mat-icon-button matTooltip=\"{{ filterAction.tooltip | translate}}\" [attr.data-automation-id]=\"'adf-filter-action-' + filterAction.actionType\" [disabled]=\"isDisabledAction(filterAction)\" (click)=\"executeFilterActions(filterAction)\">\n                                <adf-icon [value]=\"filterAction.icon\"></adf-icon>\n                            </button>\n                        </ng-container>\n                    </div>\n                </mat-panel-description>\n            </ng-container>\n            <ng-template #loadingTemplate>\n                <div class=\"adf-cloud-edit-process-filter-loading-margin\">\n                    <mat-spinner [diameter]=\"30\"></mat-spinner>\n                </div>\n            </ng-template>\n        </mat-expansion-panel-header>\n        <ng-container *ngIf=\"!isLoading\">\n            <form [formGroup]=\"editProcessFilterForm\" *ngIf=\"editProcessFilterForm\">\n                <div fxLayout=\"row wrap\" fxLayout.xs=\"column\" fxLayoutGap=\"10px\" fxLayoutAlign=\"start center\">\n                    <ng-container *ngFor=\"let processFilterProperty of processFilterProperties\">\n                        <mat-form-field [floatLabel]=\"'auto'\" fxFlex=\"23%\" *ngIf=\"processFilterProperty.type === 'select'\" [attr.data-automation-id]=\"processFilterProperty.key\">\n                            <mat-select\n                                placeholder=\"{{processFilterProperty.label | translate}}\"\n                                [formControlName]=\"processFilterProperty.key\"\n                                [attr.data-automation-id]=\"'adf-cloud-edit-process-property-' + processFilterProperty.key\">\n                                <mat-option\n                                    *ngFor=\"let propertyOption of processFilterProperty.options\"\n                                    [value]=\"propertyOption.value\"\n                                    [attr.data-automation-id]=\"'adf-cloud-edit-process-property-options-' + processFilterProperty.key\"\n                                >{{ propertyOption.label | translate }}</mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                        <mat-form-field [floatLabel]=\"'auto'\" fxFlex=\"23%\" *ngIf=\"processFilterProperty.type === 'multi-select'\" [attr.data-automation-id]=\"processFilterProperty.key\">\n                            <mat-select\n                                placeholder=\"{{processFilterProperty.label | translate}}\"\n                                [formControlName]=\"processFilterProperty.key\"\n                                [attr.data-automation-id]=\"'adf-cloud-edit-process-property-' + processFilterProperty.key\"\n                                [multiple]=\"true\">\n                                <mat-option *ngFor=\"let propertyOption of processFilterProperty.options\" [value]=\"propertyOption.value\" [attr.data-automation-id]=\"'adf-cloud-edit-process-property-options-' + processFilterProperty.key\">\n                                    {{ propertyOption.label | translate }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                        <mat-form-field [floatLabel]=\"'auto'\" fxFlex=\"23%\" *ngIf=\"processFilterProperty.type === 'text'\" [attr.data-automation-id]=\"processFilterProperty.key\">\n                            <input matInput\n                                [formControlName]=\"processFilterProperty.key\"\n                                type=\"text\"\n                                placeholder=\"{{processFilterProperty.label | translate}}\"\n                                [attr.data-automation-id]=\"'adf-cloud-edit-process-property-' + processFilterProperty.key\"/>\n                        </mat-form-field>\n                        <mat-form-field [floatLabel]=\"'auto'\" fxFlex=\"23%\" *ngIf=\"processFilterProperty.type === 'number'\" [attr.data-automation-id]=\"processFilterProperty.key\">\n                            <input matInput\n                                [formControlName]=\"processFilterProperty.key\"\n                                type=\"number\" min=\"0\"\n                                placeholder=\"{{processFilterProperty.label | translate}}\"\n                                [attr.data-automation-id]=\"'adf-cloud-edit-process-property-' + processFilterProperty.key\"/>\n                        </mat-form-field>\n                        <mat-form-field [floatLabel]=\"'auto'\" fxFlex=\"23%\" *ngIf=\"processFilterProperty.type === 'date'\" [attr.data-automation-id]=\"processFilterProperty.key\">\n                            <mat-label>{{processFilterProperty.label | translate}}</mat-label>\n                            <input\n                                matInput\n                                [formControlName]=\"processFilterProperty.key\"\n                                (keyup)=\"onDateChanged($any($event).srcElement.value, processFilterProperty)\"\n                                (dateChange)=\"onDateChanged($event.value, processFilterProperty)\"\n                                [matDatepicker]=\"dateController\"\n                                placeholder=\"{{processFilterProperty.label | translate}}\"\n                                [attr.data-automation-id]=\"'adf-cloud-edit-process-property-' + processFilterProperty.key\">\n                        <mat-datepicker-toggle matSuffix [for]=\"dateController\" [attr.data-automation-id]=\"'adf-cloud-edit-process-property-date-toggle-' + processFilterProperty.key\"></mat-datepicker-toggle>\n                        <mat-datepicker #dateController [attr.data-automation-id]=\"'adf-cloud-edit-process-property-date-picker-' + processFilterProperty.key\"></mat-datepicker>\n                        <div class=\"adf-edit-process-filter-date-error-container\">\n                            <div *ngIf=\"hasError(processFilterProperty)\">\n                                <div class=\"adf-error-text\">{{'ADF_CLOUD_EDIT_PROCESS_FILTER.ERROR.DATE' | translate}}</div>\n                                <mat-icon class=\"adf-error-icon\">warning</mat-icon>\n                            </div>\n                        </div>\n                        </mat-form-field>\n\n                        <adf-cloud-date-range-filter *ngIf=\"processFilterProperty.type === 'date-range'\"\n                            [processFilterProperty]=\"processFilterProperty\"\n                            [options]=\"processFilterProperty.dateFilterOptions\"\n                            (dateTypeChange)=\"onDateTypeChange($event, processFilterProperty)\"\n                            (dateChanged)=\"onDateRangeFilterChanged($event, processFilterProperty)\"></adf-cloud-date-range-filter>\n\n                        <div fxFlex=\"23%\" *ngIf=\"processFilterProperty.type === 'people'\">\n                            <adf-cloud-people\n                                [preSelectUsers]=\"initiatorOptions\"\n                                [title]=\"processFilterProperty.label\"\n                                [validate]=\"true\"\n                                [appName]=\"appName\"\n                                [mode]=\"processFilterProperty.selectionMode\"\n                                (changedUsers)=\"onChangedUser($event, processFilterProperty)\"></adf-cloud-people>\n                        </div>\n                    </ng-container>\n                </div>\n            </form>\n        </ng-container>\n    </mat-expansion-panel>\n</mat-accordion>\n",
                encapsulation: ViewEncapsulation.None,
                styles: [".adf-edit-process-filter-date-error-container{height:20px;margin-top:12px;position:absolute;width:100%}.adf-edit-process-filter-date-error-container>div{display:flex;flex-flow:row;justify-content:flex-start}.adf-edit-process-filter-date-error-container .adf-error-text{color:var(--theme-warn-color);font-size:11px;height:16px;line-height:1.33;padding-right:8px;width:auto}.adf-edit-process-filter-date-error-container .adf-error-icon{color:var(--theme-warn-color);font-size:16px}.adf-cloud-edit-process-filter-loading-margin{margin-left:calc(50% - 50px);margin-right:calc(50% - 50px)}"]
            }]
    }], function () { return [{ type: ɵngcc1.FormBuilder }, { type: ɵngcc2.MatDialog }, { type: ɵngcc3.DateAdapter }, { type: ɵngcc4.UserPreferencesService }, { type: ɵngcc4.TranslationService }, { type: ɵngcc5.ProcessFilterCloudService }, { type: ɵngcc6.AppsProcessCloudService }, { type: ɵngcc7.ProcessCloudService }]; }, { appName: [{
            type: Input
        }], role: [{
            type: Input
        }], filterProperties: [{
            type: Input
        }], sortProperties: [{
            type: Input
        }], actions: [{
            type: Input
        }], showFilterActions: [{
            type: Input
        }], showTitle: [{
            type: Input
        }], showProcessFilterName: [{
            type: Input
        }], filterChange: [{
            type: Output
        }], action: [{
            type: Output
        }], processFilter: [{
            type: Input
        }], id: [{
            type: Input
        }] }); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdC1wcm9jZXNzLWZpbHRlci1jbG91ZC5jb21wb25lbnQuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2hvbWUvdHJhdmlzL2J1aWxkL0FsZnJlc2NvL2FsZnJlc2NvLW5nMi1jb21wb25lbnRzL2xpYi9wcm9jZXNzLXNlcnZpY2VzLWNsb3VkL3NyYy9saWIvcHJvY2Vzcy9wcm9jZXNzLWZpbHRlcnMvY29tcG9uZW50cy9lZGl0LXByb2Nlc3MtZmlsdGVyLWNsb3VkLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBRUgsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBK0MsaUJBQWlCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDdkksT0FBTyxFQUFhLFdBQVcsRUFBbUIsTUFBTSxnQkFBZ0IsQ0FBQztBQUN6RSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDckQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3JELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdEYsT0FBTyxFQUFFLE9BQU8sRUFBNEIsTUFBTSxNQUFNLENBQUM7QUFDekQsT0FBTyxNQUFNLE1BQU0sWUFBWSxDQUFDO0FBRWhDLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLGtEQUFrRCxDQUFDO0FBQzNGLE9BQU8sRUFBRSx1QkFBdUIsRUFBaUcsTUFBTSxzQ0FBc0MsQ0FBQztBQUM5SyxPQUFPLEVBQXFCLGtCQUFrQixFQUFFLHNCQUFzQixFQUFFLG9CQUFvQixFQUFFLE1B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QkErREU7QUFBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBPbkluaXQsIE9uQ2hhbmdlcywgU2ltcGxlQ2hhbmdlcywgT25EZXN0cm95LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUdyb3VwLCBGb3JtQnVpbGRlciwgQWJzdHJhY3RDb250cm9sIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgRGF0ZUFkYXB0ZXIgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9jb3JlJztcbmltcG9ydCB7IE1hdERpYWxvZyB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XG5pbXBvcnQgeyBkZWJvdW5jZVRpbWUsIGZpbHRlciwgdGFrZVVudGlsLCBmaW5hbGl6ZSwgc3dpdGNoTWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgU3ViamVjdCwgT2JzZXJ2YWJsZSwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudC1lczYnO1xuaW1wb3J0IHsgTW9tZW50IH0gZnJvbSAnbW9tZW50JztcbmltcG9ydCB7IEFwcHNQcm9jZXNzQ2xvdWRTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vYXBwL3NlcnZpY2VzL2FwcHMtcHJvY2Vzcy1jbG91ZC5zZXJ2aWNlJztcbmltcG9ydCB7IFByb2Nlc3NGaWx0ZXJDbG91ZE1vZGVsLCBQcm9jZXNzRmlsdGVyUHJvcGVydGllcywgUHJvY2Vzc0ZpbHRlckFjdGlvbiwgUHJvY2Vzc0ZpbHRlck9wdGlvbnMsIFByb2Nlc3NTb3J0RmlsdGVyUHJvcGVydHkgfSBmcm9tICcuLi9tb2RlbHMvcHJvY2Vzcy1maWx0ZXItY2xvdWQubW9kZWwnO1xuaW1wb3J0IHsgSWRlbnRpdHlVc2VyTW9kZWwsIFRyYW5zbGF0aW9uU2VydmljZSwgVXNlclByZWZlcmVuY2VzU2VydmljZSwgVXNlclByZWZlcmVuY2VWYWx1ZXMgfSBmcm9tICdAYWxmcmVzY28vYWRmLWNvcmUnO1xuaW1wb3J0IHsgUHJvY2Vzc0ZpbHRlckNsb3VkU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL3Byb2Nlc3MtZmlsdGVyLWNsb3VkLnNlcnZpY2UnO1xuaW1wb3J0IHsgUHJvY2Vzc0ZpbHRlckRpYWxvZ0Nsb3VkQ29tcG9uZW50IH0gZnJvbSAnLi9wcm9jZXNzLWZpbHRlci1kaWFsb2ctY2xvdWQuY29tcG9uZW50JztcbmltcG9ydCB7IFByb2Nlc3NDbG91ZFNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9wcm9jZXNzLWNsb3VkLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGF0ZUNsb3VkRmlsdGVyVHlwZSwgRGF0ZVJhbmdlRmlsdGVyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL2RhdGUtY2xvdWQtZmlsdGVyLm1vZGVsJztcblxuZXhwb3J0IGludGVyZmFjZSBEcm9wZG93bk9wdGlvbiB7XG4gICAgdmFsdWU6IHN0cmluZztcbiAgICBsYWJlbDogc3RyaW5nO1xufVxuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1jbG91ZC1lZGl0LXByb2Nlc3MtZmlsdGVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vZWRpdC1wcm9jZXNzLWZpbHRlci1jbG91ZC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vZWRpdC1wcm9jZXNzLWZpbHRlci1jbG91ZC5jb21wb25lbnQuc2NzcyddLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgRWRpdFByb2Nlc3NGaWx0ZXJDbG91ZENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xuXG4gICAgcHVibGljIHN0YXRpYyBBQ1RJT05fU0FWRSA9ICdzYXZlJztcbiAgICBwdWJsaWMgc3RhdGljIEFDVElPTl9TQVZFX0FTID0gJ3NhdmVBcyc7XG4gICAgcHVibGljIHN0YXRpYyBBQ1RJT05fREVMRVRFID0gJ2RlbGV0ZSc7XG4gICAgcHVibGljIHN0YXRpYyBERUZBVUxUX1BST0NFU1NfRklMVEVSX1BST1BFUlRJRVMgPSBbJ3N0YXR1cycsICdzb3J0JywgJ29yZGVyJywgJ2xhc3RNb2RpZmllZCddO1xuICAgIHB1YmxpYyBzdGF0aWMgREVGQVVMVF9TT1JUX1BST1BFUlRJRVMgPSBbJ2lkJywgJ25hbWUnLCAnc3RhdHVzJywgJ3N0YXJ0RGF0ZSddO1xuICAgIHB1YmxpYyBzdGF0aWMgREVGQVVMVF9BQ1RJT05TID0gWydzYXZlJywgJ3NhdmVBcycsICdkZWxldGUnXTtcbiAgICBwdWJsaWMgREFURV9GT1JNQVQ6IHN0cmluZyA9ICdERC9NTS9ZWVlZJztcblxuICAgIC8qKiBUaGUgbmFtZSBvZiB0aGUgYXBwbGljYXRpb24uICovXG4gICAgQElucHV0KClcbiAgICBhcHBOYW1lOiBzdHJpbmcgPSAnJztcblxuICAgIC8qKiByb2xlcyB0byBmaWx0ZXIgdGhlIGFwcHMgKi9cbiAgICBASW5wdXQoKVxuICAgIHJvbGU6IHN0cmluZyA9ICcnO1xuXG4gICAgLyoqIElkIG9mIHRoZSBwcm9jZXNzIGluc3RhbmNlIGZpbHRlci4gKi9cbiAgICBASW5wdXQoKVxuICAgIGlkOiBzdHJpbmc7XG5cbiAgICAvKiogTGlzdCBvZiBwcm9jZXNzIGZpbHRlciBwcm9wZXJ0aWVzIHRvIGRpc3BsYXkgKi9cbiAgICBASW5wdXQoKVxuICAgIGZpbHRlclByb3BlcnRpZXMgPSBFZGl0UHJvY2Vzc0ZpbHRlckNsb3VkQ29tcG9uZW50LkRFRkFVTFRfUFJPQ0VTU19GSUxURVJfUFJPUEVSVElFUztcblxuICAgIC8qKiBMaXN0IG9mIHNvcnQgcHJvcGVydGllcyB0byBkaXNwbGF5LiAqL1xuICAgIEBJbnB1dCgpXG4gICAgc29ydFByb3BlcnRpZXMgPSBFZGl0UHJvY2Vzc0ZpbHRlckNsb3VkQ29tcG9uZW50LkRFRkFVTFRfU09SVF9QUk9QRVJUSUVTO1xuXG4gICAgLyoqIExpc3Qgb2Ygc29ydCBhY3Rpb25zLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgYWN0aW9ucyA9IEVkaXRQcm9jZXNzRmlsdGVyQ2xvdWRDb21wb25lbnQuREVGQVVMVF9BQ1RJT05TO1xuXG4gICAgLyoqIFRvZ2dsZXMgZWRpdGluZyBvZiBwcm9jZXNzIGZpbHRlciBhY3Rpb25zLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2hvd0ZpbHRlckFjdGlvbnMgPSB0cnVlO1xuXG4gICAgLyoqIFRvZ2dsZXMgZWRpdGluZyBvZiB0aGUgcHJvY2VzcyBmaWx0ZXIgdGl0bGUuICovXG4gICAgQElucHV0KClcbiAgICBzaG93VGl0bGUgPSB0cnVlO1xuXG4gICAgIC8qKiBUb2dnbGVzIHRoZSBhcHBlYXJhbmNlIG9mIHRoZSBwcm9jZXNzIGZpbHRlciBuYW1lIC4gKi9cbiAgICBASW5wdXQoKVxuICAgIHNob3dQcm9jZXNzRmlsdGVyTmFtZSA9IHRydWU7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIGEgcHJvY2VzcyBpbnN0YW5jZSBmaWx0ZXIgcHJvcGVydHkgY2hhbmdlcy4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBmaWx0ZXJDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPFByb2Nlc3NGaWx0ZXJDbG91ZE1vZGVsPigpO1xuXG4gICAgLyoqIEVtaXR0ZWQgd2hlbiBhIGZpbHRlciBhY3Rpb24gb2NjdXJzIGkuZSBTYXZlLCBTYXZlQXMsIERlbGV0ZS4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBhY3Rpb24gPSBuZXcgRXZlbnRFbWl0dGVyPFByb2Nlc3NGaWx0ZXJBY3Rpb24+KCk7XG5cbiAgICBwcml2YXRlIF9maWx0ZXI6IFByb2Nlc3NGaWx0ZXJDbG91ZE1vZGVsO1xuICAgIHByb3RlY3RlZCBmaWx0ZXJIYXNCZWVuQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgZ2V0IHByb2Nlc3NGaWx0ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maWx0ZXI7XG4gICAgfVxuXG4gICAgQElucHV0KClcbiAgICBzZXQgcHJvY2Vzc0ZpbHRlcih2YWx1ZTogUHJvY2Vzc0ZpbHRlckNsb3VkTW9kZWwpIHtcbiAgICAgICAgY29uc3QgaXNDaGFuZ2VkID0gdGhpcy5pc0ZpbHRlckNoYW5nZWQodGhpcy5fZmlsdGVyLCB2YWx1ZSk7XG5cbiAgICAgICAgdGhpcy5fZmlsdGVyID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKHZhbHVlPy5hcHBOYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmFwcE5hbWUgPSB2YWx1ZS5hcHBOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbHVlPy5pZCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHZhbHVlLmlkO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcm9jZXNzRmlsdGVyUHJvcGVydGllcyA9IHRoaXMuY3JlYXRlQW5kRmlsdGVyUHJvcGVydGllcygpO1xuICAgICAgICB0aGlzLnByb2Nlc3NGaWx0ZXJBY3Rpb25zID0gdGhpcy5jcmVhdGVBbmRGaWx0ZXJBY3Rpb25zKCk7XG5cbiAgICAgICAgdGhpcy5idWlsZEZvcm0odGhpcy5wcm9jZXNzRmlsdGVyUHJvcGVydGllcyk7XG5cbiAgICAgICAgaWYgKGlzQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJDaGFuZ2UuZW1pdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0dXM6IEFycmF5PERyb3Bkb3duT3B0aW9uPiA9IFtcbiAgICAgICAgeyB2YWx1ZTogJycsIGxhYmVsOiAnQURGX0NMT1VEX1BST0NFU1NfRklMVEVSUy5TVEFUVVMuQUxMJyB9LFxuICAgICAgICB7IHZhbHVlOiAnUlVOTklORycsIGxhYmVsOiAnQURGX0NMT1VEX1BST0NFU1NfRklMVEVSUy5TVEFUVVMuUlVOTklORycgfSxcbiAgICAgICAgeyB2YWx1ZTogJ1NVU1BFTkRFRCcsIGxhYmVsOiAnQURGX0NMT1VEX1BST0NFU1NfRklMVEVSUy5TVEFUVVMuU1VTUEVOREVEJyB9LFxuICAgICAgICB7IHZhbHVlOiAnQ0FOQ0VMTEVEJywgbGFiZWw6ICdBREZfQ0xPVURfUFJPQ0VTU19GSUxURVJTLlNUQVRVUy5DQU5DRUxMRUQnIH0sXG4gICAgICAgIHsgdmFsdWU6ICdDT01QTEVURUQnLCBsYWJlbDogJ0FERl9DTE9VRF9QUk9DRVNTX0ZJTFRFUlMuU1RBVFVTLkNPTVBMRVRFRCcgfVxuICAgIF07XG4gICAgZGlyZWN0aW9uczogQXJyYXk8RHJvcGRvd25PcHRpb24+ID0gW1xuICAgICAgICB7IHZhbHVlOiAnQVNDJywgbGFiZWw6ICdBREZfQ0xPVURfUFJPQ0VTU19GSUxURVJTLkRJUkVDVElPTi5BU0NFTkRJTkcnIH0sXG4gICAgICAgIHsgdmFsdWU6ICdERVNDJywgbGFiZWw6ICdBREZfQ0xPVURfUFJPQ0VTU19GSUxURVJTLkRJUkVDVElPTi5ERVNDRU5ESU5HJyB9XG4gICAgXTtcbiAgICBhY3Rpb25EaXNhYmxlZEZvckRlZmF1bHQgPSBbXG4gICAgICAgIEVkaXRQcm9jZXNzRmlsdGVyQ2xvdWRDb21wb25lbnQuQUNUSU9OX1NBVkUsXG4gICAgICAgIEVkaXRQcm9jZXNzRmlsdGVyQ2xvdWRDb21wb25lbnQuQUNUSU9OX0RFTEVURVxuICAgIF07XG4gICAgYXBwbGljYXRpb25OYW1lczogYW55W10gPSBbXTtcbiAgICBhbGxQcm9jZXNzRGVmaW5pdGlvbk5hbWVzT3B0aW9uOiBEcm9wZG93bk9wdGlvbiA9IHtcbiAgICAgICAgbGFiZWw6ICdBREZfQ0xPVURfUFJPQ0VTU19GSUxURVJTLlNUQVRVUy5BTEwnLFxuICAgICAgICB2YWx1ZTogJydcbiAgICB9O1xuICAgIHByb2Nlc3NEZWZpbml0aW9uTmFtZXM6IGFueVtdID0gW107XG4gICAgZWRpdFByb2Nlc3NGaWx0ZXJGb3JtOiBGb3JtR3JvdXA7XG4gICAgcHJvY2Vzc0ZpbHRlclByb3BlcnRpZXM6IFByb2Nlc3NGaWx0ZXJQcm9wZXJ0aWVzW10gPSBbXTtcbiAgICBwcm9jZXNzRmlsdGVyQWN0aW9uczogUHJvY2Vzc0ZpbHRlckFjdGlvbltdID0gW107XG4gICAgdG9nZ2xlRmlsdGVyQWN0aW9uczogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGFwcFZlcnNpb25PcHRpb25zOiBQcm9jZXNzRmlsdGVyT3B0aW9uc1tdID0gW107XG4gICAgaW5pdGlhdG9yT3B0aW9uczogSWRlbnRpdHlVc2VyTW9kZWxbXSA9IFtdO1xuXG4gICAgcHJpdmF0ZSBvbkRlc3Ryb3kkID0gbmV3IFN1YmplY3Q8Ym9vbGVhbj4oKTtcbiAgICBpc0xvYWRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIGZpbHRlckNoYW5nZVN1YjogU3Vic2NyaXB0aW9uO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgZm9ybUJ1aWxkZXI6IEZvcm1CdWlsZGVyLFxuICAgICAgICBwdWJsaWMgZGlhbG9nOiBNYXREaWFsb2csXG4gICAgICAgIHByaXZhdGUgZGF0ZUFkYXB0ZXI6IERhdGVBZGFwdGVyPE1vbWVudD4sXG4gICAgICAgIHByaXZhdGUgdXNlclByZWZlcmVuY2VzU2VydmljZTogVXNlclByZWZlcmVuY2VzU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSB0cmFuc2xhdGVTZXJ2aWNlOiBUcmFuc2xhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgcHJvY2Vzc0ZpbHRlckNsb3VkU2VydmljZTogUHJvY2Vzc0ZpbHRlckNsb3VkU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBhcHBzUHJvY2Vzc0Nsb3VkU2VydmljZTogQXBwc1Byb2Nlc3NDbG91ZFNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgcHJvY2Vzc0Nsb3VkU2VydmljZTogUHJvY2Vzc0Nsb3VkU2VydmljZSkge1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnVzZXJQcmVmZXJlbmNlc1NlcnZpY2VcbiAgICAgICAgICAgIC5zZWxlY3QoVXNlclByZWZlcmVuY2VWYWx1ZXMuTG9jYWxlKVxuICAgICAgICAgICAgLnBpcGUodGFrZVVudGlsKHRoaXMub25EZXN0cm95JCkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKGxvY2FsZSA9PiB0aGlzLmRhdGVBZGFwdGVyLnNldExvY2FsZShsb2NhbGUpKTtcbiAgICB9XG5cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IGlkID0gY2hhbmdlc1snaWQnXTtcbiAgICAgICAgaWYgKGlkICYmIGlkLmN1cnJlbnRWYWx1ZSAhPT0gaWQucHJldmlvdXNWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5yZXRyaWV2ZVByb2Nlc3NGaWx0ZXJBbmRCdWlsZEZvcm0oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLm9uRGVzdHJveSQubmV4dCh0cnVlKTtcbiAgICAgICAgdGhpcy5vbkRlc3Ryb3kkLmNvbXBsZXRlKCk7XG4gICAgfVxuXG4gICAgYnVpbGRGb3JtKHByb2Nlc3NGaWx0ZXJQcm9wZXJ0aWVzOiBQcm9jZXNzRmlsdGVyUHJvcGVydGllc1tdKSB7XG4gICAgICAgIHRoaXMuZWRpdFByb2Nlc3NGaWx0ZXJGb3JtID0gdGhpcy5mb3JtQnVpbGRlci5ncm91cCh0aGlzLmdldEZvcm1Db250cm9sc0NvbmZpZyhwcm9jZXNzRmlsdGVyUHJvcGVydGllcykpO1xuICAgICAgICB0aGlzLm9uRmlsdGVyQ2hhbmdlKCk7XG4gICAgfVxuXG4gICAgZ2V0Rm9ybUNvbnRyb2xzQ29uZmlnKHByb2Nlc3NGaWx0ZXJQcm9wZXJ0aWVzOiBQcm9jZXNzRmlsdGVyUHJvcGVydGllc1tdKTogYW55IHtcbiAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IHByb2Nlc3NGaWx0ZXJQcm9wZXJ0aWVzLm1hcCgocHJvcGVydHkpID0+IHtcbiAgICAgICAgICAgIGlmICghIXByb3BlcnR5LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGVzQ29udHJvbENvbmZpZyhwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IFtwcm9wZXJ0eS5rZXldOiBwcm9wZXJ0eS52YWx1ZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXMucmVkdWNlKCgocmVzdWx0LCBjdXJyZW50KSA9PiBPYmplY3QuYXNzaWduKHJlc3VsdCwgY3VycmVudCkpLCB7fSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRBdHRyaWJ1dGVzQ29udHJvbENvbmZpZyhwcm9wZXJ0eTogUHJvY2Vzc0ZpbHRlclByb3BlcnRpZXMpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocHJvcGVydHkuYXR0cmlidXRlcykucmVkdWNlKChyZXN1bHQsIGtleSkgPT4ge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBwcm9wZXJ0eS52YWx1ZVtrZXldO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwge30pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgcHJvY2VzcyBpbnN0YW5jZSBmaWx0ZXIgYnkgYXBwbGljYXRpb24gbmFtZSBhbmQgZmlsdGVyIGlkIGFuZCBjcmVhdGVzIGZpbHRlciBwcm9wZXJ0aWVzLCBidWlsZCBmb3JtXG4gICAgICovXG4gICAgcmV0cmlldmVQcm9jZXNzRmlsdGVyQW5kQnVpbGRGb3JtKCkge1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMucHJvY2Vzc0ZpbHRlckNsb3VkU2VydmljZVxuICAgICAgICAgICAgLmdldEZpbHRlckJ5SWQodGhpcy5hcHBOYW1lLCB0aGlzLmlkKVxuICAgICAgICAgICAgLnBpcGUoZmluYWxpemUoKCkgPT4gdGhpcy5pc0xvYWRpbmcgPSBmYWxzZSkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckhhc0JlZW5DaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzRmlsdGVyID0gbmV3IFByb2Nlc3NGaWx0ZXJDbG91ZE1vZGVsKFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZSB8fCB7fSwgdGhpcy5wcm9jZXNzRmlsdGVyIHx8IHt9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBwcm9jZXNzIGluc3RhbmNlIGZpbHRlciBjaGFuZ2VzXG4gICAgICovXG4gICAgb25GaWx0ZXJDaGFuZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmZpbHRlckNoYW5nZVN1Yikge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJDaGFuZ2VTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyQ2hhbmdlU3ViID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlsdGVyQ2hhbmdlU3ViID0gdGhpcy5lZGl0UHJvY2Vzc0ZpbHRlckZvcm0udmFsdWVDaGFuZ2VzXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBkZWJvdW5jZVRpbWUoNTAwKSxcbiAgICAgICAgICAgICAgICBmaWx0ZXIoKCkgPT4gdGhpcy5pc0Zvcm1WYWxpZCgpKSxcbiAgICAgICAgICAgICAgICB0YWtlVW50aWwodGhpcy5vbkRlc3Ryb3kkKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoZm9ybVZhbHVlczogUHJvY2Vzc0ZpbHRlckNsb3VkTW9kZWwpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldExhc3RNb2RpZmllZFRvRmlsdGVyKGZvcm1WYWx1ZXMpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBuZXcgUHJvY2Vzc0ZpbHRlckNsb3VkTW9kZWwoT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9jZXNzRmlsdGVyLCBmb3JtVmFsdWVzKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlZCA9ICF0aGlzLmNvbXBhcmVGaWx0ZXJzKG5ld1ZhbHVlLCB0aGlzLnByb2Nlc3NGaWx0ZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVySGFzQmVlbkNoYW5nZWQgPSBjaGFuZ2VkO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlsdGVyID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQ2hhbmdlLmVtaXQobmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNyZWF0ZUFuZEZpbHRlclByb3BlcnRpZXMoKTogUHJvY2Vzc0ZpbHRlclByb3BlcnRpZXNbXSB7XG4gICAgICAgIHRoaXMuY2hlY2tNYW5kYXRvcnlGaWx0ZXJQcm9wZXJ0aWVzKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyUHJvcGVydGllcy5pbmNsdWRlcygnYXBwTmFtZScpKSB7XG4gICAgICAgICAgICB0aGlzLmdldFJ1bm5pbmdBcHBsaWNhdGlvbnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmZpbHRlclByb3BlcnRpZXMuaW5jbHVkZXMoJ3Byb2Nlc3NEZWZpbml0aW9uTmFtZScpKSB7XG4gICAgICAgICAgICB0aGlzLmdldFByb2Nlc3NEZWZpbml0aW9ucygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyUHJvcGVydGllcy5pbmNsdWRlcygnYXBwVmVyc2lvbk11bHRpcGxlJykpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0QXBwVmVyc2lvbk9wdGlvbnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmZpbHRlclByb3BlcnRpZXMuaW5jbHVkZXMoJ2luaXRpYXRvcicpKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRpYXRvck9wdGlvbnMgPSAhIXRoaXMucHJvY2Vzc0ZpbHRlci5pbml0aWF0b3JcbiAgICAgICAgICAgICAgICA/IHRoaXMucHJvY2Vzc0ZpbHRlci5pbml0aWF0b3Iuc3BsaXQoJywnKS5tYXAoIHVzZXJuYW1lID0+IE9iamVjdC5hc3NpZ24oe30sIHsgdXNlcm5hbWU6IHVzZXJuYW1lIH0pKVxuICAgICAgICAgICAgICAgIDogW107XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZWZhdWx0UHJvcGVydGllcyA9IHRoaXMuY3JlYXRlUHJvY2Vzc0ZpbHRlclByb3BlcnRpZXModGhpcy5wcm9jZXNzRmlsdGVyKTtcbiAgICAgICAgbGV0IGZpbHRlcmVkUHJvcGVydGllcyA9IGRlZmF1bHRQcm9wZXJ0aWVzLmZpbHRlcigoZmlsdGVyUHJvcGVydHkpID0+IHRoaXMuaXNWYWxpZFByb3BlcnR5KHRoaXMuZmlsdGVyUHJvcGVydGllcywgZmlsdGVyUHJvcGVydHkua2V5KSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmZpbHRlclByb3BlcnRpZXMuaW5jbHVkZXMoJ3NvcnQnKSkge1xuICAgICAgICAgICAgZmlsdGVyZWRQcm9wZXJ0aWVzID0gZmlsdGVyZWRQcm9wZXJ0aWVzLmZpbHRlcihwcm9wZXJ0eSA9PiBwcm9wZXJ0eS5rZXkgIT09ICdvcmRlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyUHJvcGVydGllcy5pbmNsdWRlcygnbGFzdE1vZGlmaWVkJykpIHtcbiAgICAgICAgICAgIGZpbHRlcmVkUHJvcGVydGllcyA9IFtcbiAgICAgICAgICAgICAgICAuLi5maWx0ZXJlZFByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgLi4udGhpcy5jcmVhdGVMYXN0TW9kaWZpZWRQcm9wZXJ0eSh0aGlzLnByb2Nlc3NGaWx0ZXIpXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkUHJvcGVydGllcztcbiAgICB9XG5cbiAgICBjaGVja01hbmRhdG9yeUZpbHRlclByb3BlcnRpZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLmZpbHRlclByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCB8fCB0aGlzLmZpbHRlclByb3BlcnRpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpbHRlclByb3BlcnRpZXMgPSBFZGl0UHJvY2Vzc0ZpbHRlckNsb3VkQ29tcG9uZW50LkRFRkFVTFRfUFJPQ0VTU19GSUxURVJfUFJPUEVSVElFUztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaXNWYWxpZFByb3BlcnR5KGZpbHRlclByb3BlcnRpZXM6IHN0cmluZ1tdLCBrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmlsdGVyUHJvcGVydGllcyA/IGZpbHRlclByb3BlcnRpZXMuaW5kZXhPZihrZXkpID49IDAgOiB0cnVlO1xuICAgIH1cblxuICAgIGdldCBjcmVhdGVTb3J0UHJvcGVydGllcygpOiBQcm9jZXNzRmlsdGVyT3B0aW9uc1tdIHtcbiAgICAgICAgdGhpcy5jaGVja01hbmRhdG9yeVNvcnRQcm9wZXJ0aWVzKCk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRTb3J0UHJvcGVydGllcyA9IHRoaXMuY3JlYXRlUHJvY2Vzc1NvcnRQcm9wZXJ0aWVzKCk7XG4gICAgICAgIHJldHVybiBkZWZhdWx0U29ydFByb3BlcnRpZXMuZmlsdGVyKChzb3J0UHJvcGVydHkpID0+IHRoaXMuaXNWYWxpZFByb3BlcnR5KHRoaXMuc29ydFByb3BlcnRpZXMsIHNvcnRQcm9wZXJ0eS5rZXkpKTtcbiAgICB9XG5cbiAgICBnZXRBcHBWZXJzaW9uT3B0aW9ucygpIHtcbiAgICAgICAgdGhpcy5hcHBWZXJzaW9uT3B0aW9ucyA9IFtdO1xuXG4gICAgICAgIHRoaXMucHJvY2Vzc0Nsb3VkU2VydmljZS5nZXRBcHBsaWNhdGlvblZlcnNpb25zKHRoaXMuYXBwTmFtZSkuc3Vic2NyaWJlKChhcHBWZXJzaW9ucykgPT4ge1xuICAgICAgICAgICAgYXBwVmVyc2lvbnMuZm9yRWFjaChhcHBWZXJzaW9uID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcFZlcnNpb25PcHRpb25zLnB1c2goeyBsYWJlbDogYXBwVmVyc2lvbi5lbnRyeS52ZXJzaW9uLCB2YWx1ZTogYXBwVmVyc2lvbi5lbnRyeS52ZXJzaW9uIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNoZWNrTWFuZGF0b3J5U29ydFByb3BlcnRpZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLnNvcnRQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgfHwgdGhpcy5zb3J0UHJvcGVydGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc29ydFByb3BlcnRpZXMgPSBFZGl0UHJvY2Vzc0ZpbHRlckNsb3VkQ29tcG9uZW50LkRFRkFVTFRfU09SVF9QUk9QRVJUSUVTO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlQW5kRmlsdGVyQWN0aW9ucygpIHtcbiAgICAgICAgdGhpcy5jaGVja01hbmRhdG9yeUFjdGlvbnMoKTtcbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IHRoaXMuY3JlYXRlRmlsdGVyQWN0aW9ucygpO1xuICAgICAgICByZXR1cm4gYWN0aW9ucy5maWx0ZXIoKGFjdGlvbikgPT4gdGhpcy5pc1ZhbGlkQWN0aW9uKHRoaXMuYWN0aW9ucywgYWN0aW9uKSk7XG4gICAgfVxuXG4gICAgY2hlY2tNYW5kYXRvcnlBY3Rpb25zKCkge1xuICAgICAgICBpZiAodGhpcy5hY3Rpb25zID09PSB1bmRlZmluZWQgfHwgdGhpcy5hY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gRWRpdFByb2Nlc3NGaWx0ZXJDbG91ZENvbXBvbmVudC5ERUZBVUxUX0FDVElPTlM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGlzVmFsaWRBY3Rpb24oYWN0aW9uczogc3RyaW5nW10sIGFjdGlvbjogUHJvY2Vzc0ZpbHRlckFjdGlvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gYWN0aW9ucyA/IGFjdGlvbnMuaW5kZXhPZihhY3Rpb24uYWN0aW9uVHlwZSkgPj0gMCA6IHRydWU7XG4gICAgfVxuXG4gICAgaXNGb3JtVmFsaWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmVkaXRQcm9jZXNzRmlsdGVyRm9ybS52YWxpZDtcbiAgICB9XG5cbiAgICBnZXRQcm9wZXJ0eUNvbnRyb2xsZXIocHJvcGVydHk6IFByb2Nlc3NGaWx0ZXJQcm9wZXJ0aWVzKTogQWJzdHJhY3RDb250cm9sIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWRpdFByb2Nlc3NGaWx0ZXJGb3JtLmdldChwcm9wZXJ0eS5rZXkpO1xuICAgIH1cblxuICAgIG9uRGF0ZUNoYW5nZWQobmV3RGF0ZVZhbHVlOiBNb21lbnQsIGRhdGVQcm9wZXJ0eTogUHJvY2Vzc0ZpbHRlclByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKG5ld0RhdGVWYWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IHRoaXMuZ2V0UHJvcGVydHlDb250cm9sbGVyKGRhdGVQcm9wZXJ0eSk7XG5cbiAgICAgICAgICAgIGlmIChuZXdEYXRlVmFsdWUuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5zZXRWYWx1ZShuZXdEYXRlVmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuc2V0RXJyb3JzKG51bGwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLnNldEVycm9ycyh7IGludmFsaWQ6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkRhdGVUeXBlQ2hhbmdlKGRhdGVUeXBlOiBEYXRlQ2xvdWRGaWx0ZXJUeXBlLCBwcm9wZXJ0eTogUHJvY2Vzc0ZpbHRlclByb3BlcnRpZXMpIHtcbiAgICAgICAgdGhpcy5lZGl0UHJvY2Vzc0ZpbHRlckZvcm0uZ2V0KHByb3BlcnR5LmF0dHJpYnV0ZXMuZGF0ZVR5cGUpLnNldFZhbHVlKGRhdGVUeXBlKTtcbiAgICB9XG5cbiAgICBvbkRhdGVSYW5nZUZpbHRlckNoYW5nZWQoZGF0ZVJhbmdlOiBEYXRlUmFuZ2VGaWx0ZXIsIHByb3BlcnR5OiBQcm9jZXNzRmlsdGVyUHJvcGVydGllcykge1xuICAgICAgICB0aGlzLmVkaXRQcm9jZXNzRmlsdGVyRm9ybS5nZXQocHJvcGVydHkuYXR0cmlidXRlcz8uZnJvbSkuc2V0VmFsdWUoXG4gICAgICAgICAgICBkYXRlUmFuZ2Uuc3RhcnREYXRlID8gZGF0ZVJhbmdlLnN0YXJ0RGF0ZSA6IG51bGxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5lZGl0UHJvY2Vzc0ZpbHRlckZvcm0uZ2V0KHByb3BlcnR5LmF0dHJpYnV0ZXM/LnRvKS5zZXRWYWx1ZShcbiAgICAgICAgICAgIGRhdGVSYW5nZS5lbmREYXRlID8gZGF0ZVJhbmdlLmVuZERhdGUgOiBudWxsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZWRpdFByb2Nlc3NGaWx0ZXJGb3JtLmdldChwcm9wZXJ0eS5hdHRyaWJ1dGVzLmRhdGVUeXBlKS5zZXRWYWx1ZShEYXRlQ2xvdWRGaWx0ZXJUeXBlLlJBTkdFKTtcbiAgICB9XG5cbiAgICBvbkNoYW5nZWRVc2VyKHVzZXJzOiBJZGVudGl0eVVzZXJNb2RlbFtdLCBwcm9jZXNzUHJvcGVydHk6IFByb2Nlc3NGaWx0ZXJQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHRoaXMuZ2V0UHJvcGVydHlDb250cm9sbGVyKHByb2Nlc3NQcm9wZXJ0eSkuc2V0VmFsdWUodXNlcnMubWFwKCB1c2VyID0+IHVzZXIudXNlcm5hbWUpLmpvaW4oJywnKSk7XG4gICAgfVxuXG4gICAgaGFzRXJyb3IocHJvcGVydHk6IFByb2Nlc3NGaWx0ZXJQcm9wZXJ0aWVzKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSB0aGlzLmdldFByb3BlcnR5Q29udHJvbGxlcihwcm9wZXJ0eSk7XG4gICAgICAgIHJldHVybiBjb250cm9sbGVyLmVycm9ycyAmJiBjb250cm9sbGVyLmVycm9ycy5pbnZhbGlkO1xuICAgIH1cblxuICAgIGNvbXBhcmVGaWx0ZXJzKGVkaXRlZFF1ZXJ5OiBQcm9jZXNzRmlsdGVyQ2xvdWRNb2RlbCwgY3VycmVudFF1ZXJ5OiBQcm9jZXNzRmlsdGVyQ2xvdWRNb2RlbCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZWRpdGVkUXVlcnkpLnRvTG93ZXJDYXNlKCkgPT09IEpTT04uc3RyaW5naWZ5KGN1cnJlbnRRdWVyeSkudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBnZXRSdW5uaW5nQXBwbGljYXRpb25zKCkge1xuICAgICAgICB0aGlzLmFwcGxpY2F0aW9uTmFtZXMgPSBbXTtcblxuICAgICAgICB0aGlzLmFwcHNQcm9jZXNzQ2xvdWRTZXJ2aWNlXG4gICAgICAgICAgICAuZ2V0RGVwbG95ZWRBcHBsaWNhdGlvbnNCeVN0YXR1cygnUlVOTklORycsIHRoaXMucm9sZSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKGFwcGxpY2F0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhcHBsaWNhdGlvbnMgJiYgYXBwbGljYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25zLm1hcCgoYXBwbGljYXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbGljYXRpb25OYW1lcy5wdXNoKHsgbGFiZWw6IGFwcGxpY2F0aW9uLm5hbWUsIHZhbHVlOiBhcHBsaWNhdGlvbi5uYW1lIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRQcm9jZXNzRGVmaW5pdGlvbnMoKSB7XG4gICAgICAgIHRoaXMucHJvY2Vzc0RlZmluaXRpb25OYW1lcyA9IFtdO1xuXG4gICAgICAgIHRoaXMucHJvY2Vzc0Nsb3VkU2VydmljZS5nZXRQcm9jZXNzRGVmaW5pdGlvbnModGhpcy5hcHBOYW1lKS5zdWJzY3JpYmUoKHByb2Nlc3NEZWZpbml0aW9ucykgPT4ge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3NEZWZpbml0aW9ucyAmJiBwcm9jZXNzRGVmaW5pdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0RlZmluaXRpb25OYW1lcy5wdXNoKHRoaXMuYWxsUHJvY2Vzc0RlZmluaXRpb25OYW1lc09wdGlvbik7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0RlZmluaXRpb25zLm1hcCgocHJvY2Vzc0RlZmluaXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzRGVmaW5pdGlvbk5hbWVzLnB1c2goeyBsYWJlbDogcHJvY2Vzc0RlZmluaXRpb24ubmFtZSwgdmFsdWU6IHByb2Nlc3NEZWZpbml0aW9uLm5hbWUgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGV4ZWN1dGVGaWx0ZXJBY3Rpb25zKGFjdGlvbjogUHJvY2Vzc0ZpbHRlckFjdGlvbik6IHZvaWQge1xuICAgICAgICBpZiAoYWN0aW9uLmFjdGlvblR5cGUgPT09IEVkaXRQcm9jZXNzRmlsdGVyQ2xvdWRDb21wb25lbnQuQUNUSU9OX1NBVkUpIHtcbiAgICAgICAgICAgIHRoaXMuc2F2ZShhY3Rpb24pO1xuICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbi5hY3Rpb25UeXBlID09PSBFZGl0UHJvY2Vzc0ZpbHRlckNsb3VkQ29tcG9uZW50LkFDVElPTl9TQVZFX0FTKSB7XG4gICAgICAgICAgICB0aGlzLnNhdmVBcyhhY3Rpb24pO1xuICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbi5hY3Rpb25UeXBlID09PSBFZGl0UHJvY2Vzc0ZpbHRlckNsb3VkQ29tcG9uZW50LkFDVElPTl9ERUxFVEUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlKGFjdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzYXZlKHNhdmVBY3Rpb246IFByb2Nlc3NGaWx0ZXJBY3Rpb24pIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzRmlsdGVyQ2xvdWRTZXJ2aWNlXG4gICAgICAgICAgICAudXBkYXRlRmlsdGVyKHRoaXMucHJvY2Vzc0ZpbHRlcilcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNhdmVBY3Rpb24uZmlsdGVyID0gdGhpcy5wcm9jZXNzRmlsdGVyO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVySGFzQmVlbkNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbi5lbWl0KHNhdmVBY3Rpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgcHJvY2VzcyBpbnN0YW5jZSBmaWx0ZXJcbiAgICAgKi9cbiAgICBkZWxldGUoZGVsZXRlQWN0aW9uOiBQcm9jZXNzRmlsdGVyQWN0aW9uKSB7XG4gICAgICAgIHRoaXMucHJvY2Vzc0ZpbHRlckNsb3VkU2VydmljZVxuICAgICAgICAgICAgLmRlbGV0ZUZpbHRlcih0aGlzLnByb2Nlc3NGaWx0ZXIpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBmaWx0ZXIoKGZpbHRlcnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlQWN0aW9uLmZpbHRlciA9IHRoaXMucHJvY2Vzc0ZpbHRlcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb24uZW1pdChkZWxldGVBY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVycy5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgc3dpdGNoTWFwKCgpID0+IHRoaXMucmVzdG9yZURlZmF1bHRQcm9jZXNzRmlsdGVycygpKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge30pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhdmUgQXMgYSBwcm9jZXNzIGluc3RhbmNlIGZpbHRlclxuICAgICAqL1xuICAgIHNhdmVBcyhzYXZlQXNBY3Rpb246IFByb2Nlc3NGaWx0ZXJBY3Rpb24pIHtcbiAgICAgICAgY29uc3QgZGlhbG9nUmVmID0gdGhpcy5kaWFsb2cub3BlbihQcm9jZXNzRmlsdGVyRGlhbG9nQ2xvdWRDb21wb25lbnQsIHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UuaW5zdGFudCh0aGlzLnByb2Nlc3NGaWx0ZXIubmFtZSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgICAgICAgIG1pbldpZHRoOiAnMzAlJ1xuICAgICAgICB9KTtcbiAgICAgICAgZGlhbG9nUmVmLmFmdGVyQ2xvc2VkKCkuc3Vic2NyaWJlKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LmFjdGlvbiA9PT0gUHJvY2Vzc0ZpbHRlckRpYWxvZ0Nsb3VkQ29tcG9uZW50LkFDVElPTl9TQVZFKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVySWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyS2V5ID0gdGhpcy5nZXRTYW5pdGl6ZUZpbHRlck5hbWUocmVzdWx0Lm5hbWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0ZpbHRlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcmVzdWx0Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGljb246IHJlc3VsdC5pY29uLFxuICAgICAgICAgICAgICAgICAgICBpZDogZmlsdGVySWQsXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2N1c3RvbS0nICsgZmlsdGVyS2V5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRGaWx0ZXI6IFByb2Nlc3NGaWx0ZXJDbG91ZE1vZGVsID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9jZXNzRmlsdGVyLCBuZXdGaWx0ZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ZpbHRlckNsb3VkU2VydmljZVxuICAgICAgICAgICAgICAgICAgICAuYWRkRmlsdGVyKHJlc3VsdEZpbHRlcilcbiAgICAgICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlQXNBY3Rpb24uZmlsdGVyID0gcmVzdWx0RmlsdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJIYXNCZWVuQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb24uZW1pdChzYXZlQXNBY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGZpbHRlciBuYW1lXG4gICAgICogQHBhcmFtIGZpbHRlck5hbWVcbiAgICAgKi9cbiAgICBnZXRTYW5pdGl6ZUZpbHRlck5hbWUoZmlsdGVyTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgbmFtZVdpdGhIeXBoZW4gPSB0aGlzLnJlcGxhY2VTcGFjZVdpdGhIeXBoZW4oZmlsdGVyTmFtZS50cmltKCkpO1xuICAgICAgICByZXR1cm4gbmFtZVdpdGhIeXBoZW4udG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gbmFtZSB3aXRoIGh5cGhlblxuICAgICAqIEBwYXJhbSBuYW1lXG4gICAgICovXG4gICAgcmVwbGFjZVNwYWNlV2l0aEh5cGhlbihuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCByZWdFeHQgPSBuZXcgUmVnRXhwKCcgJywgJ2cnKTtcbiAgICAgICAgcmV0dXJuIG5hbWUucmVwbGFjZShyZWdFeHQsICctJyk7XG4gICAgfVxuXG4gICAgcmVzdG9yZURlZmF1bHRQcm9jZXNzRmlsdGVycygpOiBPYnNlcnZhYmxlPFByb2Nlc3NGaWx0ZXJDbG91ZE1vZGVsW10+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc0ZpbHRlckNsb3VkU2VydmljZS5nZXRQcm9jZXNzRmlsdGVycyh0aGlzLmFwcE5hbWUpO1xuICAgIH1cblxuICAgIG9uRXhwYW5kKCkge1xuICAgICAgICB0aGlzLnRvZ2dsZUZpbHRlckFjdGlvbnMgPSB0cnVlO1xuICAgIH1cblxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlRmlsdGVyQWN0aW9ucyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlzRGlzYWJsZWRBY3Rpb24oYWN0aW9uOiBQcm9jZXNzRmlsdGVyQWN0aW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NGaWx0ZXJDbG91ZFNlcnZpY2UuaXNEZWZhdWx0RmlsdGVyKHRoaXMucHJvY2Vzc0ZpbHRlci5uYW1lKSAmJlxuICAgICAgICAgICAgdGhpcy5hY3Rpb25EaXNhYmxlZEZvckRlZmF1bHQuaW5jbHVkZXMoYWN0aW9uLmFjdGlvblR5cGUpXG4gICAgICAgICkgPyB0cnVlIDogdGhpcy5oYXNGaWx0ZXJDaGFuZ2VkKGFjdGlvbik7XG4gICAgfVxuXG4gICAgaGFzRmlsdGVyQ2hhbmdlZChhY3Rpb246IFByb2Nlc3NGaWx0ZXJBY3Rpb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5hY3Rpb25UeXBlID09PSBFZGl0UHJvY2Vzc0ZpbHRlckNsb3VkQ29tcG9uZW50LkFDVElPTl9TQVZFIHx8XG4gICAgICAgICAgICBhY3Rpb24uYWN0aW9uVHlwZSA9PT0gRWRpdFByb2Nlc3NGaWx0ZXJDbG91ZENvbXBvbmVudC5BQ1RJT05fU0FWRV9BUyA/XG4gICAgICAgICAgICAhdGhpcy5maWx0ZXJIYXNCZWVuQ2hhbmdlZCA6IGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0TGFzdE1vZGlmaWVkVG9GaWx0ZXIoZm9ybVZhbHVlczogUHJvY2Vzc0ZpbHRlckNsb3VkTW9kZWwpIHtcbiAgICAgICAgaWYgKGZvcm1WYWx1ZXMubGFzdE1vZGlmaWVkVG8gJiYgRGF0ZS5wYXJzZShmb3JtVmFsdWVzLmxhc3RNb2RpZmllZFRvLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0TW9kaWZpZWRUb0ZpbHRlclZhbHVlID0gbW9tZW50KGZvcm1WYWx1ZXMubGFzdE1vZGlmaWVkVG8pO1xuICAgICAgICAgICAgbGFzdE1vZGlmaWVkVG9GaWx0ZXJWYWx1ZS5zZXQoe1xuICAgICAgICAgICAgICAgIGhvdXI6IDIzLFxuICAgICAgICAgICAgICAgIG1pbnV0ZTogNTksXG4gICAgICAgICAgICAgICAgc2Vjb25kOiA1OVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmb3JtVmFsdWVzLmxhc3RNb2RpZmllZFRvID0gbGFzdE1vZGlmaWVkVG9GaWx0ZXJWYWx1ZS50b0RhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlRmlsdGVyQWN0aW9ucygpOiBQcm9jZXNzRmlsdGVyQWN0aW9uW10ge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFjdGlvblR5cGU6IEVkaXRQcm9jZXNzRmlsdGVyQ2xvdWRDb21wb25lbnQuQUNUSU9OX1NBVkUsXG4gICAgICAgICAgICAgICAgaWNvbjogJ2FkZjpzYXZlJyxcbiAgICAgICAgICAgICAgICB0b29sdGlwOiAnQURGX0NMT1VEX0VESVRfUFJPQ0VTU19GSUxURVIuVE9PTF9USVAuU0FWRSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWN0aW9uVHlwZTogRWRpdFByb2Nlc3NGaWx0ZXJDbG91ZENvbXBvbmVudC5BQ1RJT05fU0FWRV9BUyxcbiAgICAgICAgICAgICAgICBpY29uOiAnYWRmOnNhdmUtYXMnLFxuICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdBREZfQ0xPVURfRURJVF9QUk9DRVNTX0ZJTFRFUi5UT09MX1RJUC5TQVZFX0FTJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25UeXBlOiBFZGl0UHJvY2Vzc0ZpbHRlckNsb3VkQ29tcG9uZW50LkFDVElPTl9ERUxFVEUsXG4gICAgICAgICAgICAgICAgaWNvbjogJ2RlbGV0ZScsXG4gICAgICAgICAgICAgICAgdG9vbHRpcDogJ0FERl9DTE9VRF9FRElUX1BST0NFU1NfRklMVEVSLlRPT0xfVElQLkRFTEVURSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUxhc3RNb2RpZmllZFByb3BlcnR5KGZpbHRlck1vZGVsOiBQcm9jZXNzRmlsdGVyQ2xvdWRNb2RlbCk6IFByb2Nlc3NGaWx0ZXJQcm9wZXJ0aWVzW10ge1xuICAgICAgICBsZXQgbGFzdE1vZGlmaWVkRnJvbTtcbiAgICAgICAgbGV0IGxhc3RNb2RpZmllZFRvO1xuXG4gICAgICAgIGlmIChmaWx0ZXJNb2RlbC5sYXN0TW9kaWZpZWRGcm9tKSB7XG4gICAgICAgICAgICBsYXN0TW9kaWZpZWRGcm9tID0gbW9tZW50KGZpbHRlck1vZGVsLmxhc3RNb2RpZmllZEZyb20pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlck1vZGVsLmxhc3RNb2RpZmllZFRvKSB7XG4gICAgICAgICAgICBsYXN0TW9kaWZpZWRUbyA9IG1vbWVudChmaWx0ZXJNb2RlbC5sYXN0TW9kaWZpZWRUbyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnQURGX0NMT1VEX0VESVRfUFJPQ0VTU19GSUxURVIuTEFCRUwuTEFTVF9NT0RJRklFRF9EQVRFX0ZPUk0nLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdkYXRlJyxcbiAgICAgICAgICAgICAgICBrZXk6ICdsYXN0TW9kaWZpZWRGcm9tJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbGFzdE1vZGlmaWVkRnJvbVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0FERl9DTE9VRF9FRElUX1BST0NFU1NfRklMVEVSLkxBQkVMLkxBU1RfTU9ESUZJRURfVE8nLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdkYXRlJyxcbiAgICAgICAgICAgICAgICBrZXk6ICdsYXN0TW9kaWZpZWRUbycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGxhc3RNb2RpZmllZFRvXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVQcm9jZXNzU29ydFByb3BlcnRpZXMoKTogUHJvY2Vzc1NvcnRGaWx0ZXJQcm9wZXJ0eVtdIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0FERl9DTE9VRF9FRElUX1BST0NFU1NfRklMVEVSLkxBQkVMLklEJyxcbiAgICAgICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6ICdpZCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBREZfQ0xPVURfRURJVF9QUk9DRVNTX0ZJTFRFUi5MQUJFTC5QUk9DRVNTX05BTUUnLFxuICAgICAgICAgICAgICAgIGtleTogJ25hbWUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAnbmFtZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBREZfQ0xPVURfRURJVF9QUk9DRVNTX0ZJTFRFUi5MQUJFTC5TVEFSVF9EQVRFJyxcbiAgICAgICAgICAgICAgICBrZXk6ICdzdGFydERhdGUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAnc3RhcnREYXRlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0FERl9DTE9VRF9FRElUX1BST0NFU1NfRklMVEVSLkxBQkVMLlNUQVRVUycsXG4gICAgICAgICAgICAgICAga2V5OiAnc3RhdHVzJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJ3N0YXR1cydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBREZfQ0xPVURfRURJVF9QUk9DRVNTX0ZJTFRFUi5MQUJFTC5TVEFSVEVEX0JZJyxcbiAgICAgICAgICAgICAgICBrZXk6ICdpbml0aWF0b3InLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAnaW5pdGlhdG9yJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0FERl9DTE9VRF9FRElUX1BST0NFU1NfRklMVEVSLkxBQkVMLkFQUF9OQU1FJyxcbiAgICAgICAgICAgICAgICBrZXk6ICdhcHBOYW1lJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJ2FwcE5hbWUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnQURGX0NMT1VEX0VESVRfUFJPQ0VTU19GSUxURVIuTEFCRUwuQVBQX1ZFUlNJT04nLFxuICAgICAgICAgICAgICAgIGtleTogJ2FwcFZlcnNpb24nLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAnYXBwVmVyc2lvbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBREZfQ0xPVURfRURJVF9QUk9DRVNTX0ZJTFRFUi5MQUJFTC5QUk9DRVNTX0lOU19JRCcsXG4gICAgICAgICAgICAgICAga2V5OiAncHJvY2Vzc0luc3RhbmNlSWQnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAncHJvY2Vzc0luc3RhbmNlSWQnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnQURGX0NMT1VEX0VESVRfUFJPQ0VTU19GSUxURVIuTEFCRUwuUFJPQ0VTU19ERUZfSUQnLFxuICAgICAgICAgICAgICAgIGtleTogJ3Byb2Nlc3NEZWZpbml0aW9uSWQnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAncHJvY2Vzc0RlZmluaXRpb25JZCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBREZfQ0xPVURfRURJVF9QUk9DRVNTX0ZJTFRFUi5MQUJFTC5QUk9DRVNTX0RFRl9OQU1FJyxcbiAgICAgICAgICAgICAgICBrZXk6ICdwcm9jZXNzRGVmaW5pdGlvbk5hbWUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAncHJvY2Vzc0RlZmluaXRpb25OYW1lJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0FERl9DTE9VRF9FRElUX1BST0NFU1NfRklMVEVSLkxBQkVMLlBST0NFU1NfREVGX0tFWScsXG4gICAgICAgICAgICAgICAga2V5OiAncHJvY2Vzc0RlZmluaXRpb25LZXknLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAncHJvY2Vzc0RlZmluaXRpb25LZXknXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnQURGX0NMT1VEX0VESVRfUFJPQ0VTU19GSUxURVIuTEFCRUwuTEFTVF9NT0RJRklFRCcsXG4gICAgICAgICAgICAgICAga2V5OiAnbGFzdE1vZGlmaWVkJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJ2xhc3RNb2RpZmllZCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBREZfQ0xPVURfRURJVF9QUk9DRVNTX0ZJTFRFUi5MQUJFTC5CVVNJTkVTU19LRVknLFxuICAgICAgICAgICAgICAgIGtleTogJ2J1c2luZXNzS2V5JyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJ2J1c2luZXNzS2V5J1xuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNGaWx0ZXJDaGFuZ2VkKG9sZFZhbHVlOiBQcm9jZXNzRmlsdGVyQ2xvdWRNb2RlbCwgbmV3VmFsdWU6IFByb2Nlc3NGaWx0ZXJDbG91ZE1vZGVsKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IG9sZEpzb24gPSBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ZpbHRlckNsb3VkU2VydmljZS53cml0ZVF1ZXJ5UGFyYW1zKG9sZFZhbHVlIHx8IHt9LCB0aGlzLmZpbHRlclByb3BlcnRpZXMpXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IG5ld0pzb24gPSBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ZpbHRlckNsb3VkU2VydmljZS53cml0ZVF1ZXJ5UGFyYW1zKG5ld1ZhbHVlIHx8IHt9LCB0aGlzLmZpbHRlclByb3BlcnRpZXMpXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIG9sZEpzb24gIT09IG5ld0pzb247XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVQcm9jZXNzRmlsdGVyUHJvcGVydGllcyhmaWx0ZXJNb2RlbDogUHJvY2Vzc0ZpbHRlckNsb3VkTW9kZWwpOiBQcm9jZXNzRmlsdGVyUHJvcGVydGllc1tdIHtcbiAgICAgICAgY29uc3QgYXBwVmVyc2lvbk11bHRpcGxlID0gW107XG5cbiAgICAgICAgaWYgKGZpbHRlck1vZGVsLmFwcFZlcnNpb24pIHtcbiAgICAgICAgICAgIGFwcFZlcnNpb25NdWx0aXBsZS5wdXNoKFxuICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoZmlsdGVyTW9kZWwuYXBwVmVyc2lvbilcbiAgICAgICAgICAgICAgICAgICAgPyBmaWx0ZXJNb2RlbC5hcHBWZXJzaW9uLm1hcChlbnRyeSA9PiBlbnRyeS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICA6IGAke2ZpbHRlck1vZGVsLmFwcFZlcnNpb259YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBREZfQ0xPVURfRURJVF9QUk9DRVNTX0ZJTFRFUi5MQUJFTC5BUFBfTkFNRScsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICAgICAgICAgICAga2V5OiAnYXBwTmFtZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZpbHRlck1vZGVsLmFwcE5hbWUgfHwgJycsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5hcHBsaWNhdGlvbk5hbWVzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnQURGX0NMT1VEX0VESVRfUFJPQ0VTU19GSUxURVIuTEFCRUwuQVBQX1ZFUlNJT04nLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgICAgICAgIGtleTogJ2FwcFZlcnNpb24nLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmaWx0ZXJNb2RlbC5hcHBWZXJzaW9uXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnQURGX0NMT1VEX0VESVRfUFJPQ0VTU19GSUxURVIuTEFCRUwuQVBQX1ZFUlNJT04nLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdtdWx0aS1zZWxlY3QnLFxuICAgICAgICAgICAgICAgIGtleTogJ2FwcFZlcnNpb25NdWx0aXBsZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGFwcFZlcnNpb25NdWx0aXBsZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLmFwcFZlcnNpb25PcHRpb25zXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnQURGX0NMT1VEX0VESVRfUFJPQ0VTU19GSUxURVIuTEFCRUwuUFJPQ0VTU19JTlNfSUQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICBrZXk6ICdwcm9jZXNzSW5zdGFuY2VJZCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZpbHRlck1vZGVsLnByb2Nlc3NJbnN0YW5jZUlkIHx8ICcnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnQURGX0NMT1VEX0VESVRfUFJPQ0VTU19GSUxURVIuTEFCRUwuUFJPQ0VTU19OQU1FJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAga2V5OiAncHJvY2Vzc05hbWUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmaWx0ZXJNb2RlbC5wcm9jZXNzTmFtZSB8fCAnJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0FERl9DTE9VRF9FRElUX1BST0NFU1NfRklMVEVSLkxBQkVMLlBST0NFU1NfREVGX05BTUUnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgICAgIGtleTogJ3Byb2Nlc3NEZWZpbml0aW9uTmFtZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZpbHRlck1vZGVsLnByb2Nlc3NEZWZpbml0aW9uTmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLnByb2Nlc3NEZWZpbml0aW9uTmFtZXNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBREZfQ0xPVURfRURJVF9QUk9DRVNTX0ZJTFRFUi5MQUJFTC5TVEFUVVMnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgICAgIGtleTogJ3N0YXR1cycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZpbHRlck1vZGVsLnN0YXR1cyB8fCB0aGlzLnN0YXR1c1swXS52YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLnN0YXR1c1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0FERl9DTE9VRF9FRElUX1BST0NFU1NfRklMVEVSLkxBQkVMLlBST0NFU1NfREVGX0lEJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAga2V5OiAncHJvY2Vzc0RlZmluaXRpb25JZCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZpbHRlck1vZGVsLnByb2Nlc3NEZWZpbml0aW9uSWQgfHwgJydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBREZfQ0xPVURfRURJVF9QUk9DRVNTX0ZJTFRFUi5MQUJFTC5QUk9DRVNTX0RFRl9LRVknLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICBrZXk6ICdwcm9jZXNzRGVmaW5pdGlvbktleScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZpbHRlck1vZGVsLnByb2Nlc3NEZWZpbml0aW9uS2V5IHx8ICcnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnQURGX0NMT1VEX0VESVRfUFJPQ0VTU19GSUxURVIuTEFCRUwuU09SVCcsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICAgICAgICAgICAga2V5OiAnc29ydCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZpbHRlck1vZGVsLnNvcnQgfHwgdGhpcy5jcmVhdGVTb3J0UHJvcGVydGllc1swXS52YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLmNyZWF0ZVNvcnRQcm9wZXJ0aWVzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnQURGX0NMT1VEX0VESVRfUFJPQ0VTU19GSUxURVIuTEFCRUwuRElSRUNUSU9OJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgICBrZXk6ICdvcmRlcicsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZpbHRlck1vZGVsLm9yZGVyIHx8IHRoaXMuZGlyZWN0aW9uc1swXS52YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLmRpcmVjdGlvbnNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBREZfQ0xPVURfRURJVF9QUk9DRVNTX0ZJTFRFUi5MQUJFTC5DT01QTEVURURfREFURScsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RhdGUnLFxuICAgICAgICAgICAgICAgIGtleTogJ2NvbXBsZXRlZERhdGUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmaWx0ZXJNb2RlbC5jb21wbGV0ZWREYXRlIHx8IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnQURGX0NMT1VEX0VESVRfUFJPQ0VTU19GSUxURVIuTEFCRUwuU1RBUlRFRF9CWScsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3Blb3BsZScsXG4gICAgICAgICAgICAgICAga2V5OiAnaW5pdGlhdG9yJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmlsdGVyTW9kZWwuaW5pdGlhdG9yLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbk1vZGU6ICdtdWx0aXBsZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBREZfQ0xPVURfRURJVF9QUk9DRVNTX0ZJTFRFUi5MQUJFTC5DT01QTEVURURfREFURScsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RhdGUtcmFuZ2UnLFxuICAgICAgICAgICAgICAgIGtleTogJ2NvbXBsZXRlZERhdGVSYW5nZScsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogeyBkYXRlVHlwZTogJ2NvbXBsZXRlZERhdGVUeXBlJywgZnJvbTogJ19jb21wbGV0ZWRGcm9tJywgdG86ICdfY29tcGxldGVkVG8nfSxcbiAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWREYXRlVHlwZTogZmlsdGVyTW9kZWwuY29tcGxldGVkRGF0ZVR5cGUgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX2NvbXBsZXRlZEZyb206IGZpbHRlck1vZGVsLmNvbXBsZXRlZEZyb20gfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX2NvbXBsZXRlZFRvOiBmaWx0ZXJNb2RlbC5jb21wbGV0ZWRUbyB8fCBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0FERl9DTE9VRF9FRElUX1BST0NFU1NfRklMVEVSLkxBQkVMLlNUQVJURURfREFURScsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RhdGUtcmFuZ2UnLFxuICAgICAgICAgICAgICAgIGtleTogJ3N0YXJ0ZWREYXRlUmFuZ2UnLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHsgZGF0ZVR5cGU6ICdzdGFydGVkRGF0ZVR5cGUnLCBmcm9tOiAnX3N0YXJ0RnJvbScsIHRvOiAnX3N0YXJ0VG8nfSxcbiAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICBzdGFydGVkRGF0ZVR5cGU6IGZpbHRlck1vZGVsLnN0YXJ0ZWREYXRlVHlwZSB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICBfc3RhcnRGcm9tOiBmaWx0ZXJNb2RlbC5zdGFydEZyb20gfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3N0YXJ0VG86IGZpbHRlck1vZGVsLnN0YXJ0VG8gfHwgbnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBREZfQ0xPVURfRURJVF9QUk9DRVNTX0ZJTFRFUi5MQUJFTC5TVVNQRU5ERURfREFURScsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RhdGUtcmFuZ2UnLFxuICAgICAgICAgICAgICAgIGtleTogJ3N1c3BlbmRlZERhdGVSYW5nZScsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogeyBkYXRlVHlwZTogJ3N1c3BlbmRlZERhdGVUeXBlJywgZnJvbTogJ19zdXNwZW5kZWRGcm9tJywgdG86ICdfc3VzcGVuZGVkVG8nfSxcbiAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICBzdXNwZW5kZWREYXRlVHlwZTogZmlsdGVyTW9kZWwuc3VzcGVuZGVkRGF0ZVR5cGUgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3N1c3BlbmRlZEZyb206IGZpbHRlck1vZGVsLnN1c3BlbmRlZEZyb20gfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3N1c3BlbmRlZFRvOiBmaWx0ZXJNb2RlbC5zdXNwZW5kZWRUbyB8fCBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cbn1cbiJdfQ==