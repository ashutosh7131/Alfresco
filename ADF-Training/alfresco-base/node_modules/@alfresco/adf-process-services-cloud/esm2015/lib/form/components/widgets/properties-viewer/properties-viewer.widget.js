/*!
 * @license
 * Copyright 2019 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { Component, EventEmitter, Output, ViewEncapsulation } from '@angular/core';
import { FormService, WidgetComponent } from '@alfresco/adf-core';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@alfresco/adf-core';
import * as ɵngcc2 from '@angular/common';
import * as ɵngcc3 from './properties-viewer-wrapper/properties-viewer-wrapper.component';
import * as ɵngcc4 from '@ngx-translate/core';

function PropertiesViewerWidgetComponent_span_4_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span");
    ɵngcc0.ɵɵtext(1, "*");
    ɵngcc0.ɵɵelementEnd();
} }
function PropertiesViewerWidgetComponent_ng_template_5_adf_properties_viewer_wrapper_0_Template(rf, ctx) { if (rf & 1) {
    const _r6 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "adf-properties-viewer-wrapper", 6);
    ɵngcc0.ɵɵlistener("nodeContentLoaded", function PropertiesViewerWidgetComponent_ng_template_5_adf_properties_viewer_wrapper_0_Template_adf_properties_viewer_wrapper_nodeContentLoaded_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r5 = ɵngcc0.ɵɵnextContext(2); return ctx_r5.onNodeContentLoaded($event); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const properties_r3 = ɵngcc0.ɵɵnextContext().properties;
    const ctx_r4 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("nodeId", ctx_r4.field.value)("displayDefaultProperties", (properties_r3 == null ? null : properties_r3.displayDefaultProperties) !== undefined ? properties_r3 == null ? null : properties_r3.displayDefaultProperties : true)("expanded", (properties_r3 == null ? null : properties_r3.expanded) !== undefined ? properties_r3 == null ? null : properties_r3.expanded : true)("preset", properties_r3 == null ? null : properties_r3.preset)("displayEmpty", (properties_r3 == null ? null : properties_r3.displayEmpty) !== undefined ? properties_r3 == null ? null : properties_r3.displayEmpty : false)("editable", (properties_r3 == null ? null : properties_r3.editable) !== undefined ? properties_r3 == null ? null : properties_r3.editable : false)("multi", (properties_r3 == null ? null : properties_r3.multi) !== undefined ? properties_r3 == null ? null : properties_r3.multi : false)("displayAspect", (properties_r3 == null ? null : properties_r3.displayAspect) !== undefined ? properties_r3 == null ? null : properties_r3.displayAspect : null)("copyToClipboardAction", (properties_r3 == null ? null : properties_r3.copyToClipboardAction) !== undefined ? properties_r3 == null ? null : properties_r3.copyToClipboardAction : true)("useChipsForMultiValueProperty", (properties_r3 == null ? null : properties_r3.useChipsForMultiValueProperty) !== undefined ? properties_r3 == null ? null : properties_r3.useChipsForMultiValueProperty : true);
} }
function PropertiesViewerWidgetComponent_ng_template_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtemplate(0, PropertiesViewerWidgetComponent_ng_template_5_adf_properties_viewer_wrapper_0_Template, 1, 10, "adf-properties-viewer-wrapper", 5);
} if (rf & 2) {
    const ctx_r2 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("ngIf", ctx_r2.field.value);
} }
const _c0 = function (a0) { return { properties: a0 }; };
export class PropertiesViewerWidgetComponent extends WidgetComponent {
    constructor(formService) {
        super(formService);
        this.nodeContentLoaded = new EventEmitter();
    }
    onNodeContentLoaded(node) {
        this.nodeContentLoaded.emit(node);
    }
}
PropertiesViewerWidgetComponent.ɵfac = function PropertiesViewerWidgetComponent_Factory(t) { return new (t || PropertiesViewerWidgetComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.FormService)); };
PropertiesViewerWidgetComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: PropertiesViewerWidgetComponent, selectors: [["adf-properties-viewer-widget"]], hostBindings: function PropertiesViewerWidgetComponent_HostBindings(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵlistener("click", function PropertiesViewerWidgetComponent_click_HostBindingHandler($event) { return ctx.event($event); })("blur", function PropertiesViewerWidgetComponent_blur_HostBindingHandler($event) { return ctx.event($event); })("change", function PropertiesViewerWidgetComponent_change_HostBindingHandler($event) { return ctx.event($event); })("focus", function PropertiesViewerWidgetComponent_focus_HostBindingHandler($event) { return ctx.event($event); })("focusin", function PropertiesViewerWidgetComponent_focusin_HostBindingHandler($event) { return ctx.event($event); })("focusout", function PropertiesViewerWidgetComponent_focusout_HostBindingHandler($event) { return ctx.event($event); })("input", function PropertiesViewerWidgetComponent_input_HostBindingHandler($event) { return ctx.event($event); })("invalid", function PropertiesViewerWidgetComponent_invalid_HostBindingHandler($event) { return ctx.event($event); })("select", function PropertiesViewerWidgetComponent_select_HostBindingHandler($event) { return ctx.event($event); });
    } }, outputs: { nodeContentLoaded: "nodeContentLoaded" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature], decls: 8, vars: 17, consts: [[1, "adf-label"], [4, "ngIf"], [3, "ngTemplateOutlet", "ngTemplateOutletContext"], ["properties", ""], [3, "error"], [3, "nodeId", "displayDefaultProperties", "expanded", "preset", "displayEmpty", "editable", "multi", "displayAspect", "copyToClipboardAction", "useChipsForMultiValueProperty", "nodeContentLoaded", 4, "ngIf"], [3, "nodeId", "displayDefaultProperties", "expanded", "preset", "displayEmpty", "editable", "multi", "displayAspect", "copyToClipboardAction", "useChipsForMultiValueProperty", "nodeContentLoaded"]], template: function PropertiesViewerWidgetComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div");
        ɵngcc0.ɵɵelementStart(1, "label", 0);
        ɵngcc0.ɵɵtext(2);
        ɵngcc0.ɵɵpipe(3, "translate");
        ɵngcc0.ɵɵtemplate(4, PropertiesViewerWidgetComponent_span_4_Template, 2, 0, "span", 1);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(5, PropertiesViewerWidgetComponent_ng_template_5_Template, 1, 1, "ng-template", 2, 3, ɵngcc0.ɵɵtemplateRefExtractor);
        ɵngcc0.ɵɵelement(7, "error-widget", 4);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        const _r1 = ɵngcc0.ɵɵreference(6);
        ɵngcc0.ɵɵclassMapInterpolate1("adf-file-viewer-widget ", ctx.field.className, "");
        ɵngcc0.ɵɵclassProp("adf-invalid", !ctx.field.isValid)("adf-readonly", ctx.field.readOnly);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵattribute("for", ctx.field.id);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 13, ctx.field.name));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", ctx.isRequired());
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngTemplateOutlet", _r1)("ngTemplateOutletContext", ɵngcc0.ɵɵpureFunction1(15, _c0, ctx.field.params == null ? null : ctx.field.params.propertiesViewerOptions));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("error", ctx.field.validationSummary);
    } }, directives: [ɵngcc2.NgIf, ɵngcc2.NgTemplateOutlet, ɵngcc1.ErrorWidgetComponent, ɵngcc3.PropertiesViewerWrapperComponent], pipes: [ɵngcc4.TranslatePipe], styles: ["adf-properties-viewer-widget{height:100%;width:100%}adf-properties-viewer-widget adf-properties-viewer-wrapper{border:1px solid var(--theme-border-color);border-radius:6px;display:block;height:100%;width:100%}adf-properties-viewer-widget adf-properties-viewer-wrapper .adf-properties-viewer-wrapper-loading{height:100%;width:100%}adf-properties-viewer-widget adf-properties-viewer-wrapper .adf-properties-viewer-wrapper-loading mat-progress-spinner{display:block;margin:auto}"], encapsulation: 2 });
PropertiesViewerWidgetComponent.ctorParameters = () => [
    { type: FormService }
];
PropertiesViewerWidgetComponent.propDecorators = {
    nodeContentLoaded: [{ type: Output }]
};
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(PropertiesViewerWidgetComponent, [{
        type: Component,
        args: [{
                selector: 'adf-properties-viewer-widget',
                template: "<div class=\"adf-file-viewer-widget {{field.className}}\" [class.adf-invalid]=\"!field.isValid\"\n    [class.adf-readonly]=\"field.readOnly\">\n    <label class=\"adf-label\" [attr.for]=\"field.id\">{{field.name | translate }}<span\n            *ngIf=\"isRequired()\">*</span></label>\n    <ng-template #properties [ngTemplateOutlet]=\"properties\" let-properties=\"properties\" [ngTemplateOutletContext]=\"{ properties: field.params?.propertiesViewerOptions }\">\n        <adf-properties-viewer-wrapper *ngIf=\"field.value\" [nodeId]=\"field.value\"\n            [displayDefaultProperties]=\"properties?.displayDefaultProperties !== undefined ?  properties?.displayDefaultProperties : true\"\n            [expanded]=\"properties?.expanded !== undefined ? properties?.expanded : true\"\n            [preset]=\"properties?.preset\"\n            [displayEmpty]=\"properties?.displayEmpty !== undefined ? properties?.displayEmpty : false\"\n            [editable]=\"properties?.editable !== undefined ? properties?.editable : false\"\n            [multi]=\"properties?.multi !== undefined ? properties?.multi : false\"\n            [displayAspect]=\"properties?.displayAspect !== undefined ? properties?.displayAspect : null\"\n            [copyToClipboardAction]=\"properties?.copyToClipboardAction !== undefined ? properties?.copyToClipboardAction : true\"\n            [useChipsForMultiValueProperty]=\"properties?.useChipsForMultiValueProperty !== undefined ? properties?.useChipsForMultiValueProperty : true\"\n            (nodeContentLoaded)=\"onNodeContentLoaded($event)\">\n        </adf-properties-viewer-wrapper>\n    </ng-template>\n    <error-widget [error]=\"field.validationSummary\"></error-widget>\n</div>\n",
                host: {
                    '(click)': 'event($event)',
                    '(blur)': 'event($event)',
                    '(change)': 'event($event)',
                    '(focus)': 'event($event)',
                    '(focusin)': 'event($event)',
                    '(focusout)': 'event($event)',
                    '(input)': 'event($event)',
                    '(invalid)': 'event($event)',
                    '(select)': 'event($event)'
                },
                encapsulation: ViewEncapsulation.None,
                styles: ["adf-properties-viewer-widget{height:100%;width:100%}adf-properties-viewer-widget adf-properties-viewer-wrapper{border:1px solid var(--theme-border-color);border-radius:6px;display:block;height:100%;width:100%}adf-properties-viewer-widget adf-properties-viewer-wrapper .adf-properties-viewer-wrapper-loading{height:100%;width:100%}adf-properties-viewer-widget adf-properties-viewer-wrapper .adf-properties-viewer-wrapper-loading mat-progress-spinner{display:block;margin:auto}"]
            }]
    }], function () { return [{ type: ɵngcc1.FormService }]; }, { nodeContentLoaded: [{
            type: Output
        }] }); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcGVydGllcy12aWV3ZXIud2lkZ2V0LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ob21lL3RyYXZpcy9idWlsZC9BbGZyZXNjby9hbGZyZXNjby1uZzItY29tcG9uZW50cy9saWIvcHJvY2Vzcy1zZXJ2aWNlcy1jbG91ZC9zcmMvbGliL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL3Byb3BlcnRpZXMtdmlld2VyL3Byb3BlcnRpZXMtdmlld2VyLndpZGdldC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBRUgsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLGlCQUFpQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25GLE9BQU8sRUFBRSxXQUFXLEVBQUUsZUFBZSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBc0JsRSxNQUFNLE9BQU8sK0JBQWdDLFNBQVEsZUFBZTtBQUNwRSxJQUlJLFlBQVksV0FBd0I7QUFDeEMsUUFBUSxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDM0IsUUFKSSxzQkFBaUIsR0FBdUIsSUFBSSxZQUFZLEVBQUUsQ0FBQztBQUMvRCxJQUdJLENBQUM7QUFDTCxJQUNJLG1CQUFtQixDQUFDLElBQVU7QUFDbEMsUUFBUSxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzFDLElBQUksQ0FBQztBQUNMOzJEQTdCQyxTQUFTLFNBQUMsa0JBQ1AsUUFBUSxFQUFFLDhCQUE4QixrQkFDeEM7OzswWEFBOEMsa0JBRTlDLElBQUksRUFBRSxzQkFDRixTQUFTLEVBQUUsZUFBZSxzQkFDMUIsUUFBUSxFQUFFLGVBQWUsc0JBQ3pCLFVBQVUsRUFBRSxlQUFlLHNCQUMzQixTQUFTLEVBQUUsZUFBZSxzQkFDMUIsV0FBVyxFQUFFLGVBQWUsc0JBQzVCLFlBQVksRUFBRSxlQUFlLHNCQUM3QixTQUFTLEVBQUUsZUFBZTtpQkFDMUIsV0FBVyxFQUFFO0lBQWUsc0JBQzVCLFVBQVUsRUFBRTtPQUFlLGtCQUM5QjtpQkFDRCxhQUFhLEVBQUU7VUFBaUIsQ0FBQyxJQUFJOzs7Ozs7Ozs4QkFDeEM7Ozs7Ozs7Ozs7OytwQkFDSTtBQUFDO0FBQXlELFlBdEJ0RCxXQUFXO0FBQUc7QUFBRztBQUNoQixnQ0F1QkwsTUFBTTtBQUNWOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUFFO0FBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgT3V0cHV0LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybVNlcnZpY2UsIFdpZGdldENvbXBvbmVudCB9IGZyb20gJ0BhbGZyZXNjby9hZGYtY29yZSc7XG5pbXBvcnQgeyBOb2RlIH0gZnJvbSAnQGFsZnJlc2NvL2pzLWFwaSc7XG5cbi8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciAgKi9cblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtcHJvcGVydGllcy12aWV3ZXItd2lkZ2V0JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vcHJvcGVydGllcy12aWV3ZXIud2lkZ2V0Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL3Byb3BlcnRpZXMtdmlld2VyLndpZGdldC5zY3NzJ10sXG4gICAgaG9zdDoge1xuICAgICAgICAnKGNsaWNrKSc6ICdldmVudCgkZXZlbnQpJyxcbiAgICAgICAgJyhibHVyKSc6ICdldmVudCgkZXZlbnQpJyxcbiAgICAgICAgJyhjaGFuZ2UpJzogJ2V2ZW50KCRldmVudCknLFxuICAgICAgICAnKGZvY3VzKSc6ICdldmVudCgkZXZlbnQpJyxcbiAgICAgICAgJyhmb2N1c2luKSc6ICdldmVudCgkZXZlbnQpJyxcbiAgICAgICAgJyhmb2N1c291dCknOiAnZXZlbnQoJGV2ZW50KScsXG4gICAgICAgICcoaW5wdXQpJzogJ2V2ZW50KCRldmVudCknLFxuICAgICAgICAnKGludmFsaWQpJzogJ2V2ZW50KCRldmVudCknLFxuICAgICAgICAnKHNlbGVjdCknOiAnZXZlbnQoJGV2ZW50KSdcbiAgICB9LFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgUHJvcGVydGllc1ZpZXdlcldpZGdldENvbXBvbmVudCBleHRlbmRzIFdpZGdldENvbXBvbmVudCB7XG5cbiAgICBAT3V0cHV0KClcbiAgICBub2RlQ29udGVudExvYWRlZDogRXZlbnRFbWl0dGVyPE5vZGU+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgY29uc3RydWN0b3IoZm9ybVNlcnZpY2U6IEZvcm1TZXJ2aWNlKSB7XG4gICAgICAgIHN1cGVyKGZvcm1TZXJ2aWNlKTtcbiAgICB9XG5cbiAgICBvbk5vZGVDb250ZW50TG9hZGVkKG5vZGU6IE5vZGUpIHtcbiAgICAgICAgdGhpcy5ub2RlQ29udGVudExvYWRlZC5lbWl0KG5vZGUpO1xuICAgIH1cbn1cbiJdfQ==