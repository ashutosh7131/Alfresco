{"version":3,"file":"ngx-monaco-editor.js","sources":["ngx-monaco-editor/lib/base-editor.ts","ngx-monaco-editor/lib/config.ts","ngx-monaco-editor/lib/editor.component.ts","ngx-monaco-editor/lib/diff-editor.component.ts","ngx-monaco-editor/lib/editor.module.ts","ngx-monaco-editor/lib/types.ts"],"names":["tslib_1.__extends"],"mappings":";;;;;;;;;;AAAA;;;;;AAAiB,IAIb,YAAY,GAAG,KAAK;AACxB;AAAiB,IAAb,WAA0B;AAC9B;AAAI;AAAa;AAEjB;AAA8C,IAO5C,oBAAsB,MAA6B;AAAI,QAAjC,WAAM,GAAN,MAAM,CAAuB;AAAC,QAL1C,WAAM,GAAG,IAAI,YAAY,EAAO,CAAC;AAC7C,KAIyD;AACzD;AACO;AAAmB;AACpB,IADJ,oCAAe;AAAO;AACT;AAAQ,IADrB;AAAc,QAAd,iBAsCC;AACH,QAtCI,IAAI,YAAY,EAAE;AACtB;AACM,YAAA,WAAW,CAAC,IAAI;AAAM;AACJ;AACxB,YAFuB;AACjB,gBAAE,KAAI,CAAC,UAAU,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;AACvC,aAAO,EAAC,CAAC;AACT,SAAK;AAAC,aAAK;AACX,YAAM,YAAY,GAAG,IAAI,CAAC;AAC1B,YAAM,WAAW,GAAG,IAAI,OAAO;AAAM;AACxB;AAA2B;AAAgB,YADlB,UAAC,OAAY;AAAI;AACzB,oBAAhB,OAAO,GAAG,KAAI,CAAC,MAAM,CAAC,OAAO,IAAI,UAAU;AACzD,gBAAQ,IAAI,QAAQ,oBAAM,MAAM,IAAE,MAAM,CAAC,KAAK,QAAQ,EAAE;AACxD,oBAAU,OAAO,EAAE,CAAC;AACpB,oBAAU,OAAO;AACjB,iBAAS;AACT;AAAiC,oBAAnB,cAAc;AAAQ;AACb;AACL,gBAFkB;AAC9B;AACU,oBAAN,oBAAM,MAAM,IAAE,OAAO,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,EAAE,IAAI,EAAK,OAAO,eAAY,EAAE,EAAE,CAAC,CAAC;AACpF,oBAAU,oBAAM,MAAM,IAAE,OAAO,CAAC,CAAC,uBAAuB,CAAC;AAAO;AAChC;AAAwB,oBADG;AACrD,wBAAM,IAAI,OAAO,KAAI,CAAC,MAAM,CAAC,YAAY,KAAK,UAAU,EAAE;AAChE,4BAAc,KAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;AACzC,yBAAa;AACb,wBAAY,KAAI,CAAC,UAAU,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;AAC3C,wBAAY,OAAO,EAAE,CAAC;AACtB,qBAAW,EAAC,CAAC;AACb,iBAAS,CAAA;AACT;AAEO,gBAAC,IAAI,CAAC,oBAAM,MAAM,IAAE,OAAO,EAAE;AACpC;AAAqC,wBAArB,YAAY,GAAsB,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC;AAClF,oBAAU,YAAY,CAAC,IAAI,GAAG,iBAAiB,CAAC;AAChD,oBAAU,YAAY,CAAC,GAAG,GAAM,OAAO,yBAAsB,CAAC;AAC9D,oBAAU,YAAY,CAAC,gBAAgB,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;AAChE,oBAAU,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;AAClD,iBAAS;AAAC,qBAAK;AACf,oBAAU,cAAc,EAAE,CAAC;AAC3B,iBAAS;AACT,aAAO,EAAC,CAAC;AACT,SAAK;AACL,KAAG;AAEH;AAAQ;AAAmB;AAAQ,IAEjC,gCAAW;AACX;AAAmB;AAAQ,IAD3B;AAAc,QACZ,IAAI,IAAI,CAAC,yBAAyB,EAAE;AACxC,YAAM,IAAI,CAAC,yBAAyB,CAAC,WAAW,EAAE,CAAC;AACnD,SAAK;AACL,QAAI,IAAI,IAAI,CAAC,OAAO,EAAE;AACtB,YAAM,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;AAC7B,YAAM,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;AAC/B,SAAK;AACL,KAAG;AACF;AACgC,mCA5D9B,SAAS,SAAC,iBAAiB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;AAAO,yBACpD,MAAM;AAAI;;;;;;;;AAAM;AAAC,IA0DpB,iBAAC;AACA,CA7DD,IA4DC;AACD;AAAa;AAAqB,IA5DhC,sCAA6E;AAC/E;AAAqB,IAAnB,4BAA2C;AAC7C;AAAQ;AAAiB;AACR;AAAQ,IADvB,6BAAuB;AACzB;AAAQ;AAAiB;AACT;AAAQ,IADtB,8BAAwB;AAC1B;AAAQ;AAAiB;AAAkB;AAAQ,IAAjD,+CAAkD;AACpD;AACO;AAAiB;AAAkB;AAAQ,IAApC,4BAAuC;AAAC;AAEnD;AAAiB;AACV;AACE;AAAmB;AAAQ,IAsCrC,yDAAkD;AACpD;AACC;AAAC;AAAI;AACgB;AAKpB;ACjEF;AAEA,IAAa,wBAAwB,GAAG,IAAI,cAAc,CAAC,0BAA0B,CAAC;AACtF;AACG;AAAW;AAAd,oCAIC;AACD;AAAa;AAA+B,IAJ1C,wCAAiB;AACnB;AAA+B,IAA7B,+CAAyC;AAC3C;AAEE,IAFA,6CAAwB;AAC1B;AACA;AAAC;AAAI;AAAkC;AAAsI;AAAI;AAAyD,ICmBrMA,mCAAU;AAAC,IA4B9C,yBAAoB,IAAY,EAA4C,YAAmC;AACjH,QADE,YACE,kBAAM,YAAY,CAAC,SACpB;AACH,QAHsB,UAAI,GAAJ,IAAI,CAAQ;AAAC,QAA2C,kBAAY,GAAZ,YAAY,CAAuB;AAAC,QA3BxG,YAAM,GAAW,EAAE,CAAC;AAC9B,QACE,qBAAe;AAAQ;AACZ;AAEF;AACR,QAJiB,UAAC,CAAM,KAAO,EAAC;AACnC,QAAE,eAAS;AAAQ;AAEF;AACR,QAHK,eAAQ,EAAC;AACvB;AAEC,KAuBE;AACH,IAzBE,sBACI,oCAAO;AAAI;AACb;AAAuB;AAAY,QAOrC;AAAc,YACZ,OAAO,IAAI,CAAC,QAAQ,CAAC;AACzB,SAAG;AAEH;AAAiB;AACY;AACd;AAAY,QAfzB,UACY,OAAY;AAC1B,YAAI,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;AAC3E,YAAI,IAAI,IAAI,CAAC,OAAO,EAAE;AACtB,gBAAM,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;AAC7B,gBAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AAC/B,aAAK;AACL,SAAG;AAEH;AACG;AAEH,OALG;AACH,IAKE,sBACI,kCAAK;AAAI;AAAiB;AACT;AACT;AACZ,QAJA,UACU,KAAqB;AACjC,YAAI,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;AAC/B,YAAI,IAAI,IAAI,CAAC,OAAO,EAAE;AACtB,gBAAM,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;AAC7B,gBAAM,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACpC,aAAK;AACL,SAAG;AAEH;AAA0B;AAA2B,OAFlD;AACH;AACO;AAAwB;AAAmB;AAAQ,IAIxD,oCAAU;AAAO;AACT;AAAmB;AACvB,IAFJ,UAAW,KAAU;AAAI,QAAzB,iBAQC;AACH,QARI,IAAI,CAAC,MAAM,GAAG,KAAK,IAAI,EAAE,CAAC;AAC9B;AACI,QAAA,UAAU;AAAM;AACA;AAAY,QADjB;AACT,YAAA,IAAI,KAAI,CAAC,OAAO,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,EAAE;AAC/C,gBAAQ,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC;AAC3C,aAAO;AACP,SAAK,EAAC,CAAC;AACP,KAAG;AAEH;AAAQ;AAAqB;AACjB;AAAQ,IADlB,0CAAgB;AAAO;AACf;AAAmB;AAG5B,IAJC,UAAiB,EAAO;AAAI,QAC1B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;AAC9B,KAAG;AAEH;AAAQ;AAAqB;AAClB;AAAQ,IADjB,2CAAiB;AAAO;AAChB;AAEV;AACO,IAJL,UAAkB,EAAO;AAAI,QAC3B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;AACxB,KAAG;AAEH;AAAQ;AAAkB;AAEpB;AAAmB;AAAQ,IAFrB,oCAAU;AAAO;AAE5B;AAA0B;AAEpB;AAAQ,IAJb,UAAqB,OAAY;AAAI,QAArC,iBAwCC;AACH;AAEsB,YAzCZ,QAAQ,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK;AACpC,QACI,IAAI,QAAQ,EAAE;AAClB;AAA6B,gBAAjB,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,EAAE,CAAC;AACnE,YAAM,IAAG,KAAK,EAAE;AAChB,gBAAQ,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;AAC9B,gBAAQ,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC5C,aAAO;AAAC,iBAAK;AACb,gBAAQ,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAClH,aAAO;AACP,SAAK;AACL,QACI,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;AACtF,QACI,IAAI,CAAC,QAAQ,EAAE;AACnB,YAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACzC,SAAK;AACL,QACI,IAAI,CAAC,OAAO,CAAC,uBAAuB;AAAM;AAC/B;AAAuB;AACjC,QAFoC,UAAC,CAAM;AAAI;AAC1B,gBAAd,KAAK,GAAG,KAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;AAC3C;AACuE,YACjE,KAAI,CAAC,IAAI,CAAC,GAAG;AAAM;AACD;AACrB,YAFiB;AACd,gBAAE,KAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;AACpC,gBAAQ,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC;AAC5B,aAAO,EAAC,CAAC;AACT,SAAK,EAAC,CAAC;AACP,QACI,IAAI,CAAC,OAAO,CAAC,qBAAqB;AAAM;AACxB;AAEpB,QAHuC;AACjC,YAAA,KAAI,CAAC,SAAS,EAAE,CAAC;AACvB,SAAK,EAAC,CAAC;AACP;AAEG,QAAC,IAAI,IAAI,CAAC,yBAAyB,EAAE;AACxC,YAAM,IAAI,CAAC,yBAAyB,CAAC,WAAW,EAAE,CAAC;AACnD,SAAK;AACL,QAAI,IAAI,CAAC,yBAAyB,GAAG,SAAS,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,SAAS;AAAM;AAAuB;AAC7F,QADiE,cAAM,OAAA,KAAI,CAAC,OAAO,CAAC,MAAM,EAAE,GAAA,EAAC,CAAC;AACxG,QAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACnC,KAAG,CA1FK;AAAC;4BApBR,SAAS,SAAC,9CAoBqB;QAnB9B,QAAQ,EAAE,lBAoBF,gBA7BqC,MAAM;WAStB,sBAC7B,QAAQ,EAAE,3CAV6C,gDAwDpB,MAAM,SAAC,wBAAwB;GA9CD,HA8CS;eAlC1E,SAAS,EAAE,CAAC,3BAkCwE;kBAjClF,OAAO,EAAE,iBAAiB,5CAkCtB,0BAvBL,KAAK,SAAC,SAAS;kBAVd,WAAW,EAAE,UAAU,zCAWtB,wBAYF,KAAK,SAAC,OAAO;AACZ;4FAxBwB,cAAM,OAAA,eAAe,GAAA,EAAC,8BAC9C,KAAK,EAAE,IAAI;QACZ,CAAC,+BAfO,iJAUR;OAMF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAqBS;AAAC,IAwEX,sBAAC;AACA,CADA,CA5FoC,UAAU,GA4F9C;AACD;AAAa;AAAQ;AAAiB;AAAgB;AAAQ,IA5F5D,iCAA4B;AAC9B;AACoB,IAAlB,0CAAiC;AACnC;AAAqB,IAAnB,oCAAqB;AACvB;AACO;AACH;AAAgB;AAAQ,IAqBd,+BAAoB;AAAC;AAAQ;AAAiB;AAAgB;AAAQ,IAAhD,uCAA6E;AAAC;AAAE;AACpH;AAAI;AAGI;AAIP;AAAI;AACY,IC3CwBA,uCAAU;AAAC,IAoClD,6BAAsD,YAAmC;AAC3F,QADE,YACE,kBAAM,YAAY,CAAC,SACpB;AACH,QAHwD,kBAAY,GAAZ,YAAY,CAAuB;AAAC;AACzE,KAChB;AACH,IAlCE,sBACI,wCAAO;AAAI;AACb;AAAuB;AAAY,QAOrC;AAAc,YACZ,OAAO,IAAI,CAAC,QAAQ,CAAC;AACzB,SAAG;AAEH;AAAiB;AACI;AAAuB;AAClC,QAfR,UACY,OAAY;AAC1B,YAAI,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;AAC3E,YAAI,IAAI,IAAI,CAAC,OAAO,EAAE;AACtB,gBAAM,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;AAC7B,gBAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AAC/B,aAAK;AACL,SAAG;AAEH;AACG;AAEH,OALG;AACH,IAKE,sBACI,8CAAa;AAAI;AAAiB;AAClB;AACV;AACZ,QAJE,UACkB,KAAsB;AAC1C,YAAI,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;AAChC,YAAI,IAAI,IAAI,CAAC,OAAO,EAAE;AACtB,gBAAM,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;AAC7B,gBAAM,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACpC,aAAK;AACL,SAAG;AAEH;AACA;AAA2B,OAHxB;AACH,IACE,sBACI,8CAAa;AAAI;AAAiB;AAClB;AACV;AACZ,QAJE,UACkB,KAAsB;AAC1C,YAAI,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;AAChC,YAAI,IAAI,IAAI,CAAC,OAAO,EAAE;AACtB,gBAAM,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;AAC7B,gBAAM,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACpC,aAAK;AACL,SAAG;AAEH;AAA0B;AAA2B,OAFlD;AACH;AACO;AAAkB;AAA0B;AAAmB;AAAQ,IAIlE,wCAAU;AAAO;AAE5B;AAA0B;AAAmB;AAAQ,IAFpD,UAAqB,OAAY;AAAI,QAArC,iBA2BC;AACH,QA1BI,IAAI,CAAC,IAAI,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;AACtD,YAAM,MAAM,IAAI,KAAK,CAAC,qEAAqE,CAAC,CAAC;AAC7F,SAAK;AACL,QACI,IAAI,CAAC,cAAc,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,IAAI,OAAO,CAAC,QAAQ,CAAC;AACpF,QAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,IAAI,OAAO,CAAC,QAAQ,CAAC;AACpF;AACwB,YAAhB,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC;AACzG;AAAyB,YAAjB,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC;AACzG,QACI,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,SAAS,GAAG,EAAE,CAAC;AACvD;AAAyB,YAAf,KAAK,GAAG,OAAO,CAAC,KAAK;AAC/B,QAAI,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;AAChG,QAAI,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;AAC1B,QAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;AAC1B,YAAM,QAAQ,EAAE,aAAa;AAC7B,YAAM,QAAQ,EAAE,aAAa;AAC7B,SAAK,CAAC,CAAC;AACP;AAEG,QAAC,IAAI,IAAI,CAAC,yBAAyB,EAAE;AACxC,YAAM,IAAI,CAAC,yBAAyB,CAAC,WAAW,EAAE,CAAC;AACnD,SAAK;AACL,QAAI,IAAI,CAAC,yBAAyB,GAAG,SAAS,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,SAAS;AAAM;AAAuB;AAC7F,QADiE,cAAM,OAAA,KAAI,CAAC,OAAO,CAAC,MAAM,EAAE,GAAA,EAAC,CAAC;AACxG,QAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACnC,KAAG,CAnEK;AAAC;gCAfR,SAAS,SAAC,lDAeqB;QAd9B,QAAQ,EAAE,wBAAwB,sBAClC,QAAQ,EAAE,1EAgBN,gDAiCS,MAAM,SAAC,wBAAwB;AAAQ;wBAjDa,xBAiDH;YAhDrD,ZAiDC,0BAhCT,KAAK,SAAC,SAAS;AACb,gCAYF,KAAK,SAAC,eAAe;iCApBrB,mBACF,pDAoBI,gCAQF,KAAK,SAAC,eAAe;AACpB;;;;;;;;;;;;;;;;;;;;;;;;oBAAM;AAAC,IAyCX,0BAAC;AACA,CADA,CArEwC,UAAU,GAqElD;AACD;AAAa;AAAqB,IApEhC,6CAAgC;AAClC;AAAqB,IAAnB,6CAAgC;AAClC;AACO;AACH;AAAgB;AAAQ,IA8Bd,2CAA6E;AAAC;AAAE;AAC9F;AAAI;AAGI;AAGgC;ACjExC;AACM,IAMN;AAEO,KAoBN;AACD;AAAQ;AAA0B;AAAmB;AAAQ,IAT7C,0BAAO;AAAO;AAA0B;AAAmB;AAAQ,IAAjF,UAAsB,MAAkC;AAAI,QAAtC,uBAAA,EAAA,WAAkC;AAAI,QAC1D,OAAO;AACX,YAAM,QAAQ,EAAE,kBAAkB;AAClC,YAAM,SAAS,EAAE;AACjB,gBAAQ,EAAE,OAAO,EAAE,wBAAwB,EAAE,QAAQ,EAAE,MAAM,EAAE;AAC/D,aAAO;AACP,SAAK,CAAC;AACN,KAAG;sDArBF,QAAQ,SAAC;YACR,OAAO,EAAE,0BACP,YAAY,sBACb,sBACD,YAAY,EAAE,0BACZ;CAAe;EACf;MAAmB,sBACpB,sBACD,OAAO,EAAE,0BACP,eAAe,0BACf,mBAAmB,sBACpB,kBACF;;;;;;;;;;;;;;;;gDACQ;AAAC,IASV,yBAAC;AACA,CAvBD;AAAK;AAAC;AAAI;AAGR;AASD;AACC;AAAI;AAAW;ACnBjB,8BAGC;AACD;AAAa;AACb,IAJI,+BAAa;AACjB;AAAqB,IAAjB,mCAAiB;AACrB;AACA;AAAI;AAAW;AAAf,6BAIC;AACD;AAAa;AAAqB,IAJ9B,+BAAc;AAClB;AACQ,IADJ,kCAAkB;AACtB;AAEc,IAFV,6BAAU;AACd;AACA;AAAC;AAAI;AAAkC;AAAsI;AAAI;AAAC;AAAI;AAAkC;AAAsI;AAAI;AAAC;AAAuH","sourcesContent":["import { AfterViewInit, ElementRef, EventEmitter, Input, OnDestroy, Output, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { NgxMonacoEditorConfig } from './config';\n\nlet loadedMonaco = false;\nlet loadPromise: Promise<void>;\ndeclare const require: any;\n\nexport abstract class BaseEditor implements AfterViewInit, OnDestroy {\n  @ViewChild('editorContainer', { static: true }) _editorContainer: ElementRef;\n  @Output() onInit = new EventEmitter<any>();\n  protected _editor: any;\n  protected _options: any;\n  protected _windowResizeSubscription: Subscription;\n\n  constructor(protected config: NgxMonacoEditorConfig) {}\n\n  ngAfterViewInit(): void {\n    if (loadedMonaco) {\n      // Wait until monaco editor is available\n      loadPromise.then(() => {\n        this.initMonaco(this._options);\n      });\n    } else {\n      loadedMonaco = true;\n      loadPromise = new Promise<void>((resolve: any) => {\n        const baseUrl = this.config.baseUrl || './assets';\n        if (typeof ((<any>window).monaco) === 'object') {\n          resolve();\n          return;\n        }\n        const onGotAmdLoader: any = () => {\n          // Load monaco\n          (<any>window).require.config({ paths: { 'vs': `${baseUrl}/monaco/vs` } });\n          (<any>window).require(['vs/editor/editor.main'], () => {\n            if (typeof this.config.onMonacoLoad === 'function') {\n              this.config.onMonacoLoad();\n            }\n            this.initMonaco(this._options);\n            resolve();\n          });\n        };\n\n        // Load AMD loader if necessary\n        if (!(<any>window).require) {\n          const loaderScript: HTMLScriptElement = document.createElement('script');\n          loaderScript.type = 'text/javascript';\n          loaderScript.src = `${baseUrl}/monaco/vs/loader.js`;\n          loaderScript.addEventListener('load', onGotAmdLoader);\n          document.body.appendChild(loaderScript);\n        } else {\n          onGotAmdLoader();\n        }\n      });\n    }\n  }\n\n  protected abstract initMonaco(options: any): void;\n\n  ngOnDestroy() {\n    if (this._windowResizeSubscription) {\n      this._windowResizeSubscription.unsubscribe();\n    }\n    if (this._editor) {\n      this._editor.dispose();\n      this._editor = undefined;\n    }\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const NGX_MONACO_EDITOR_CONFIG = new InjectionToken('NGX_MONACO_EDITOR_CONFIG');\n\nexport interface NgxMonacoEditorConfig {\n  baseUrl?: string;\n  defaultOptions?: { [key: string]: any; },\n  onMonacoLoad?: Function;\n}\n","import { Component, forwardRef, Inject, Input, NgZone } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { fromEvent } from 'rxjs';\n\nimport { BaseEditor } from './base-editor';\nimport { NGX_MONACO_EDITOR_CONFIG, NgxMonacoEditorConfig } from './config';\nimport { NgxEditorModel } from './types';\n\n@Component({\n  selector: 'ngx-monaco-editor',\n  template: '<div class=\"editor-container\" #editorContainer></div>',\n  styles: [`\n    :host {\n      display: block;\n      height: 200px;\n    }\n\n    .editor-container {\n      width: 100%;\n      height: 98%;\n    }\n  `],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => EditorComponent),\n    multi: true\n  }]\n})\nexport class EditorComponent extends BaseEditor implements ControlValueAccessor {\n  private _value: string = '';\n\n  propagateChange = (_: any) => {};\n  onTouched = () => {};\n\n  @Input('options')\n  set options(options: any) {\n    this._options = Object.assign({}, this.config.defaultOptions, options);\n    if (this._editor) {\n      this._editor.dispose();\n      this.initMonaco(options);\n    }\n  }\n\n  get options(): any {\n    return this._options;\n  }\n\n  @Input('model')\n  set model(model: NgxEditorModel) {\n    this.options.model = model;\n    if (this._editor) {\n      this._editor.dispose();\n      this.initMonaco(this.options);\n    }\n  }\n\n  constructor(private zone: NgZone, @Inject(NGX_MONACO_EDITOR_CONFIG) private editorConfig: NgxMonacoEditorConfig) {\n    super(editorConfig);\n  }\n\n  writeValue(value: any): void {\n    this._value = value || '';\n    // Fix for value change while dispose in process.\n    setTimeout(() => {\n      if (this._editor && !this.options.model) {\n        this._editor.setValue(this._value);\n      }\n    });\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  protected initMonaco(options: any): void {\n\n    const hasModel = !!options.model;\n\n    if (hasModel) {\n      const model = monaco.editor.getModel(options.model.uri || '');\n      if(model) {\n        options.model = model;\n        options.model.setValue(this._value);\n      } else {\n        options.model = monaco.editor.createModel(options.model.value, options.model.language, options.model.uri);\n      }\n    }\n\n    this._editor = monaco.editor.create(this._editorContainer.nativeElement, options);\n\n    if (!hasModel) {\n      this._editor.setValue(this._value);\n    }\n\n    this._editor.onDidChangeModelContent((e: any) => {\n      const value = this._editor.getValue();\n      \n      // value is not propagated to parent when executing outside zone.\n      this.zone.run(() => {\n        this.propagateChange(value);\n        this._value = value;\n      });\n    });\n\n    this._editor.onDidBlurEditorWidget(() => {\n      this.onTouched();\n    });\n\n    // refresh layout on resize event.\n    if (this._windowResizeSubscription) {\n      this._windowResizeSubscription.unsubscribe();\n    }\n    this._windowResizeSubscription = fromEvent(window, 'resize').subscribe(() => this._editor.layout());\n    this.onInit.emit(this._editor);\n  }\n\n}\n","import { Component, Inject, Input } from '@angular/core';\nimport { fromEvent } from 'rxjs';\n\nimport { BaseEditor } from './base-editor';\nimport { NGX_MONACO_EDITOR_CONFIG, NgxMonacoEditorConfig } from './config';\nimport { DiffEditorModel } from './types';\n\n@Component({\n  selector: 'ngx-monaco-diff-editor',\n  template: '<div class=\"editor-container\" #editorContainer></div>',\n  styles: [`\n    :host {\n      display: block;\n      height: 200px;\n    }\n\n    .editor-container {\n      width: 100%;\n      height: 98%;\n    }\n  `]\n})\nexport class DiffEditorComponent extends BaseEditor {\n\n  _originalModel: DiffEditorModel;\n  _modifiedModel: DiffEditorModel;\n\n  @Input('options')\n  set options(options: any) {\n    this._options = Object.assign({}, this.config.defaultOptions, options);\n    if (this._editor) {\n      this._editor.dispose();\n      this.initMonaco(options);\n    }\n  }\n\n  get options(): any {\n    return this._options;\n  }\n\n  @Input('originalModel')\n  set originalModel(model: DiffEditorModel) {\n    this._originalModel = model;\n    if (this._editor) {\n      this._editor.dispose();\n      this.initMonaco(this.options);\n    }\n  }\n\n  @Input('modifiedModel')\n  set modifiedModel(model: DiffEditorModel) {\n    this._modifiedModel = model;\n    if (this._editor) {\n      this._editor.dispose();\n      this.initMonaco(this.options);\n    }\n  }\n\n  constructor(@Inject(NGX_MONACO_EDITOR_CONFIG) private editorConfig: NgxMonacoEditorConfig) {\n    super(editorConfig);\n  }\n\n  protected initMonaco(options: any): void {\n\n    if (!this._originalModel || !this._modifiedModel) {\n      throw new Error('originalModel or modifiedModel not found for ngx-monaco-diff-editor');\n    }\n\n    this._originalModel.language = this._originalModel.language || options.language;\n    this._modifiedModel.language = this._modifiedModel.language || options.language;\n\n    let originalModel = monaco.editor.createModel(this._originalModel.code, this._originalModel.language);\n    let modifiedModel = monaco.editor.createModel(this._modifiedModel.code, this._modifiedModel.language);\n\n    this._editorContainer.nativeElement.innerHTML = '';\n    const theme = options.theme;\n    this._editor = monaco.editor.createDiffEditor(this._editorContainer.nativeElement, options);\n    options.theme = theme;\n    this._editor.setModel({\n      original: originalModel,\n      modified: modifiedModel\n    });\n\n    // refresh layout on resize event.\n    if (this._windowResizeSubscription) {\n      this._windowResizeSubscription.unsubscribe();\n    }\n    this._windowResizeSubscription = fromEvent(window, 'resize').subscribe(() => this._editor.layout());\n    this.onInit.emit(this._editor);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\n\nimport { NGX_MONACO_EDITOR_CONFIG, NgxMonacoEditorConfig } from './config';\nimport { DiffEditorComponent } from './diff-editor.component';\nimport { EditorComponent } from './editor.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    EditorComponent,\n    DiffEditorComponent\n  ],\n  exports: [\n    EditorComponent,\n    DiffEditorComponent\n  ]\n})\nexport class MonacoEditorModule {\n  public static forRoot(config: NgxMonacoEditorConfig = {}): ModuleWithProviders<MonacoEditorModule> {\n    return {\n      ngModule: MonacoEditorModule,\n      providers: [\n        { provide: NGX_MONACO_EDITOR_CONFIG, useValue: config }\n      ]\n    };\n  }\n}\n","/// <reference path=\"monaco.d.ts\" />\nexport interface DiffEditorModel {\n    code: string;\n    language: string;\n}\nexport interface NgxEditorModel {\n    value: string;\n    language?: string;\n    uri?: any;\n}\n"]}